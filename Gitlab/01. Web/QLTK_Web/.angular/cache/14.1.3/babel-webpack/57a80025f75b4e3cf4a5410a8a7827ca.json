{"ast":null,"code":"import { CreateDesignStructureComponent } from '../create-design-structure/create-design-structure.component';\nimport { DxTreeListComponent } from 'devextreme-angular';\nimport { CreateDesignStructureFileComponent } from '../create-design-structure-file/create-design-structure-file.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"../services/designstructure-service\";\nimport * as i3 from \"src/app/shared\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../shared/directives/uipermission.directive\";\nimport * as i7 from \"../../shared/directives/disablepermission.directive\";\nimport * as i8 from \"../../shared/component/nts-drop-down/nts-drop-down.component\";\nimport * as i9 from \"ngx-perfect-scrollbar\";\nimport * as i10 from \"devextreme-angular/core\";\nimport * as i11 from \"devextreme-angular/ui/nested\";\nimport * as i12 from \"devextreme-angular/ui/tree-list\";\n\nfunction DesignStructureManagerComponent_option_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r6.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r6.Name, \" \");\n  }\n}\n\nfunction DesignStructureManagerComponent_option_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r7.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r7.Name, \" \");\n  }\n}\n\nfunction DesignStructureManagerComponent_button_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function DesignStructureManagerComponent_button_37_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.showCreateUpdate(\"\"));\n    });\n    i0.ɵɵelement(1, \"i\", 38);\n    i0.ɵɵtext(2, \" \\u00A0Th\\u00EAm c\\u1EA5u h\\u00ECnh\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DesignStructureManagerComponent_button_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function DesignStructureManagerComponent_button_39_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.showCreateUpdateFile(\"\"));\n    });\n    i0.ɵɵelement(1, \"i\", 38);\n    i0.ɵɵtext(2, \" \\u00A0Th\\u00EAm file\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r3.parentId);\n  }\n}\n\nfunction DesignStructureManagerComponent_div_46_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function DesignStructureManagerComponent_div_46_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const cell_r12 = i0.ɵɵnextContext().$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.showCreateUpdate(cell_r12.value));\n    });\n    i0.ɵɵelement(1, \"span\", 43);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DesignStructureManagerComponent_div_46_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function DesignStructureManagerComponent_div_46_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const cell_r12 = i0.ɵɵnextContext().$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.showConfirmDeleteDesignStructure(cell_r12.value));\n    });\n    i0.ɵɵelement(1, \"span\", 45);\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [\"F090003\", \"F090005\", \"F090006\"];\n};\n\nconst _c1 = function () {\n  return [\"F090004\"];\n};\n\nfunction DesignStructureManagerComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, DesignStructureManagerComponent_div_46_button_1_Template, 2, 0, \"button\", 40);\n    i0.ɵɵtext(2, \" \\u00A0 \");\n    i0.ɵɵtemplate(3, DesignStructureManagerComponent_div_46_button_3_Template, 2, 0, \"button\", 41);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(2, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(3, _c1));\n  }\n}\n\nfunction DesignStructureManagerComponent_tbody_62_tr_1_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function DesignStructureManagerComponent_tbody_62_tr_1_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      const row_r22 = ctx_r28.$implicit;\n      const i_r23 = ctx_r28.index;\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.showConfirmDeleteRow(row_r22.Id, i_r23));\n    });\n    i0.ɵɵelement(1, \"span\", 45);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DesignStructureManagerComponent_tbody_62_tr_1_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function DesignStructureManagerComponent_tbody_62_tr_1_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const row_r22 = i0.ɵɵnextContext().$implicit;\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.showCreateUpdateFile(row_r22.Id));\n    });\n    i0.ɵɵelement(1, \"span\", 43);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DesignStructureManagerComponent_tbody_62_tr_1_ng_container_6_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function DesignStructureManagerComponent_tbody_62_tr_1_ng_container_6_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const row_r22 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r34.DownloadAFile(row_r22.Path));\n    });\n    i0.ɵɵelement(1, \"span\", 56);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DesignStructureManagerComponent_tbody_62_tr_1_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, DesignStructureManagerComponent_tbody_62_tr_1_ng_container_6_button_1_Template, 2, 0, \"button\", 54);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const row_r22 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r22.Path);\n  }\n}\n\nconst _c2 = function () {\n  return [\"F090003\", \"F090002\"];\n};\n\nfunction DesignStructureManagerComponent_tbody_62_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 47);\n    i0.ɵɵtemplate(2, DesignStructureManagerComponent_tbody_62_tr_1_button_2_Template, 2, 0, \"button\", 48);\n    i0.ɵɵtext(3, \"\\u00A0 \");\n    i0.ɵɵtemplate(4, DesignStructureManagerComponent_tbody_62_tr_1_button_4_Template, 2, 0, \"button\", 40);\n    i0.ɵɵtext(5, \"\\u00A0 \");\n    i0.ɵɵtemplate(6, DesignStructureManagerComponent_tbody_62_tr_1_ng_container_6_Template, 2, 1, \"ng-container\", 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 47)(10, \"div\", 50)(11, \"input\", 51);\n    i0.ɵɵlistener(\"ngModelChange\", function DesignStructureManagerComponent_tbody_62_tr_1_Template_input_ngModelChange_11_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const row_r22 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(row_r22.Exist = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"label\", 52);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\", 47)(14, \"div\", 50)(15, \"input\", 51);\n    i0.ɵɵlistener(\"ngModelChange\", function DesignStructureManagerComponent_tbody_62_tr_1_Template_input_ngModelChange_15_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const row_r22 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(row_r22.IsTemplate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"label\", 52);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\", 47)(18, \"div\", 50)(19, \"input\", 51);\n    i0.ɵɵlistener(\"ngModelChange\", function DesignStructureManagerComponent_tbody_62_tr_1_Template_input_ngModelChange_19_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const row_r22 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(row_r22.IsInsertData = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"label\", 52);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const row_r22 = ctx.$implicit;\n    const i_r23 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(16, _c1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(17, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(18, _c2));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r22.Name, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", row_r22.Exist)(\"id\", \"a\" + i_r23)(\"name\", \"a\" + i_r23);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"a\" + i_r23);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", row_r22.IsTemplate)(\"id\", \"b\" + i_r23)(\"name\", \"b\" + i_r23);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"b\" + i_r23);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", row_r22.IsInsertData)(\"id\", \"c\" + i_r23)(\"name\", \"c\" + i_r23);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"c\" + i_r23);\n  }\n}\n\nfunction DesignStructureManagerComponent_tbody_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, DesignStructureManagerComponent_tbody_62_tr_1_Template, 21, 19, \"tr\", 46);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.listFile);\n  }\n}\n\nconst _c3 = function () {\n  return [\"F090006\"];\n};\n\nconst _c4 = function () {\n  return [\"F090003\", \"F090002\", \"F090005\", \"F090006\"];\n};\n\nconst _c5 = function () {\n  return [\"F090002\"];\n};\n\nconst _c6 = function () {\n  return [1];\n};\n\nexport let DesignStructureManagerComponent = /*#__PURE__*/(() => {\n  class DesignStructureManagerComponent {\n    constructor(activeModal, designStructureService, messageService, constant, modalService, config, comboboxService, permissionService) {\n      this.activeModal = activeModal;\n      this.designStructureService = designStructureService;\n      this.messageService = messageService;\n      this.constant = constant;\n      this.modalService = modalService;\n      this.config = config;\n      this.comboboxService = comboboxService;\n      this.permissionService = permissionService;\n      this.isAction = false;\n      this.listDesignStructure = [];\n      this.columnNameSBU = [{\n        Name: 'Code',\n        Title: 'Mã SBU'\n      }, {\n        Name: 'Name',\n        Title: 'Tên SBU'\n      }];\n      this.columnNameDepartment = [{\n        Name: 'Code',\n        Title: 'Mã Phòng ban'\n      }, {\n        Name: 'Name',\n        Title: 'Tên Phòng ban'\n      }];\n      this.listSBU = [];\n      this.listDepartment = [];\n      this.model = {\n        SBUId: '',\n        DepartmentId: '',\n        Type: 1,\n        ObjectType: 1\n      };\n      this.modelFile = {\n        Id: '',\n        DesignStructureId: '',\n        Name: '',\n        Description: '',\n        Exist: false\n      };\n      this.listFile = [];\n      this.isChecked = false;\n    }\n\n    ngOnInit() {\n      let currentUser = JSON.parse(localStorage.getItem('qltkcurrentUser'));\n\n      if (currentUser) {\n        this.getCBBSBU();\n        this.model.SBUId = currentUser.sbuId;\n        this.model.DepartmentId = currentUser.departmentId;\n        this.getCBBDepartment();\n      }\n\n      this.searchDesignStructure();\n    }\n\n    closeModal(isOK) {\n      this.activeModal.close(isOK ? isOK : this.isAction);\n    }\n\n    getCBBSBU() {\n      this.comboboxService.getCbbSBU().subscribe(data => {\n        if (data) {\n          this.listSBU = data;\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    getCBBDepartment() {\n      this.comboboxService.getCbbDepartmentBySBU(this.model.SBUId).subscribe(data => {\n        if (data) {\n          this.listDepartment = data;\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    searchDesignStructure() {\n      this.designStructureService.searchDesignStructure(this.model).subscribe(data => {\n        if (data.ListResult) {\n          this.listDesignStructure = data.ListResult;\n          this.treeView.selectedRowKeys = [this.parentId];\n\n          for (var i = 0; i < this.listDesignStructure.length; i++) {\n            if (this.listDesignStructure[i].Id == this.treeView.selectedRowKeys) {\n              this.listFile = this.listDesignStructure[i].ListFile;\n            }\n          }\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    showCreateUpdate(id) {\n      let activeModal = this.modalService.open(CreateDesignStructureComponent, {\n        container: 'body',\n        windowClass: 'createdesignstructure-modal',\n        backdrop: 'static'\n      });\n      activeModal.componentInstance.id = id;\n      activeModal.componentInstance.parentId = this.parentId;\n      activeModal.componentInstance.type = this.model.Type;\n      activeModal.componentInstance.objectType = this.model.ObjectType;\n      activeModal.result.then(result => {\n        if (result) {\n          this.searchDesignStructure();\n        }\n      }, reason => {});\n    }\n\n    showCreateUpdateFile(id) {\n      let activeModal = this.modalService.open(CreateDesignStructureFileComponent, {\n        container: 'body',\n        windowClass: 'createdesignstructure-modal',\n        backdrop: 'static'\n      });\n      activeModal.componentInstance.parentId = this.parentId;\n      activeModal.componentInstance.id = id;\n      activeModal.result.then(result => {\n        if (result) {\n          this.searchDesignStructure();\n        }\n      }, reason => {});\n    }\n\n    addRow() {\n      if (this.modelFile.Name) {\n        this.designStructureService.createDesignStructureFile(this.modelFile).subscribe(data => {\n          this.messageService.showSuccess('Tạo file thành công!');\n          this.listFile.push(this.modelFile);\n          this.modelFile = {\n            Id: '',\n            DesignStructureId: '',\n            Name: '',\n            Description: '',\n            Exist: false\n          };\n          this.modelFile.DesignStructureId = this.parentId;\n          this.searchDesignStructure();\n        }, error => {\n          this.messageService.showError(error);\n        });\n      } else {\n        this.messageService.showMessage(\"Bạn chưa nhập tên file!\");\n      }\n    }\n\n    updateDesignStructureFile(model) {\n      this.designStructureService.updateDesignStructureFile(model).subscribe(() => {\n        this.messageService.showSuccess('Sửa file thành công!');\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    DownloadAFile(path) {\n      if (!path) {\n        this.messageService.showError(\"Không có file để tải\");\n      }\n\n      var link = document.createElement('a');\n      link.setAttribute(\"type\", \"hidden\");\n      link.href = this.config.ServerFileApi + path;\n      link.download = \"aaaaa\";\n      document.body.appendChild(link); // link.focus();\n\n      link.click();\n      document.body.removeChild(link);\n    }\n\n    showConfirmDeleteRow(id, index) {\n      this.messageService.showConfirm(\"Bạn có chắc muốn xoá file này không?\").then(data => {\n        this.deleteDesignStructureFile(id, index);\n      }, error => {});\n    }\n\n    deleteDesignStructureFile(id, index) {\n      this.designStructureService.deleteDesignStructureFile({\n        Id: id\n      }).subscribe(data => {\n        this.messageService.showSuccess('Xóa file thành công!');\n        this.searchDesignStructure();\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    onSelectionChanged(e) {\n      this.parentId = e.selectedRowKeys[0];\n      this.listFile = e.selectedRowsData[0].ListFile;\n      this.modelFile.DesignStructureId = e.selectedRowKeys[0];\n    }\n\n    showConfirmDeleteDesignStructure(Id) {\n      this.messageService.showConfirm(\"Bạn có chắc muốn xoá thư mục này không?\").then(data => {\n        this.deleteDesignStructure(Id);\n      }, error => {});\n    }\n\n    deleteDesignStructure(Id) {\n      this.designStructureService.deleteDesignStructure({\n        Id: Id\n      }).subscribe(data => {\n        this.searchDesignStructure();\n        this.messageService.showSuccess('Xóa thư mục thành công!');\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n  }\n\n  DesignStructureManagerComponent.ɵfac = function DesignStructureManagerComponent_Factory(t) {\n    return new (t || DesignStructureManagerComponent)(i0.ɵɵdirectiveInject(i1.NgbActiveModal), i0.ɵɵdirectiveInject(i2.DesignStructureService), i0.ɵɵdirectiveInject(i3.MessageService), i0.ɵɵdirectiveInject(i3.Constants), i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i3.Configuration), i0.ɵɵdirectiveInject(i3.ComboboxService), i0.ɵɵdirectiveInject(i3.PermissionService));\n  };\n\n  DesignStructureManagerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DesignStructureManagerComponent,\n    selectors: [[\"app-design-structure-manager\"]],\n    viewQuery: function DesignStructureManagerComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(DxTreeListComponent, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.treeView = _t.first);\n      }\n    },\n    decls: 69,\n    vars: 33,\n    consts: [[1, \"modal-header\"], [1, \"modal-title\", \"text-uppercase\", \"text-danger\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\", \"padding-15\"], [1, \"row\"], [1, \"col-xl-3\", \"col-lg-3\", \"col-md-3\", \"col-sm-12\"], [1, \"form-group\"], [1, \"form-label\"], [1, \"controls\"], [1, \"input-group\", 3, \"disUipermission\"], [\"ntsValue\", \"Id\", \"ntsLabel\", \"Name\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"SBUId\", \"placeholder\", \"Ch\\u1ECDn SBU\", 3, \"items\", \"columns\", \"ngModel\", \"ngModelChange\"], [\"ntsValue\", \"Id\", \"ntsLabel\", \"Name\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"DepartmentId\", \"placeholder\", \"Ch\\u1ECDn Ph\\u00F2ng ban\", 3, \"items\", \"columns\", \"ngModel\", \"ngModelChange\"], [1, \"col-xl-3\", \"col-lg-3\", \"col-md-3\", \"col-sm-3\"], [\"name\", \"ObjectType\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"Type\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\", \"change\"], [1, \"col-xl-12\", \"col-lg-12\", \"col-md-12\", \"col-sm-12\", \"text-right\", \"margin-top-20\"], [\"class\", \"btn btn-success btn-success-system\", 3, \"click\", 4, \"appUipermission\"], [\"class\", \"btn btn-success btn-success-system\", 3, \"disabled\", \"click\", 4, \"appUipermission\"], [1, \"col-xl-4\", \"col-lg-4\", \"col-md-4\", \"col-sm-4\"], [\"id\", \"employees\", \"keyExpr\", \"Id\", \"parentIdExpr\", \"ParentId\", \"noDataText\", \"\", \"height\", \"500px\", 3, \"dataSource\", \"showRowLines\", \"showBorders\", \"columnAutoWidth\", \"expandedRowKeys\", \"autoExpandAll\", \"onSelectionChanged\"], [\"mode\", \"single\"], [\"dataField\", \"Name\", \"caption\", \"T\\u00EAn th\\u01B0 m\\u1EE5c\"], [\"dataField\", \"Id\", \"cellTemplate\", \"cellEditTemplate\", \"caption\", \"X\\u1EED l\\u00FD\", \"width\", \"100px\"], [4, \"dxTemplate\", \"dxTemplateOf\"], [1, \"col-xl-8\", \"col-lg-8\", \"col-md-8\", \"col-sm-8\"], [2, \"height\", \"auto\", \"width\", \"100%\", 3, \"config\"], [1, \"table\", \"table-bordered\", 2, \"word-wrap\", \"break-word\", \"min-width\", \"550px\"], [\"width\", \"150px\", 1, \"text-center\"], [\"min-width\", \"100px\", 1, \"text-center\"], [\"width\", \"100px\", 1, \"text-center\"], [4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"fa\", \"fa-power-off\"], [3, \"ngValue\"], [1, \"btn\", \"btn-success\", \"btn-success-system\", 3, \"click\"], [1, \"fa\", \"fa-plus\"], [1, \"btn\", \"btn-success\", \"btn-success-system\", 3, \"disabled\", \"click\"], [\"type\", \"button\", \"class\", \"btn btn-xs btn-warning\", \"placement\", \"bottom\", \"ngbTooltip\", \"C\\u1EADp nh\\u1EADt\", \"container\", \"body\", 3, \"click\", 4, \"appUipermission\"], [\"class\", \"btn btn-xs btn-danger\", \"title\", \"X\\u00F3a\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"button\", \"placement\", \"bottom\", \"ngbTooltip\", \"C\\u1EADp nh\\u1EADt\", \"container\", \"body\", 1, \"btn\", \"btn-xs\", \"btn-warning\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-edit\"], [\"title\", \"X\\u00F3a\", 1, \"btn\", \"btn-xs\", \"btn-danger\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fas\", \"fa-times\"], [4, \"ngFor\", \"ngForOf\"], [1, \"text-center\"], [\"type\", \"button\", \"class\", \"btn btn-xs btn-danger\", \"ngbTooltip\", \"X\\u00F3a\", 3, \"click\", 4, \"appUipermission\"], [4, \"appUipermission\"], [1, \"custom-control\", \"custom-checkbox\"], [\"type\", \"checkbox\", \"disabled\", \"\", 1, \"custom-control-input\", 3, \"ngModel\", \"id\", \"name\", \"ngModelChange\"], [1, \"custom-control-label\", 3, \"for\"], [\"type\", \"button\", \"ngbTooltip\", \"X\\u00F3a\", 1, \"btn\", \"btn-xs\", \"btn-danger\", 3, \"click\"], [\"style\", \"background-color: papayawhip\", \"class\", \"btn btn-xs\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-xs\", 2, \"background-color\", \"papayawhip\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-download\"]],\n    template: function DesignStructureManagerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\", 1);\n        i0.ɵɵtext(2, \"Qu\\u00E0n l\\u00FD c\\u1EA5u tr\\u00FAc th\\u01B0 m\\u1EE5c\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function DesignStructureManagerComponent_Template_button_click_3_listener() {\n          return ctx.closeModal(false);\n        });\n        i0.ɵɵelementStart(4, \"span\", 3);\n        i0.ɵɵtext(5, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 7)(10, \"label\", 8);\n        i0.ɵɵtext(11, \"SBU \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 9)(13, \"div\", 10)(14, \"nts-drop-down\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function DesignStructureManagerComponent_Template_nts_drop_down_ngModelChange_14_listener($event) {\n          return ctx.model.SBUId = $event;\n        })(\"ngModelChange\", function DesignStructureManagerComponent_Template_nts_drop_down_ngModelChange_14_listener() {\n          return ctx.getCBBDepartment();\n        });\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(15, \"div\", 6)(16, \"div\", 7)(17, \"label\", 8);\n        i0.ɵɵtext(18, \"Ph\\u00F2ng ban \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 9)(20, \"div\", 10)(21, \"nts-drop-down\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function DesignStructureManagerComponent_Template_nts_drop_down_ngModelChange_21_listener($event) {\n          return ctx.model.DepartmentId = $event;\n        })(\"ngModelChange\", function DesignStructureManagerComponent_Template_nts_drop_down_ngModelChange_21_listener() {\n          return ctx.searchDesignStructure();\n        });\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(22, \"div\", 13)(23, \"div\", 7)(24, \"label\", 8);\n        i0.ɵɵtext(25, \"Lo\\u1EA1i \\u0111\\u1ED1i t\\u01B0\\u1EE3ng c\\u1EA5u h\\u00ECnh\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 9)(27, \"select\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function DesignStructureManagerComponent_Template_select_ngModelChange_27_listener($event) {\n          return ctx.model.ObjectType = $event;\n        })(\"ngModelChange\", function DesignStructureManagerComponent_Template_select_ngModelChange_27_listener() {\n          return ctx.searchDesignStructure();\n        });\n        i0.ɵɵtemplate(28, DesignStructureManagerComponent_option_28_Template, 2, 2, \"option\", 15);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(29, \"div\", 6)(30, \"div\", 7)(31, \"label\", 8);\n        i0.ɵɵtext(32, \"Lo\\u1EA1i thi\\u1EBFt k\\u1EBF \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 9)(34, \"select\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function DesignStructureManagerComponent_Template_select_ngModelChange_34_listener($event) {\n          return ctx.model.Type = $event;\n        })(\"change\", function DesignStructureManagerComponent_Template_select_change_34_listener() {\n          return ctx.searchDesignStructure();\n        });\n        i0.ɵɵtemplate(35, DesignStructureManagerComponent_option_35_Template, 2, 2, \"option\", 15);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(36, \"div\", 17);\n        i0.ɵɵtemplate(37, DesignStructureManagerComponent_button_37_Template, 3, 0, \"button\", 18);\n        i0.ɵɵtext(38, \"\\u00A0 \");\n        i0.ɵɵtemplate(39, DesignStructureManagerComponent_button_39_Template, 3, 1, \"button\", 19);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(40, \"div\", 5)(41, \"div\", 20)(42, \"dx-tree-list\", 21);\n        i0.ɵɵlistener(\"onSelectionChanged\", function DesignStructureManagerComponent_Template_dx_tree_list_onSelectionChanged_42_listener($event) {\n          return ctx.onSelectionChanged($event);\n        });\n        i0.ɵɵelement(43, \"dxo-selection\", 22)(44, \"dxi-column\", 23);\n        i0.ɵɵelementStart(45, \"dxi-column\", 24);\n        i0.ɵɵtemplate(46, DesignStructureManagerComponent_div_46_Template, 4, 4, \"div\", 25);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(47, \"div\", 26)(48, \"perfect-scrollbar\", 27)(49, \"table\", 28)(50, \"thead\")(51, \"tr\")(52, \"th\", 29);\n        i0.ɵɵtext(53, \"C\\u1ED9t x\\u1EED l\\u00FD\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"th\", 30);\n        i0.ɵɵtext(55, \"T\\u00EAn file\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"th\", 31);\n        i0.ɵɵtext(57, \"Lu\\u00F4n t\\u1ED3n t\\u1EA1i\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"th\", 31);\n        i0.ɵɵtext(59, \"C\\u00F3 template\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"th\", 31);\n        i0.ɵɵtext(61, \"Nh\\u1EADp d\\u1EEF li\\u1EC7u\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(62, DesignStructureManagerComponent_tbody_62_Template, 2, 1, \"tbody\", 32);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(63, \"div\", 33)(64, \"button\", 34);\n        i0.ɵɵlistener(\"click\", function DesignStructureManagerComponent_Template_button_click_64_listener() {\n          return ctx.closeModal(false);\n        });\n        i0.ɵɵelement(65, \"i\", 35);\n        i0.ɵɵtext(66, \" \\u00A0 \");\n        i0.ɵɵelementStart(67, \"span\");\n        i0.ɵɵtext(68, \" \\u0110\\u00F3ng \");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(26, _c3));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"items\", ctx.listSBU)(\"columns\", ctx.columnNameSBU)(\"ngModel\", ctx.model.SBUId);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(27, _c3));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"items\", ctx.listDepartment)(\"columns\", ctx.columnNameDepartment)(\"ngModel\", ctx.model.DepartmentId);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(28, _c4))(\"ngModel\", ctx.model.ObjectType);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.constant.DesignObjectTypes);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(29, _c4))(\"ngModel\", ctx.model.Type);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.constant.DesignTypes);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(30, _c5));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(31, _c2));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"dataSource\", ctx.listDesignStructure)(\"showRowLines\", true)(\"showBorders\", true)(\"columnAutoWidth\", true)(\"expandedRowKeys\", i0.ɵɵpureFunction0(32, _c6))(\"columnAutoWidth\", true)(\"autoExpandAll\", true);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"dxTemplateOf\", \"cellEditTemplate\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"config\", ctx.constant.ScrollYConfig);\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngIf\", ctx.parentId);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.CheckboxControlValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i6.UipermissionDirective, i7.DiablePermissionDirective, i8.NTSDropDownComponent, i9.PerfectScrollbarComponent, i1.NgbTooltip, i10.DxTemplateDirective, i11.DxiColumnComponent, i11.DxoSelectionComponent, i12.DxTreeListComponent],\n    styles: [\".designstructuremanager-modal .modal-dialog{width:100%!important}@media (min-width: 576px){.designstructuremanager-modal .modal-dialog{max-width:540px!important}}@media (min-width: 768px){.designstructuremanager-modal .modal-dialog{max-width:720px!important}}@media (min-width: 992px){.designstructuremanager-modal .modal-dialog{max-width:960px!important}}@media (min-width: 1200px){.designstructuremanager-modal .modal-dialog{max-width:1140px!important}}\\n\"],\n    encapsulation: 2\n  });\n  return DesignStructureManagerComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}