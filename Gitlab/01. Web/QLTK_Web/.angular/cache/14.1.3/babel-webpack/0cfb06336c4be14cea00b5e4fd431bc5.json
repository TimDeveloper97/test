{"ast":null,"code":"import { ElementRef } from '@angular/core';\nimport * as pluginDataLabels from 'chartjs-plugin-datalabels';\nimport { ReportErrorWorkComponent } from '../report-error-work/report-error-work.component';\nimport { ReportErrorChangePlanComponent } from '../report-error-change-plan/report-error-change-plan.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared\";\nimport * as i2 from \"../service/report-error-progress.service\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nconst _c0 = [\"scrollDepartment\"];\nconst _c1 = [\"scrollDepartmentHeader\"];\nconst _c2 = [\"scrollEmployee\"];\nconst _c3 = [\"scrollEmployeeHeader\"];\nconst _c4 = [\"scrollErrorChangedPlan\"];\nconst _c5 = [\"scrollErrorChangedPlanHeader\"];\n\nconst _c6 = function (a0) {\n  return {\n    \"week-today\": a0\n  };\n};\n\nfunction ReportErrorProgressComponent_th_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r13 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c6, row_r13.IsToDay));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r13.Title);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_a_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 49);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_48_a_11_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const row_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.showErrorWork(0, row_r14.Id, row_r14, 1, true));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r14.OpeningTotal);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_a_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 49);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_48_a_14_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const row_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.showErrorWork(1, row_r14.Id, row_r14, 1, false));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r14.DelayTotal);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_ng_container_16_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 49);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_48_ng_container_16_a_2_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const item_r32 = i0.ɵɵnextContext().$implicit;\n      const row_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.showErrorWork(1, row_r14.Id, item_r32, 1, false));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r32 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r32.Value);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_ng_container_16_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\", 39);\n    i0.ɵɵtemplate(2, ReportErrorProgressComponent_ng_container_48_ng_container_16_a_2_Template, 2, 1, \"a\", 45);\n    i0.ɵɵtemplate(3, ReportErrorProgressComponent_ng_container_48_ng_container_16_span_3_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r32 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c6, item_r32.IsToDay));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r32.Value > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r32.Value);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_a_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 50);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_48_a_22_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const row_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.showErrorWork(2, row_r14.Id, row_r14, 1, false));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r14.Total);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c7 = function (a0) {\n  return {\n    \"plan-color\": a0\n  };\n};\n\nfunction ReportErrorProgressComponent_ng_container_48_ng_container_24_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_48_ng_container_24_a_2_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const item_r44 = i0.ɵɵnextContext().$implicit;\n      const row_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.showErrorWork(2, row_r14.Id, item_r44, 1, false));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r44 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c7, item_r44.IsLessToDay));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r44.Value);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_ng_container_24_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_48_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\", 39);\n    i0.ɵɵtemplate(2, ReportErrorProgressComponent_ng_container_48_ng_container_24_a_2_Template, 2, 4, \"a\", 51);\n    i0.ɵɵtemplate(3, ReportErrorProgressComponent_ng_container_48_ng_container_24_span_3_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r44 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c6, item_r44.IsToDay));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r44.Value > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r44.Value);\n  }\n}\n\nconst _c8 = function (a0) {\n  return {\n    \"selected\": a0\n  };\n};\n\nfunction ReportErrorProgressComponent_ng_container_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 40);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_48_Template_tr_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r53);\n      const i_r15 = restoredCtx.index;\n      const ctx_r52 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r52.selectDepartment(i_r15));\n    });\n    i0.ɵɵelementStart(2, \"td\", 41);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 42);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 43);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 44);\n    i0.ɵɵtext(9, \"Tr\\u1EC5 ho\\u00E0n th\\u00E0nh\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 28);\n    i0.ɵɵtemplate(11, ReportErrorProgressComponent_ng_container_48_a_11_Template, 2, 1, \"a\", 45);\n    i0.ɵɵtemplate(12, ReportErrorProgressComponent_ng_container_48_span_12_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 28);\n    i0.ɵɵtemplate(14, ReportErrorProgressComponent_ng_container_48_a_14_Template, 2, 1, \"a\", 45);\n    i0.ɵɵtemplate(15, ReportErrorProgressComponent_ng_container_48_span_15_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, ReportErrorProgressComponent_ng_container_48_ng_container_16_Template, 4, 5, \"ng-container\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"tr\", 40);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_48_Template_tr_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r53);\n      const i_r15 = restoredCtx.index;\n      const ctx_r54 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r54.selectDepartment(i_r15));\n    });\n    i0.ɵɵelementStart(18, \"td\", 44);\n    i0.ɵɵtext(19, \"Ph\\u1EA3i l\\u00E0m theo k\\u1EBF ho\\u1EA1ch\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"td\", 47);\n    i0.ɵɵelementStart(21, \"td\", 28);\n    i0.ɵɵtemplate(22, ReportErrorProgressComponent_ng_container_48_a_22_Template, 2, 1, \"a\", 48);\n    i0.ɵɵtemplate(23, ReportErrorProgressComponent_ng_container_48_span_23_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, ReportErrorProgressComponent_ng_container_48_ng_container_24_Template, 4, 5, \"ng-container\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const row_r14 = ctx.$implicit;\n    const i_r15 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c8, ctx_r4.departmentSelectIndex == i_r15));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r15 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r14.Name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", row_r14.FinishPercent, \"%\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", row_r14.OpeningTotal > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r14.OpeningTotal);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", row_r14.DelayTotal > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r14.DelayTotal);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", row_r14.DelayValues);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c8, ctx_r4.departmentSelectIndex == i_r15));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", row_r14.Total > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r14.Total);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", row_r14.PlanValues);\n  }\n}\n\nfunction ReportErrorProgressComponent_th_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r55 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c6, row_r55.IsToDay));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r55.Title);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_a_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r68 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 49);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_76_a_11_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r68);\n      const row_r56 = i0.ɵɵnextContext().$implicit;\n      const ctx_r66 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r66.showErrorWork(0, row_r56.Id, row_r56, 2, true));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r56 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r56.OpeningTotal);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_a_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r72 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 49);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_76_a_14_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r72);\n      const row_r56 = i0.ɵɵnextContext().$implicit;\n      const ctx_r70 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r70.showErrorWork(1, row_r56.Id, row_r56, 2, false));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r56 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r56.DelayTotal);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_ng_container_16_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r79 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 49);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_76_ng_container_16_a_2_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r79);\n      const item_r74 = i0.ɵɵnextContext().$implicit;\n      const row_r56 = i0.ɵɵnextContext().$implicit;\n      const ctx_r77 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r77.showErrorWork(1, row_r56.Id, item_r74, 2, false));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r74 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r74.Value);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_ng_container_16_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\", 39);\n    i0.ɵɵtemplate(2, ReportErrorProgressComponent_ng_container_76_ng_container_16_a_2_Template, 2, 1, \"a\", 45);\n    i0.ɵɵtemplate(3, ReportErrorProgressComponent_ng_container_76_ng_container_16_span_3_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r74 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c6, item_r74.IsToDay));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r74.Value > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r74.Value);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_a_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r84 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 50);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_76_a_22_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r84);\n      const row_r56 = i0.ɵɵnextContext().$implicit;\n      const ctx_r82 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r82.showErrorWork(2, row_r56.Id, row_r56, 2, false));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r56 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r56.Total);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_ng_container_24_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r91 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_76_ng_container_24_a_2_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r91);\n      const item_r86 = i0.ɵɵnextContext().$implicit;\n      const row_r56 = i0.ɵɵnextContext().$implicit;\n      const ctx_r89 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r89.showErrorWork(2, row_r56.Id, item_r86, 2, false));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r86 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c7, item_r86.IsLessToDay));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r86.Value);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_ng_container_24_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\", 39);\n    i0.ɵɵtemplate(2, ReportErrorProgressComponent_ng_container_76_ng_container_24_a_2_Template, 2, 4, \"a\", 53);\n    i0.ɵɵtemplate(3, ReportErrorProgressComponent_ng_container_76_ng_container_24_span_3_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r86 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c6, item_r86.IsToDay));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r86.Value > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r86.Value);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_76_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r95 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 40);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_76_Template_tr_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r95);\n      const i_r57 = restoredCtx.index;\n      const ctx_r94 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r94.selectEmployee(i_r57));\n    });\n    i0.ɵɵelementStart(2, \"td\", 41);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 42);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 43);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 44);\n    i0.ɵɵtext(9, \"Tr\\u1EC5 ho\\u00E0n th\\u00E0nh\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 28);\n    i0.ɵɵtemplate(11, ReportErrorProgressComponent_ng_container_76_a_11_Template, 2, 1, \"a\", 45);\n    i0.ɵɵtemplate(12, ReportErrorProgressComponent_ng_container_76_span_12_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 28);\n    i0.ɵɵtemplate(14, ReportErrorProgressComponent_ng_container_76_a_14_Template, 2, 1, \"a\", 45);\n    i0.ɵɵtemplate(15, ReportErrorProgressComponent_ng_container_76_span_15_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, ReportErrorProgressComponent_ng_container_76_ng_container_16_Template, 4, 5, \"ng-container\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"tr\", 40);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_76_Template_tr_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r95);\n      const i_r57 = restoredCtx.index;\n      const ctx_r96 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r96.selectEmployee(i_r57));\n    });\n    i0.ɵɵelementStart(18, \"td\", 44);\n    i0.ɵɵtext(19, \"Ph\\u1EA3i l\\u00E0m theo k\\u1EBF ho\\u1EA1ch\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"td\", 47);\n    i0.ɵɵelementStart(21, \"td\", 28);\n    i0.ɵɵtemplate(22, ReportErrorProgressComponent_ng_container_76_a_22_Template, 2, 1, \"a\", 48);\n    i0.ɵɵtemplate(23, ReportErrorProgressComponent_ng_container_76_span_23_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, ReportErrorProgressComponent_ng_container_76_ng_container_24_Template, 4, 5, \"ng-container\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const row_r56 = ctx.$implicit;\n    const i_r57 = ctx.index;\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c8, ctx_r8.employeeSelectIndex == i_r57));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r57 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r56.Name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", row_r56.FinishPercent, \"%\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", row_r56.OpeningTotal > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r56.OpeningTotal);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", row_r56.DelayTotal > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r56.DelayTotal);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", row_r56.DelayValues);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c8, ctx_r8.employeeSelectIndex == i_r57));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", row_r56.Total > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r56.Total);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", row_r56.PlanValues);\n  }\n}\n\nconst _c9 = function (a0) {\n  return {\n    \"day-today\": a0\n  };\n};\n\nfunction ReportErrorProgressComponent_th_96_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r97 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c9, row_r97.IsToDayECP));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r97.TitleECP);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_100_a_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r105 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 49);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_100_a_9_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r105);\n      const row_r98 = i0.ɵɵnextContext().$implicit;\n      const ctx_r103 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r103.showErrorChangePlan(row_r98.Id, -9999));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r98 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r98.TotalPreviousPeriod);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_100_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_100_ng_container_11_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r113 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_100_ng_container_11_a_2_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r113);\n      const j_r108 = i0.ɵɵnextContext().index;\n      const row_r98 = i0.ɵɵnextContext().$implicit;\n      const ctx_r111 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r111.showErrorChangePlan(row_r98.Id, j_r108));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r107 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c7, item_r107.IsLessToDay));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r107);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_100_ng_container_11_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_100_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\", 39);\n    i0.ɵɵtemplate(2, ReportErrorProgressComponent_ng_container_100_ng_container_11_a_2_Template, 2, 4, \"a\", 53);\n    i0.ɵɵtemplate(3, ReportErrorProgressComponent_ng_container_100_ng_container_11_span_3_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r107 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c9, item_r107.IsToDayECP));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r107 > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r107);\n  }\n}\n\nfunction ReportErrorProgressComponent_ng_container_100_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r117 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 40);\n    i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_ng_container_100_Template_tr_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r117);\n      const i_r99 = restoredCtx.index;\n      const ctx_r116 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r116.selectDepartment(i_r99));\n    });\n    i0.ɵɵelementStart(2, \"td\", 24);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 54);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 38);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 28);\n    i0.ɵɵtemplate(9, ReportErrorProgressComponent_ng_container_100_a_9_Template, 2, 1, \"a\", 45);\n    i0.ɵɵtemplate(10, ReportErrorProgressComponent_ng_container_100_span_10_Template, 2, 0, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, ReportErrorProgressComponent_ng_container_100_ng_container_11_Template, 4, 5, \"ng-container\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const row_r98 = ctx.$implicit;\n    const i_r99 = ctx.index;\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c8, ctx_r12.departmentSelectIndex == i_r99));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r99 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r98.DepartmentName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r98.TotalError);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", row_r98.TotalPreviousPeriod > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r98.TotalPreviousPeriod);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", row_r98.NumOfChange);\n  }\n}\n\nexport let ReportErrorProgressComponent = /*#__PURE__*/(() => {\n  class ReportErrorProgressComponent {\n    constructor(appSetting, messageService, constant, comboboxService, reportErrorProgressService, config, dateUtils, modalService) {\n      this.appSetting = appSetting;\n      this.messageService = messageService;\n      this.constant = constant;\n      this.comboboxService = comboboxService;\n      this.reportErrorProgressService = reportErrorProgressService;\n      this.config = config;\n      this.dateUtils = dateUtils;\n      this.modalService = modalService;\n      this.depMinWidth = 250;\n      this.empMinWidth = 250;\n      this.departmentSelectIndex = -1;\n      this.employeeSelectIndex = -1; //\n\n      this.days = []; //\n\n      this.errorFixs = [];\n      this.errorFixBys = [];\n      this.errorChangePlans = [];\n      this.weeks = [];\n      this.barChartData = [{\n        data: [],\n        label: 'Tỉ lệ % hoàn thành'\n      }];\n      this.barChartLabels = [];\n      this.barChartPlugins = [pluginDataLabels];\n      this.barChartOptions = {\n        responsive: true,\n        // We use these empty structures as placeholders for dynamic theming.\n        scales: {\n          xAxes: [{}],\n          yAxes: [{\n            ticks: {\n              stepSize: 10,\n              max: 100\n            }\n          }]\n        },\n        tooltips: {\n          enabled: true,\n          mode: 'single',\n          callbacks: {\n            label: (tooltipItem, data) => {\n              var datasetLabel = this.errorFixs[tooltipItem.index].FinishTotal;\n              return 'Số lượng hoàn thành' + ': ' + datasetLabel;\n            }\n          }\n        },\n        plugins: {\n          datalabels: {\n            anchor: 'end',\n            align: 'end',\n            formatter: (value, ctx) => {\n              const label = this.errorFixs[ctx.dataIndex].FinishTotal;\n              return label;\n            },\n            padding: {\n              bottom: -30\n            }\n          }\n        }\n      };\n      this.barChartType = 'bar';\n      this.barChartLegend = true;\n      this.barChartColors = [{\n        backgroundColor: 'rgba(54, 162, 235, 0.8)'\n      }];\n      this.model = {\n        PageSize: 10,\n        TotalItems: 0,\n        PageNumber: 1,\n        OrderBy: 'ModuleCode',\n        OrderType: true,\n        ModuleName: '',\n        ModuleCode: '',\n        ProjectId: '',\n        CustomerId: '',\n        CustomerFinalId: '',\n        ErrorPlanStatus: ''\n      };\n      this.searchOptions = {\n        FieldContentName: 'ModuleCode',\n        Placeholder: 'Tìm kiếm theo mã ...',\n        Items: [{\n          Name: 'Tên module',\n          FieldName: 'ModuleName',\n          Placeholder: 'Nhập tên module ...',\n          Type: 'text'\n        }, {\n          Placeholder: 'Chọn dự án',\n          Name: 'Mã dự án',\n          FieldName: 'ProjectId',\n          Type: 'dropdown',\n          SelectMode: 'single',\n          DataType: this.constant.SearchDataType.Project,\n          Columns: [{\n            Name: 'Code',\n            Title: 'Mã dự án'\n          }, {\n            Name: 'Name',\n            Title: 'Tên dự án'\n          }],\n          DisplayName: 'Code',\n          ValueName: 'Id'\n        }, {\n          Placeholder: 'Chọn khách hàng',\n          Name: 'Khách hàng thương mại',\n          FieldName: 'CustomerId',\n          Type: 'dropdown',\n          SelectMode: 'single',\n          DataType: this.constant.SearchDataType.Customer,\n          Columns: [{\n            Name: 'Code',\n            Title: 'Mã khách hàng'\n          }, {\n            Name: 'Name',\n            Title: 'Tên khách hàng'\n          }],\n          DisplayName: 'Code',\n          ValueName: 'Id'\n        }, {\n          Placeholder: 'Chọn khách hàng',\n          Name: 'Khách hàng cuối',\n          FieldName: 'CustomerFinalId',\n          Type: 'dropdown',\n          SelectMode: 'single',\n          DataType: this.constant.SearchDataType.Customer,\n          Columns: [{\n            Name: 'Code',\n            Title: 'Mã khách hàng'\n          }, {\n            Name: 'Name',\n            Title: 'Tên khách hàng'\n          }],\n          DisplayName: 'Code',\n          ValueName: 'Id'\n        }, {\n          Placeholder: 'Chọn TT dự án',\n          Name: 'Tình trạng dự án',\n          FieldName: 'ProjectStatus',\n          Type: 'select',\n          DisplayName: 'Name',\n          Data: this.constant.ProjectStatus,\n          ValueName: 'Id'\n        }, {\n          Placeholder: 'Chọn nhân viên',\n          Name: 'Người khắc phục',\n          FieldName: 'EmployeeId',\n          Type: 'dropdown',\n          SelectMode: 'single',\n          DataType: this.constant.SearchDataType.Employees,\n          Columns: [{\n            Name: 'Code',\n            Title: 'Mã '\n          }, {\n            Name: 'Name',\n            Title: 'Tên '\n          }],\n          DisplayName: 'Code',\n          ValueName: 'Id'\n        }, {\n          Placeholder: 'Chọn bộ phận',\n          Name: 'Dự án theo phòng kinh doanh',\n          FieldName: 'DepartmentManageId',\n          Type: 'dropdown',\n          SelectMode: 'single',\n          DataType: this.constant.SearchDataType.Department,\n          Columns: [{\n            Name: 'Code',\n            Title: 'Mã '\n          }, {\n            Name: 'Name',\n            Title: 'Tên '\n          }],\n          DisplayName: 'Code',\n          ValueName: 'Id'\n        }, {\n          Placeholder: 'Chọn bộ phận',\n          Name: 'Bộ phận chịu trách nhiệm',\n          FieldName: 'DepartmentId',\n          Type: 'dropdown',\n          SelectMode: 'single',\n          DataType: this.constant.SearchDataType.Department,\n          Columns: [{\n            Name: 'Code',\n            Title: 'Mã '\n          }, {\n            Name: 'Name',\n            Title: 'Tên '\n          }],\n          DisplayName: 'Code',\n          ValueName: 'Id'\n        }, {\n          Placeholder: 'Chọn bộ phận',\n          Name: 'Bộ phận khắc phục',\n          FieldName: 'FixDepartmentId',\n          Type: 'dropdown',\n          SelectMode: 'single',\n          DataType: this.constant.SearchDataType.Department,\n          Columns: [{\n            Name: 'Code',\n            Title: 'Mã '\n          }, {\n            Name: 'Name',\n            Title: 'Tên '\n          }],\n          DisplayName: 'Code',\n          ValueName: 'Id'\n        }, {\n          Name: 'Tình trạng công việc',\n          FieldName: 'ErrorPlanStatus',\n          Placeholder: 'Tình trạng công việc',\n          Type: 'select',\n          Data: this.constant.ErrorPlanStatus,\n          DisplayName: 'Name',\n          ValueName: 'Id'\n        }]\n      };\n    }\n\n    ngOnInit() {\n      this.appSetting.PageTitle = \"Báo cáo Vấn đề tồn đọng\";\n      this.report();\n      this.reportErrorChangePlan();\n    }\n\n    ngAfterViewInit() {\n      this.scrollDepartment.nativeElement.addEventListener('ps-scroll-x', event => {\n        this.scrollDepartmentHeader.nativeElement.scrollLeft = event.target.scrollLeft;\n      }, true);\n      this.scrollEmployee.nativeElement.addEventListener('ps-scroll-x', event => {\n        this.scrollEmployeeHeader.nativeElement.scrollLeft = event.target.scrollLeft;\n      }, true);\n      this.scrollErrorChangedPlan.nativeElement.addEventListener('ps-scroll-x', event => {\n        this.scrollErrorChangedPlanHeader.nativeElement.scrollLeft = event.target.scrollLeft;\n      }, true);\n    }\n\n    ngOnDestroy() {\n      this.scrollDepartment.nativeElement.removeEventListener('ps-scroll-x', null);\n      this.scrollEmployee.nativeElement.removeEventListener('ps-scroll-x', null);\n      this.scrollErrorChangedPlan.nativeElement.removeEventListener('ps-scroll-x', null);\n    }\n\n    report() {\n      this.reportErrorProgressService.report(this.model).subscribe(data => {\n        this.errorFixs = data.ErrorFixs;\n        this.errorFixBys = data.ErrorFixBys;\n        this.errorChangePlans = data.ErrorChangePlans;\n        this.days = data.Days;\n        this.weeks = data.Weeks;\n        let barChartData = [];\n        this.barChartLabels = [];\n        data.ErrorFixs.forEach(element => {\n          barChartData.push(element.FinishPercent);\n          this.barChartLabels.push(element.Name);\n        });\n        this.barChartData[0].data = barChartData;\n        this.empMinWidth = 660 + this.weeks.length * 60;\n        this.depMinWidth = 660 + this.weeks.length * 60;\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    reportErrorChangePlan() {\n      this.reportErrorProgressService.reportErrorChangePlan(this.model).subscribe(data => {\n        this.errorChangePlans = data; // console.log(data);\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    clear() {\n      this.model = {\n        PageSize: 10,\n        TotalItems: 0,\n        PageNumber: 1,\n        OrderBy: 'ModuleCode',\n        OrderType: true,\n        ModuleName: '',\n        ModuleCode: '',\n        ProjectId: '',\n        DateFrom: null,\n        DateTo: null,\n        ErrorPlanStatus: ''\n      };\n      let now = new Date(); // let dateFromV = { day: 1, month: 4, year: now.getFullYear() };\n      // this.model.DateFromV = dateFromV;\n      // let dateToV = { day: 31, month: 3, year: now.getFullYear() + 1 };\n      // this.model.DateToV = dateToV;\n\n      this.report();\n    }\n\n    exportExcel() {\n      this.reportErrorProgressService.exportExcel(this.model).subscribe(d => {\n        var link = document.createElement('a');\n        link.setAttribute(\"type\", \"hidden\");\n        link.href = this.config.ServerApi + d;\n        link.download = 'Download.docx';\n        document.body.appendChild(link); // link.focus();\n\n        link.click();\n        document.body.removeChild(link);\n      }, e => {\n        this.messageService.showError(e);\n      });\n    }\n\n    showErrorWork(workType, objectId, object, objectType, isOpening) {\n      let activeModal = this.modalService.open(ReportErrorWorkComponent, {\n        container: 'body',\n        windowClass: 'report-error-work-modal',\n        backdrop: 'static'\n      });\n      activeModal.componentInstance.searchModel = Object.assign({}, this.model);\n\n      if (objectType == 1) {\n        activeModal.componentInstance.searchModel.DepartmentId = objectId;\n      } else {\n        activeModal.componentInstance.searchModel.EmployeeId = objectId;\n      }\n\n      activeModal.componentInstance.searchModel.DateFrom = object.DateFrom;\n      activeModal.componentInstance.searchModel.DateTo = object.DateTo;\n      activeModal.componentInstance.searchModel.WorkType = workType;\n      activeModal.componentInstance.searchModel.IsOpening = isOpening;\n      activeModal.componentInstance.isProgress = true;\n      activeModal.result.then(result => {\n        if (result) {}\n      }, reason => {});\n    }\n\n    showErrorChangePlan(departmentId, index) {\n      let activeModal = this.modalService.open(ReportErrorChangePlanComponent, {\n        container: 'body',\n        windowClass: 'report-error-change-plan-modal',\n        backdrop: 'static'\n      });\n      activeModal.componentInstance.searchModel.index = index;\n      activeModal.componentInstance.searchModel.departmentId = departmentId;\n      activeModal.result.then(result => {\n        if (result) {}\n      }, reason => {});\n    }\n\n    selectDepartment(index) {\n      if (this.departmentSelectIndex != index) {\n        this.departmentSelectIndex = index;\n      }\n    }\n\n    selectEmployee(index) {\n      if (this.employeeSelectIndex != index) {\n        this.employeeSelectIndex = index;\n      }\n    }\n\n  }\n\n  ReportErrorProgressComponent.ɵfac = function ReportErrorProgressComponent_Factory(t) {\n    return new (t || ReportErrorProgressComponent)(i0.ɵɵdirectiveInject(i1.AppSetting), i0.ɵɵdirectiveInject(i1.MessageService), i0.ɵɵdirectiveInject(i1.Constants), i0.ɵɵdirectiveInject(i1.ComboboxService), i0.ɵɵdirectiveInject(i2.ReportErrorProgressService), i0.ɵɵdirectiveInject(i1.Configuration), i0.ɵɵdirectiveInject(i1.DateUtils), i0.ɵɵdirectiveInject(i3.NgbModal));\n  };\n\n  ReportErrorProgressComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ReportErrorProgressComponent,\n    selectors: [[\"app-report-error-progress\"]],\n    viewQuery: function ReportErrorProgressComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n        i0.ɵɵviewQuery(_c3, 5);\n        i0.ɵɵviewQuery(_c4, 5);\n        i0.ɵɵviewQuery(_c5, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollDepartment = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollDepartmentHeader = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollEmployee = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollEmployeeHeader = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollErrorChangedPlan = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollErrorChangedPlanHeader = _t.first);\n      }\n    },\n    decls: 101,\n    vars: 30,\n    consts: [[1, \"content-wrapper\", \"page-content\"], [1, \"body-right\"], [1, \"content-body\"], [\"name\", \"searchForm\"], [\"f\", \"ngForm\"], [1, \"row\"], [1, \"col-lg-8\"], [\"name\", \"module\", 3, \"options\", \"ngModel\", \"ngModelChange\", \"change\"], [1, \"col-lg-4\", \"col-md-4\", \"col-sm-4\", \"text-right\"], [1, \"btn\", \"btn-success\", \"btn-success-system\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [1, \"btn\", \"btn-default\", \"btn-default-system\", 3, \"click\"], [1, \"fas\", \"fa-redo-alt\"], [1, \"content-body\", \"padding-15\"], [1, \"col-lg-5\", \"col-md-5\", \"col-sm-12\", \"col-xs-12\", \"text-left\"], [\"baseChart\", \"\", 3, \"datasets\", \"labels\", \"options\", \"legend\", \"chartType\", \"colors\", \"plugins\"], [1, \"col-lg-12\", \"col-md-12\", \"col-sm-12\", \"col-xs-12\", \"text-left\"], [1, \"form-label\", \"bold\", 2, \"line-height\", \"35px\"], [1, \"col-lg-6\", \"col-md-12\", \"col-sm-12\", \"col-xs-6\", \"text-right\"], [1, \"col-xl-12\", \"col-md-12\", \"col-sm-12\", \"col-lg-12\"], [\"scrollDepartment\", \"\"], [2, \"height\", \"auto\", \"width\", \"100%\", \"overflow\", \"hidden\"], [\"scrollDepartmentHeader\", \"\"], [1, \"table\", \"table-bordered\", \"table-hover\", \"mb-0\"], [\"width\", \"50px\", 1, \"text-center\"], [\"min-width\", \"200px\", 1, \"text-center\"], [\"width\", \"100px\", 1, \"text-center\"], [\"width\", \"150px\", 1, \"text-center\"], [\"width\", \"80px\", 1, \"text-center\"], [\"class\", \"text-center\", \"width\", \"60px\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [2, \"height\", \"auto\", \"max-height\", \"400px\", \"width\", \"100%\", 3, \"config\"], [1, \"table\", \"table-bordered\", \"table-fixed\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mt-1\"], [\"scrollEmployee\", \"\"], [\"scrollEmployeeHeader\", \"\"], [\"scrollErrorChangedPlan\", \"\"], [\"scrollErrorChangedPlanHeader\", \"\"], [\"width\", \"200px\", 1, \"text-center\"], [\"width\", \"60px\", 1, \"text-center\", 3, \"ngClass\"], [3, \"ngClass\", \"click\"], [\"width\", \"50px\", \"rowspan\", \"2\", 1, \"text-center\"], [\"min-width\", \"200px\", \"rowspan\", \"2\"], [\"width\", \"100px\", \"rowspan\", \"2\", 1, \"text-center\"], [\"width\", \"150px\"], [\"href\", \"javascript:void(0)\", \"class\", \"bold\", 3, \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"width\", \"80px\"], [\"href\", \"javascript:void(0)\", \"class\", \"bold plan-color\", 3, \"click\", 4, \"ngIf\"], [\"href\", \"javascript:void(0)\", 1, \"bold\", 3, \"click\"], [\"href\", \"javascript:void(0)\", 1, \"bold\", \"plan-color\", 3, \"click\"], [\"href\", \"javascript:void(0)\", \"class\", \"bold \", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"href\", \"javascript:void(0)\", 1, \"bold\", 3, \"ngClass\", \"click\"], [\"href\", \"javascript:void(0)\", \"class\", \"bold\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"min-width\", \"200px\"]],\n    template: function ReportErrorProgressComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"form\", 3, 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"nts-search-bar\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function ReportErrorProgressComponent_Template_nts_search_bar_ngModelChange_7_listener($event) {\n          return ctx.model = $event;\n        })(\"change\", function ReportErrorProgressComponent_Template_nts_search_bar_change_7_listener() {\n          return ctx.report();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 8)(9, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_Template_button_click_9_listener() {\n          return ctx.report();\n        });\n        i0.ɵɵelement(10, \"i\", 10);\n        i0.ɵɵtext(11, \" \\u00A0T\\u00ECm ki\\u1EBFm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(12, \"\\u00A0 \\u00A0 \");\n        i0.ɵɵelementStart(13, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function ReportErrorProgressComponent_Template_button_click_13_listener() {\n          return ctx.clear();\n        });\n        i0.ɵɵelement(14, \"i\", 12);\n        i0.ɵɵtext(15, \" \\u00A0L\\u00E0m m\\u1EDBi\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(16, \"div\", 13)(17, \"div\", 5)(18, \"div\", 14);\n        i0.ɵɵelement(19, \"canvas\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 5)(21, \"div\", 16)(22, \"label\", 17);\n        i0.ɵɵtext(23, \"B\\u1EA2NG T\\u1ED4NG H\\u1EE2P C\\u00D4NG VI\\u1EC6C THEO TU\\u1EA6N THEO PH\\u00D2NG BAN \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(24, \"div\", 18);\n        i0.ɵɵelementStart(25, \"div\", 19, 20)(27, \"div\", 21, 22)(29, \"table\", 23)(30, \"thead\")(31, \"tr\")(32, \"th\", 24);\n        i0.ɵɵtext(33, \"STT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"th\", 25);\n        i0.ɵɵtext(35, \"T\\u00EAn ph\\u00F2ng ban\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"th\", 26);\n        i0.ɵɵtext(37, \"T\\u1EC9 l\\u1EC7 % ho\\u00E0n th\\u00E0nh CV\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"th\", 27);\n        i0.ɵɵtext(39, \"S\\u1ED1 l\\u01B0\\u1EE3ng c\\u00F4ng vi\\u1EC7c\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"th\", 28);\n        i0.ɵɵtext(41, \"T\\u1ED3n tr\\u01B0\\u1EDBc k\\u1EF3\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"th\", 28);\n        i0.ɵɵtext(43, \"T\\u1ED5ng k\\u00EC n\\u00E0y\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(44, ReportErrorProgressComponent_th_44_Template, 2, 4, \"th\", 29);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(45, \"perfect-scrollbar\", 30)(46, \"table\", 31)(47, \"tbody\");\n        i0.ɵɵtemplate(48, ReportErrorProgressComponent_ng_container_48_Template, 25, 17, \"ng-container\", 32);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(49, \"div\", 33)(50, \"div\", 16)(51, \"label\", 17);\n        i0.ɵɵtext(52, \"B\\u1EA2NG T\\u1ED4NG H\\u1EE2P C\\u00D4NG VI\\u1EC6C THEO TU\\u1EA6N THEO NH\\u00C2N VI\\u00CAN \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(53, \"div\", 19, 34)(55, \"div\", 21, 35)(57, \"table\", 23)(58, \"thead\")(59, \"tr\")(60, \"th\", 24);\n        i0.ɵɵtext(61, \"STT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"th\", 25);\n        i0.ɵɵtext(63, \"T\\u00EAn ph\\u00F2ng ban\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"th\", 26);\n        i0.ɵɵtext(65, \"T\\u1EC9 l\\u1EC7 % ho\\u00E0n th\\u00E0nh CV\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"th\", 27);\n        i0.ɵɵtext(67, \"S\\u1ED1 l\\u01B0\\u1EE3ng c\\u00F4ng vi\\u1EC7c\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"th\", 28);\n        i0.ɵɵtext(69, \"T\\u1ED3n tr\\u01B0\\u1EDBc k\\u1EF3\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"th\", 28);\n        i0.ɵɵtext(71, \"T\\u1ED5ng k\\u00EC n\\u00E0y\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(72, ReportErrorProgressComponent_th_72_Template, 2, 4, \"th\", 29);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(73, \"perfect-scrollbar\", 30)(74, \"table\", 31)(75, \"tbody\");\n        i0.ɵɵtemplate(76, ReportErrorProgressComponent_ng_container_76_Template, 25, 17, \"ng-container\", 32);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(77, \"div\", 33)(78, \"div\", 16)(79, \"label\", 17);\n        i0.ɵɵtext(80, \"B\\u1EA2NG T\\u1ED4NG H\\u1EE2P C\\u00C1C C\\u00D4NG VI\\u1EC6C B\\u1ECA \\u0110I\\u1EC0U CH\\u1EC8NH K\\u1EBE HO\\u1EA0CH \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(81, \"div\", 19, 36)(83, \"div\", 21, 37)(85, \"table\", 23)(86, \"thead\")(87, \"tr\")(88, \"th\", 24);\n        i0.ɵɵtext(89, \"STT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"th\", 25);\n        i0.ɵɵtext(91, \"Ph\\u00F2ng ban qu\\u1EA3n l\\u00FD d\\u1EF1 \\u00E1n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(92, \"th\", 38);\n        i0.ɵɵtext(93, \"T\\u1ED5ng s\\u1ED1 c\\u00F4ng vi\\u1EC7c c\\u00F3 \\u0111i\\u1EC1u ch\\u1EC9nh k\\u1EBF ho\\u1EA1ch\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(94, \"th\", 28);\n        i0.ɵɵtext(95, \"T\\u1ED3n tr\\u01B0\\u1EDBc k\\u1EF3\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(96, ReportErrorProgressComponent_th_96_Template, 2, 4, \"th\", 29);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(97, \"perfect-scrollbar\", 30)(98, \"table\", 31)(99, \"tbody\");\n        i0.ɵɵtemplate(100, ReportErrorProgressComponent_ng_container_100_Template, 12, 9, \"ng-container\", 32);\n        i0.ɵɵelementEnd()()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"options\", ctx.searchOptions)(\"ngModel\", ctx.model);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"datasets\", ctx.barChartData)(\"labels\", ctx.barChartLabels)(\"options\", ctx.barChartOptions)(\"legend\", ctx.barChartLegend)(\"chartType\", ctx.barChartType)(\"colors\", ctx.barChartColors)(\"plugins\", ctx.barChartPlugins);\n        i0.ɵɵadvance(10);\n        i0.ɵɵstyleProp(\"min-width\", ctx.depMinWidth, \"px\");\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngForOf\", ctx.weeks);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"config\", ctx.constant.ScrollConfig);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"min-width\", ctx.depMinWidth, \"px\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.errorFixs);\n        i0.ɵɵadvance(9);\n        i0.ɵɵstyleProp(\"min-width\", ctx.empMinWidth, \"px\");\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngForOf\", ctx.weeks);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"config\", ctx.constant.ScrollConfig);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"min-width\", ctx.empMinWidth, \"px\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.errorFixBys);\n        i0.ɵɵadvance(9);\n        i0.ɵɵstyleProp(\"min-width\", ctx.empMinWidth, \"px\");\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngForOf\", ctx.days);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"config\", ctx.constant.ScrollConfig);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"min-width\", ctx.empMinWidth, \"px\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.errorChangePlans);\n      }\n    },\n    styles: [\"app-report-error-progress .week-today{background-color:#ff0!important;color:#000!important}app-report-error-progress .day-today{background-color:#ff0!important;color:#000!important}app-report-error-progress .plan-color{opacity:.8;color:#c5c5c5}\\n\"],\n    encapsulation: 2\n  });\n  return ReportErrorProgressComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}