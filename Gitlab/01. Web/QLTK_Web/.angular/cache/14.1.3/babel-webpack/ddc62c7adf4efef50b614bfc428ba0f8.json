{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { NgxGalleryAnimation } from '@kolkov/ngx-gallery';\nimport { ShowProductModuleUpdateComponent } from '../show-product-module-update/show-product-module-update.component';\nimport { HistoryVersionComponent } from 'src/app/shared/component/history-version/history-version.component';\nimport { ProductUpdateContentComponent } from '../product-update-content/product-update-content.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared\";\nimport * as i2 from \"src/app/upload/uploadfile.service\";\nimport * as i3 from \"src/app/shared/common/check-special-characters\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../services/product-create.service\";\nimport * as i6 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i7 from \"src/app/shared/services/history-version.service\";\nimport * as i8 from \"../services/product.service\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"../../shared/directives/uipermission.directive\";\nimport * as i12 from \"../../shared/directives/disablepermission.directive\";\nimport * as i13 from \"../../shared/directives/nts-number-int.directive\";\nimport * as i14 from \"../../shared/component/nts-drop-down-tree/nts-drop-down-tree.component\";\nimport * as i15 from \"../../shared/directives/readonlypermission.directive\";\nimport * as i16 from \"ng2-currency-mask\";\nimport * as i17 from \"@kolkov/ngx-gallery\";\nimport * as i18 from \"../product-sketches/product-sketches.component\";\nimport * as i19 from \"../product-tab-design-document/product-tab-design-document.component\";\nimport * as i20 from \"../product-error-tab/product-error-tab.component\";\nimport * as i21 from \"../product-tab-result-test/product-tab-result-test.component\";\nimport * as i22 from \"../product-tab-document-attach/product-tab-document-attach.component\";\nimport * as i23 from \"../productmaterials/productmaterials.component\";\n\nfunction ProductCreateComponent_ng_template_8_option_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r32 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r32.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r32.Name, \"\");\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_button_68_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function ProductCreateComponent_ng_template_8_button_68_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r33.showUpdateContent());\n    });\n    i0.ɵɵelement(1, \"span\", 53);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r10.isUpdate);\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_85_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1, \"Ch\\u01B0a c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_86_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1, \"\\u0110\\u00E3 c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1, \"Ch\\u01B0a c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_94_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1, \"\\u0110\\u00E3 c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1, \"Ch\\u01B0a c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_102_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1, \"\\u0110\\u00E3 c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_109_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1, \"Ch\\u01B0a c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_110_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1, \"\\u0110\\u00E3 c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_117_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1, \"Ch\\u01B0a c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_118_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1, \"\\u0110\\u00E3 c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_125_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1, \"Ch\\u01B0a c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_126_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1, \"\\u0110\\u00E3 c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_133_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1, \"Ch\\u01B0a c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_span_134_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1, \"\\u0110\\u00E3 c\\u00F3\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_div_135_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1, \"Ch\\u01B0a chuy\\u1EC3n\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_div_135_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1, \"\\u0110\\u00E3 chuy\\u1EC3n\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_div_135_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"label\", 14);\n    i0.ɵɵtext(2, \"Chuy\\u1EC3n th\\u01B0 vi\\u1EC7n \");\n    i0.ɵɵelementStart(3, \"span\", 15);\n    i0.ɵɵtext(4, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtemplate(6, ProductCreateComponent_ng_template_8_div_135_span_6_Template, 2, 0, \"span\", 33);\n    i0.ɵɵtemplate(7, ProductCreateComponent_ng_template_8_div_135_span_7_Template, 2, 0, \"span\", 34);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r25.modelProduct.IsSendSale);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.modelProduct.IsSendSale);\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_button_143_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 56);\n    i0.ɵɵlistener(\"click\", function ProductCreateComponent_ng_template_8_button_143_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      i0.ɵɵnextContext();\n\n      const _r27 = i0.ɵɵreference(145);\n\n      return i0.ɵɵresetView(_r27.click());\n    });\n    i0.ɵɵelement(1, \"i\", 57);\n    i0.ɵɵtext(2, \" \\u00A0Upload \\u1EA3nh\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_div_146_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"ngx-gallery\", 58);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r28 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"options\", ctx_r28.galleryOptions)(\"images\", ctx_r28.galleryImages);\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_ng_container_152_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function ProductCreateComponent_ng_template_8_ng_container_152_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r40.syncSaleProduct(false));\n    });\n    i0.ɵɵelement(1, \"i\", 61);\n    i0.ɵɵtext(2, \"\\u00A0 \");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"\\u0110\\u1ED3ng b\\u1ED9 s\\u1EA3n ph\\u1EA9m\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nconst _c0 = function () {\n  return [\"F030419\"];\n};\n\nfunction ProductCreateComponent_ng_template_8_ng_container_152_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductCreateComponent_ng_template_8_ng_container_152_button_1_Template, 5, 0, \"button\", 59);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_button_155_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function ProductCreateComponent_ng_template_8_button_155_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r42 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r42.showConfirmUploadVersion());\n    });\n    i0.ɵɵelement(1, \"i\", 63);\n    i0.ɵɵtext(2, \"\\u00A0 \");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"L\\u01B0u\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r30 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r30.valid);\n  }\n}\n\nfunction ProductCreateComponent_ng_template_8_ng_container_157_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function ProductCreateComponent_ng_template_8_ng_container_157_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r45 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r45.saveAndContinue());\n    });\n    i0.ɵɵelement(1, \"i\", 63);\n    i0.ɵɵtext(2, \"\\u00A0 \");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"L\\u01B0u & ti\\u1EBFp t\\u1EE5c\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r44 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r44.valid);\n  }\n}\n\nconst _c1 = function () {\n  return [\"F030401\"];\n};\n\nfunction ProductCreateComponent_ng_template_8_ng_container_157_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductCreateComponent_ng_template_8_ng_container_157_button_1_Template, 5, 1, \"button\", 48);\n    i0.ɵɵtext(2, \"\\u00A0 \");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(1, _c1));\n  }\n}\n\nconst _c2 = function () {\n  return [\"F030402\", \"F030401\"];\n};\n\nfunction ProductCreateComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 10)(3, \"div\", 12)(4, \"div\", 13)(5, \"label\", 14);\n    i0.ɵɵtext(6, \"Nh\\u00F3m thi\\u1EBFt b\\u1ECB \");\n    i0.ɵɵelementStart(7, \"span\", 15);\n    i0.ɵɵtext(8, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"nts-drop-down-tree\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_nts_drop_down_tree_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.modelProduct.ProductGroupId = $event);\n    })(\"change\", function ProductCreateComponent_ng_template_8_Template_nts_drop_down_tree_change_9_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.changeGroup());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 12)(11, \"div\", 17)(12, \"label\", 14);\n    i0.ɵɵtext(13, \"T\\u00EAn thi\\u1EBFt b\\u1ECB \");\n    i0.ɵɵelementStart(14, \"span\", 15);\n    i0.ɵɵtext(15, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 18)(17, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r50.modelProduct.Name = $event);\n    })(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_input_ngModelChange_17_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r51 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r51.check());\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(18, \"div\", 12)(19, \"div\", 17)(20, \"label\", 14);\n    i0.ɵɵtext(21, \"M\\u00E3 thi\\u1EBFt b\\u1ECB \");\n    i0.ɵɵelementStart(22, \"span\", 15);\n    i0.ɵɵtext(23, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 18)(25, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r52 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r52.modelProduct.Code = $event);\n    })(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_input_ngModelChange_25_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r53 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r53.check());\n    });\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(26, \"div\", 10)(27, \"div\", 12)(28, \"div\", 17)(29, \"label\", 14);\n    i0.ɵɵtext(30, \"Th\\u1EDDi gian s\\u1EA3n xu\\u1EA5t \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 18)(32, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_input_ngModelChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r54 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r54.modelProduct.ProcedureTime = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(33, \"div\", 12)(34, \"div\", 17)(35, \"label\", 14);\n    i0.ɵɵtext(36, \"Gi\\u00E1 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 18)(38, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_input_ngModelChange_38_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r55 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r55.modelProduct.Pricing = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(39, \"div\", 12)(40, \"div\", 13)(41, \"label\", 14);\n    i0.ɵɵtext(42, \"T\\u00ECnh tr\\u1EA1ng \");\n    i0.ɵɵelementStart(43, \"span\", 15);\n    i0.ɵɵtext(44, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(45, \"div\", 18)(46, \"select\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_select_ngModelChange_46_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r56 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r56.modelProduct.Status = $event);\n    })(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_select_ngModelChange_46_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r57 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r57.check());\n    });\n    i0.ɵɵtemplate(47, ProductCreateComponent_ng_template_8_option_47_Template, 2, 2, \"option\", 24);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(48, \"div\", 10)(49, \"div\", 12)(50, \"div\", 17)(51, \"label\", 14);\n    i0.ɵɵtext(52, \"Phi\\u00EAn b\\u1EA3n \");\n    i0.ɵɵelementStart(53, \"span\", 15);\n    i0.ɵɵtext(54, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(55, \"div\", 18)(56, \"input\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_input_ngModelChange_56_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r58 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r58.modelProduct.CurentVersion = $event);\n    })(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_input_ngModelChange_56_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r59 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r59.check());\n    });\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(57, \"div\", 10)(58, \"div\", 26)(59, \"div\", 13)(60, \"label\", 14);\n    i0.ɵɵtext(61, \"Th\\u00F4ng tin thay \\u0111\\u1ED5i \");\n    i0.ɵɵelementStart(62, \"span\", 15);\n    i0.ɵɵtext(63, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(64, \"div\", 18)(65, \"div\", 27)(66, \"textarea\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_textarea_ngModelChange_66_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r60 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r60.modelProduct.Content = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(67, \"div\", 29);\n    i0.ɵɵtemplate(68, ProductCreateComponent_ng_template_8_button_68_Template, 2, 1, \"button\", 30);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(69, \"div\", 10)(70, \"div\", 26)(71, \"div\", 13)(72, \"label\", 14);\n    i0.ɵɵtext(73, \"M\\u00F4 t\\u1EA3 \");\n    i0.ɵɵelementStart(74, \"span\", 15);\n    i0.ɵɵtext(75, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(76, \"div\", 18)(77, \"textarea\", 31);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductCreateComponent_ng_template_8_Template_textarea_ngModelChange_77_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r61 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r61.modelProduct.Description = $event);\n    });\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(78, \"div\", 10)(79, \"div\", 32)(80, \"label\", 14);\n    i0.ɵɵtext(81, \"HD Th\\u1EF1c h\\u00E0nh \");\n    i0.ɵɵelementStart(82, \"span\", 15);\n    i0.ɵɵtext(83, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(84, \"div\");\n    i0.ɵɵtemplate(85, ProductCreateComponent_ng_template_8_span_85_Template, 2, 0, \"span\", 33);\n    i0.ɵɵtemplate(86, ProductCreateComponent_ng_template_8_span_86_Template, 2, 0, \"span\", 34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(87, \"div\", 32)(88, \"label\", 14);\n    i0.ɵɵtext(89, \"B\\u00E1o gi\\u00E1 \");\n    i0.ɵɵelementStart(90, \"span\", 15);\n    i0.ɵɵtext(91, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(92, \"div\");\n    i0.ɵɵtemplate(93, ProductCreateComponent_ng_template_8_span_93_Template, 2, 0, \"span\", 33);\n    i0.ɵɵtemplate(94, ProductCreateComponent_ng_template_8_span_94_Template, 2, 0, \"span\", 34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(95, \"div\", 32)(96, \"label\", 14);\n    i0.ɵɵtext(97, \"B\\u1EA3n v\\u1EBD layout \");\n    i0.ɵɵelementStart(98, \"span\", 15);\n    i0.ɵɵtext(99, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(100, \"div\");\n    i0.ɵɵtemplate(101, ProductCreateComponent_ng_template_8_span_101_Template, 2, 0, \"span\", 33);\n    i0.ɵɵtemplate(102, ProductCreateComponent_ng_template_8_span_102_Template, 2, 0, \"span\", 34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(103, \"div\", 32)(104, \"label\", 14);\n    i0.ɵɵtext(105, \"DMVT \");\n    i0.ɵɵelementStart(106, \"span\", 15);\n    i0.ɵɵtext(107, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(108, \"div\");\n    i0.ɵɵtemplate(109, ProductCreateComponent_ng_template_8_span_109_Template, 2, 0, \"span\", 33);\n    i0.ɵɵtemplate(110, ProductCreateComponent_ng_template_8_span_110_Template, 2, 0, \"span\", 34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(111, \"div\", 35)(112, \"label\", 14);\n    i0.ɵɵtext(113, \"DM b\\u00E0i th\\u1EF1c h\\u00E0nh/c\\u00F4ng \\u0111o\\u1EA1n \");\n    i0.ɵɵelementStart(114, \"span\", 15);\n    i0.ɵɵtext(115, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(116, \"div\");\n    i0.ɵɵtemplate(117, ProductCreateComponent_ng_template_8_span_117_Template, 2, 0, \"span\", 33);\n    i0.ɵɵtemplate(118, ProductCreateComponent_ng_template_8_span_118_Template, 2, 0, \"span\", 34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(119, \"div\", 32)(120, \"label\", 14);\n    i0.ɵɵtext(121, \"T\\u00E0i li\\u1EC7u HD b\\u1EA3o tr\\u00EC \");\n    i0.ɵɵelementStart(122, \"span\", 15);\n    i0.ɵɵtext(123, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(124, \"div\");\n    i0.ɵɵtemplate(125, ProductCreateComponent_ng_template_8_span_125_Template, 2, 0, \"span\", 33);\n    i0.ɵɵtemplate(126, ProductCreateComponent_ng_template_8_span_126_Template, 2, 0, \"span\", 34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(127, \"div\", 32)(128, \"label\", 14);\n    i0.ɵɵtext(129, \"Catalog \");\n    i0.ɵɵelementStart(130, \"span\", 15);\n    i0.ɵɵtext(131, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(132, \"div\");\n    i0.ɵɵtemplate(133, ProductCreateComponent_ng_template_8_span_133_Template, 2, 0, \"span\", 33);\n    i0.ɵɵtemplate(134, ProductCreateComponent_ng_template_8_span_134_Template, 2, 0, \"span\", 34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(135, ProductCreateComponent_ng_template_8_div_135_Template, 8, 2, \"div\", 36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(136, \"div\", 12)(137, \"div\", 10)(138, \"div\", 37)(139, \"label\", 38);\n    i0.ɵɵtext(140, \"\\u1EA2nh thi\\u1EBFt b\\u1ECB\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(141, \"div\", 39)(142, \"div\", 40);\n    i0.ɵɵtemplate(143, ProductCreateComponent_ng_template_8_button_143_Template, 3, 0, \"button\", 41);\n    i0.ɵɵelementStart(144, \"input\", 42, 43);\n    i0.ɵɵlistener(\"change\", function ProductCreateComponent_ng_template_8_Template_input_change_144_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r62 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r62.uploadFileClickImage($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(146, ProductCreateComponent_ng_template_8_div_146_Template, 2, 2, \"div\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(147, \"div\", 10)(148, \"div\", 45)(149, \"label\", 46);\n    i0.ɵɵtext(150);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(151, \"div\", 47);\n    i0.ɵɵtemplate(152, ProductCreateComponent_ng_template_8_ng_container_152_Template, 2, 2, \"ng-container\", 44);\n    i0.ɵɵtext(153, \"\\u00A0 \");\n    i0.ɵɵelementContainerStart(154);\n    i0.ɵɵtemplate(155, ProductCreateComponent_ng_template_8_button_155_Template, 5, 1, \"button\", 48);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtext(156, \"\\u00A0 \");\n    i0.ɵɵtemplate(157, ProductCreateComponent_ng_template_8_ng_container_157_Template, 3, 2, \"ng-container\", 44);\n    i0.ɵɵelementContainerStart(158);\n    i0.ɵɵelementStart(159, \"button\", 49);\n    i0.ɵɵlistener(\"click\", function ProductCreateComponent_ng_template_8_Template_button_click_159_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r63 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r63.closeModal());\n    });\n    i0.ɵɵelement(160, \"i\", 50);\n    i0.ɵɵtext(161, \" \\u00A0 \");\n    i0.ɵɵelementStart(162, \"span\");\n    i0.ɵɵtext(163, \" \\u0110\\u00F3ng \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"items\", ctx_r2.listProductGroup)(\"columns\", ctx_r2.columnName)(\"ngModel\", ctx_r2.modelProduct.ProductGroupId)(\"disUipermission\", i0.ɵɵpureFunction0(44, _c2));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(45, _c2))(\"ngModel\", ctx_r2.modelProduct.Name);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(46, _c2))(\"ngModel\", ctx_r2.modelProduct.Code);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(47, _c2))(\"ngModel\", ctx_r2.modelProduct.ProcedureTime);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(48, _c2))(\"ngModel\", ctx_r2.modelProduct.Pricing);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(49, _c2))(\"ngModel\", ctx_r2.modelProduct.Status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.listStatus);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(50, _c2))(\"ngModel\", ctx_r2.modelProduct.CurentVersion);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"radUipermission\", i0.ɵɵpureFunction0(51, _c2))(\"ngModel\", ctx_r2.modelProduct.Content);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(52, _c2));\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"radUipermission\", i0.ɵɵpureFunction0(53, _c2))(\"ngModel\", ctx_r2.modelProduct.Description);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsManualExist == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsManualExist == true);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsQuoteExist == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsQuoteExist == true);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsLayoutExist == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsLayoutExist == true);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsMaterialExist == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsMaterialExist == true);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsPracticeExist == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsPracticeExist == true);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsManualMaintenance == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsManualMaintenance == true);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.modelProduct.IsCatalog);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.IsCatalog);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.Id != \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(54, _c2));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r2.galleryOptions == null ? null : ctx_r2.galleryOptions.length) && (ctx_r2.galleryImages == null ? null : ctx_r2.galleryImages.length));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"Ng\\u01B0\\u1EDDi t\\u1EA1o: \", ctx_r2.EmployeeName, \" | Ph\\u00F2ng ban: \", ctx_r2.DepartmentName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.Id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(55, _c2));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.modelProduct.Id == \"\");\n  }\n}\n\nfunction ProductCreateComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-sketches\", 64);\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"Id\", ctx_r3.modelProduct.Id);\n  }\n}\n\nfunction ProductCreateComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-error-tab\", 64);\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"Id\", ctx_r4.modelProduct.Id);\n  }\n}\n\nfunction ProductCreateComponent_ng_template_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-productmaterials\", 64);\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"Id\", ctx_r5.modelProduct.Id);\n  }\n}\n\nfunction ProductCreateComponent_ng_template_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-tab-design-document\", 64);\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"Id\", ctx_r6.modelProduct.Id);\n  }\n}\n\nfunction ProductCreateComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-tab-result-test\", 64);\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"Id\", ctx_r7.modelProduct.Id);\n  }\n}\n\nfunction ProductCreateComponent_ng_template_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-tab-document-attach\", 64);\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"Id\", ctx_r8.modelProduct.Id);\n  }\n}\n\nconst _c3 = function () {\n  return [\"F030416\", \"F030406\"];\n};\n\nconst _c4 = function () {\n  return [\"F030411\"];\n};\n\nconst _c5 = function () {\n  return [\"F030414\"];\n};\n\nexport let ProductCreateComponent = /*#__PURE__*/(() => {\n  class ProductCreateComponent {\n    constructor(comboboxService, messageService, config, fileProcessImage, uploadService, appSetting, constants, checkSpecialCharacter, router, productCreatesService, routeA, fileProcess, modalService, fileProcessDataSheet, permissionService, serviceHistory, productService) {\n      this.comboboxService = comboboxService;\n      this.messageService = messageService;\n      this.config = config;\n      this.fileProcessImage = fileProcessImage;\n      this.uploadService = uploadService;\n      this.appSetting = appSetting;\n      this.constants = constants;\n      this.checkSpecialCharacter = checkSpecialCharacter;\n      this.router = router;\n      this.productCreatesService = productCreatesService;\n      this.routeA = routeA;\n      this.fileProcess = fileProcess;\n      this.modalService = modalService;\n      this.fileProcessDataSheet = fileProcessDataSheet;\n      this.permissionService = permissionService;\n      this.serviceHistory = serviceHistory;\n      this.productService = productService;\n      this.listProductGroup = [];\n      this.isDropDownBoxOpened = false;\n      this.selectedRowKeys = [];\n      this.rowFocusIndex = -1;\n      this.columnName = [{\n        Name: 'Code',\n        Title: 'Mã nhóm'\n      }, {\n        Name: 'Name',\n        Title: 'Tên nhóm'\n      }];\n      this.modelProduct = {\n        ProductGroupId: '',\n        Code: '',\n        Name: '',\n        DepartmentId: '',\n        ProcedureTime: '',\n        Pricing: '',\n        Status: '2',\n        Description: '',\n        CurentVersion: 0,\n        Content: '',\n        IsManualExist: false,\n        IsQuoteExist: false,\n        IsPracticeExist: false,\n        IsLayoutExist: false,\n        IsMaterialExist: false,\n        IsManualMaintenance: false,\n        ListImage: [],\n        ListFielDocument: [],\n        ListProductModuleUpdate: [],\n        ListFileCatalog: [],\n        IsTestResult: ''\n      };\n      this.listStatus = [{\n        Id: '1',\n        Name: 'Chỉ dùng 1 lần',\n        BadgeClass: 'badge-danger',\n        TextClass: ''\n      }, {\n        Id: '2',\n        Name: 'Thiết bị chuẩn',\n        BadgeClass: 'badge-warning',\n        TextClass: ''\n      }, {\n        Id: '3',\n        Name: 'Ngừng sử dụng',\n        BadgeClass: 'badge-success',\n        TextClass: ''\n      }];\n      this.galleryImages = [];\n      this.ListImage = [];\n      this.fileImage = {\n        Id: '',\n        ProductId: '',\n        FileName: '',\n        FilePath: '',\n        ThumbnailPath: '',\n        Note: ''\n      };\n      this.fileProductDocument = {\n        Id: '',\n        Path: '',\n        FileName: '',\n        FileSize: '',\n        Note: '',\n        FileType: '',\n        IsFileUpload: false,\n        UpdateDate: null,\n        File: null\n      };\n      this.fileProductCatalog = {\n        Id: '',\n        FilePath: '',\n        FileName: '',\n        FileSize: '',\n        Note: '',\n        FileType: '',\n        IsFileUpload: false,\n        UpdateDate: null,\n        File: null\n      };\n      this.isUpdate = false;\n      this.checkDelete = false;\n      this.isConfirm = false;\n    }\n\n    ngOnInit() {\n      this.modelProduct.Id = this.routeA.snapshot.paramMap.get('Id');\n      this.modelProduct.ProductGroupId = this.routeA.snapshot.paramMap.get('GroupId');\n      this.appSetting.PageTitle = \"Thêm mới Thiết bị\";\n      this.getCbbProductGroup();\n\n      if (this.modelProduct.Id != '' && this.modelProduct.Id != null) {\n        this.valid = true;\n        this.isUpdate = true;\n        this.getProductInfo();\n      } else {\n        this.EmployeeName = JSON.parse(localStorage.getItem('qltkcurrentUser')).employeeName;\n        this.DepartmentName = JSON.parse(localStorage.getItem('qltkcurrentUser')).departmentName;\n      }\n\n      this.galleryOptions = [{\n        width: '100%',\n        thumbnailsColumns: 4,\n        imageAnimation: NgxGalleryAnimation.Slide,\n        thumbnailActions: [{\n          icon: 'fa fa-times-circle',\n          onClick: this.deleteImage.bind(this),\n          titleText: 'Xoá ảnh'\n        }]\n      }, // max-width 800\n      {\n        breakpoint: 800,\n        width: '100%',\n        imagePercent: 80,\n        thumbnailsPercent: 20,\n        thumbnailsMargin: 20,\n        thumbnailMargin: 20,\n        thumbnailActions: [{\n          icon: 'fa fa-times-circle',\n          onClick: this.deleteImage.bind(this),\n          titleText: 'Xoá ảnh'\n        }]\n      }, // max-width 400\n      {\n        breakpoint: 400,\n        preview: false\n      }];\n    }\n\n    deleteImage(event, index) {\n      let imageDelete = this.galleryImages[index].medium;\n      let indexDelete;\n      this.modelProduct.ListImage.forEach(element => {\n        let url = this.config.ServerFileApi + element.ThumbnailPath;\n\n        if (url == imageDelete) {\n          indexDelete = this.modelProduct.ListImage.indexOf(element);\n        }\n      });\n      this.messageService.showConfirm(\"Bạn có chắc muốn xóa ảnh không\").then(data => {\n        this.galleryImages.splice(index, 1);\n        this.modelProduct.ListImage.splice(indexDelete, 1);\n      }, error => {});\n    }\n\n    getProductInfo() {\n      this.productCreatesService.getProductInfo(this.modelProduct).subscribe(data => {\n        this.modelProduct = data;\n        this.EmployeeName = data.Creator;\n        this.DepartmentName = data.DepartmentName;\n        this.appSetting.PageTitle = \"Cập nhật Thiết bị - \" + this.modelProduct.Code + \" - \" + this.modelProduct.Name;\n        this.treeBoxValue = data.ProductGroupId;\n\n        for (var item of data.ListImage) {\n          this.galleryImages.push({\n            small: this.config.ServerFileApi + item.ThumbnailPath,\n            medium: this.config.ServerFileApi + item.FilePath,\n            big: this.config.ServerFileApi + item.FilePath\n          });\n        }\n\n        if (this.modelProduct.ListProductModuleUpdate.length > 0) {\n          this.showProductModuleUpdate();\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    showProductModuleUpdate() {\n      let activeModal = this.modalService.open(ShowProductModuleUpdateComponent, {\n        container: 'body',\n        windowClass: 'show-product-module-update',\n        backdrop: 'static'\n      });\n      activeModal.componentInstance.listProductModuleUpdate = this.modelProduct.ListProductModuleUpdate;\n      activeModal.componentInstance.productId = this.modelProduct.Id;\n      activeModal.result.then(result => {}, reason => {});\n    }\n\n    check() {\n      if (this.modelProduct.Name != '' && this.modelProduct.Name != undefined && this.modelProduct.Code != '' && this.modelProduct.Code != undefined && this.modelProduct.Status != '' && this.modelProduct.Status != undefined && this.modelProduct.ProductGroupId != '' && this.modelProduct.ProductGroupId != undefined && this.modelProduct.CurentVersion != '' && this.modelProduct.CurentVersion != undefined) {\n        this.valid = true;\n      } else {\n        this.valid = false;\n      }\n    }\n\n    save(isContinue) {\n      var validCode = this.checkSpecialCharacter.checkCode(this.modelProduct.Code);\n\n      if (validCode) {\n        this.saveInfo(isContinue);\n      } else {\n        this.messageService.showConfirmCode(\"Mã không được chứa ký tự đặc biệt!\").then(data => {\n          this.saveInfo(isContinue);\n        }, error => {});\n      }\n    }\n\n    saveInfo(isContinue) {\n      if (!this.modelProduct.Id) {\n        this.createProduct(isContinue);\n      } else {\n        this.updateProduct();\n      }\n    }\n\n    saveAndContinue() {\n      this.save(true);\n    }\n\n    createProduct(isContinue) {\n      this.productCreatesService.createProduct(this.modelProduct).subscribe(data => {\n        if (isContinue) {\n          this.modelProduct = {\n            ProductGroupId: '',\n            ListImage: []\n          };\n          this.ListImage = [];\n          this.galleryImages = [];\n          this.treeBoxValue = '';\n          this.messageService.showSuccess('Thêm mới thiết bị thành công!');\n        } else {\n          this.messageService.showSuccess('Thêm mới thiết bị thành công!');\n          this.closeModal();\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    updateProduct() {\n      this.productCreatesService.updateProduct(this.modelProduct).subscribe(() => {\n        this.closeModal();\n        this.messageService.showSuccess('Cập nhật thiết bị thành công!');\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    closeModal() {\n      this.router.navigate(['thiet-bi/quan-ly-thiet-bi']);\n    }\n\n    uploadFileClickImage($event) {\n      this.ListImage = [];\n      var fileImage = this.fileProcessImage.getFileOnFileChange($event);\n\n      for (var item of fileImage) {\n        this.ListImage.push(item);\n      }\n\n      this.uploadService.uploadListFile(this.ListImage, 'ImageModule/').subscribe(event => {\n        if (event.length > 0) {\n          event.forEach(item => {\n            var file = Object.assign({}, this.fileImage);\n            file.FilePath = item.FileUrl;\n            file.ThumbnailPath = item.FileUrlThum;\n            this.modelProduct.ListImage.push(file);\n            this.galleryImages.push({\n              small: this.config.ServerFileApi + item.FileUrlThum,\n              medium: this.config.ServerFileApi + item.FileUrlThum,\n              big: this.config.ServerFileApi + item.FileUrl\n            });\n          });\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    } // Lấy combobox nhóm thiết bị\n\n\n    getCbbProductGroup() {\n      this.comboboxService.getCbbProductGroup().subscribe(data => {\n        if (data) {\n          this.listProductGroup = data.ListResult;\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    changeGroup() {\n      if (!this.modelProduct.Id) {\n        var group = this.listProductGroup.filter(t => t.Id == this.modelProduct.ProductGroupId);\n\n        if (group.length > 0) {\n          this.modelProduct.Code = group[0].Code;\n        }\n      }\n    }\n\n    syncTreeViewSelection(e) {\n      if (!this.treeBoxValue) {\n        this.selectedRowKeys = [];\n      } else {\n        this.selectedRowKeys = [this.treeBoxValue];\n      }\n    }\n\n    treeView_itemSelectionChanged(e) {\n      this.treeBoxValue = e.selectedRowKeys[0];\n      this.modelProduct.ProductGroupId = this.treeBoxValue;\n      this.check();\n      this.closeDropDownBox();\n    }\n\n    closeDropDownBox() {\n      this.isDropDownBoxOpened = false;\n    }\n\n    showConfirmUploadVersion() {\n      if (this.modelProduct.Id) {\n        this.messageService.showConfirmFile(\"Bạn có muốn thay đổi version không?\").then(data => __awaiter(this, void 0, void 0, function* () {\n          if (data) {\n            yield this.showEditContent();\n          } else {\n            this.save(false);\n          }\n        }));\n      } else {\n        this.save(false);\n      }\n    }\n\n    showEditContent() {\n      return __awaiter(this, void 0, void 0, function* () {\n        let activeModal = this.modalService.open(HistoryVersionComponent, {\n          container: 'body',\n          windowClass: 'show-history-version-modal',\n          backdrop: 'static'\n        });\n        activeModal.componentInstance.id = this.modelProduct.Id;\n        activeModal.componentInstance.type = this.constants.HistoryVersion_Version_Product;\n        activeModal.result.then(result => __awaiter(this, void 0, void 0, function* () {\n          if (result) {\n            yield this.save(false);\n            yield this.updateVersion(result);\n          }\n        }), reason => {});\n      });\n    }\n\n    updateVersion(model) {\n      this.serviceHistory.updateVersion(model).subscribe(() => {\n        this.messageService.showSuccess('Cập nhật version thành công!');\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    changeTab(event) {\n      if (event.nextId == '0') {\n        this.getProductInfo();\n      }\n    }\n\n    showUpdateContent() {\n      let activeModal = this.modalService.open(ProductUpdateContentComponent, {\n        container: 'body',\n        windowClass: 'product-update-conten',\n        backdrop: 'static'\n      });\n      activeModal.componentInstance.productId = this.modelProduct.Id;\n      activeModal.result.then(result => {\n        if (result) {\n          this.getProductInfo();\n        }\n      }, reason => {});\n    }\n\n    syncSaleProduct(isConfirm) {\n      let list = [];\n      list.push(this.modelProduct.Id);\n      this.productService.syncSaleProduct(false, isConfirm, list).subscribe(data => {\n        if (data) {\n          this.confirm(data);\n        } else {\n          this.messageService.showSuccess('Đồng bộ sản phẩm kinh doanh thành công!');\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    confirm(message) {\n      this.messageService.showConfirm(message).then(data => {\n        this.syncSaleProduct(true);\n      });\n    }\n\n  }\n\n  ProductCreateComponent.ɵfac = function ProductCreateComponent_Factory(t) {\n    return new (t || ProductCreateComponent)(i0.ɵɵdirectiveInject(i1.ComboboxService), i0.ɵɵdirectiveInject(i1.MessageService), i0.ɵɵdirectiveInject(i1.Configuration), i0.ɵɵdirectiveInject(i1.FileProcess), i0.ɵɵdirectiveInject(i2.UploadfileService), i0.ɵɵdirectiveInject(i1.AppSetting), i0.ɵɵdirectiveInject(i1.Constants), i0.ɵɵdirectiveInject(i3.CheckSpecialCharacter), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.ProductCreatesService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i1.FileProcess), i0.ɵɵdirectiveInject(i6.NgbModal), i0.ɵɵdirectiveInject(i1.FileProcess), i0.ɵɵdirectiveInject(i1.PermissionService), i0.ɵɵdirectiveInject(i7.HistoryVersionService), i0.ɵɵdirectiveInject(i8.ProductService));\n  };\n\n  ProductCreateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductCreateComponent,\n    selectors: [[\"app-product-create\"]],\n    decls: 34,\n    vars: 19,\n    consts: [[1, \"content-wrapper\", \"app-product-create\"], [\"name\", \"form\", \"novalidate\", \"\"], [\"f\", \"ngForm\"], [\"ngbNav\", \"\", 1, \"nav-tabs\", 3, \"navChange\"], [\"nav\", \"ngbNav\"], [3, \"ngbNavItem\"], [\"ngbNavLink\", \"\"], [\"ngbNavContent\", \"\"], [3, \"ngbNavItem\", \"disabled\"], [3, \"ngbNavOutlet\"], [1, \"row\"], [1, \"col-md-8\", \"col-lg-8\", \"col-xl-8\", \"col-sm-12\"], [1, \"col-md-4\", \"col-lg-4\", \"col-sm-12\", \"col-xl-4\"], [1, \"form-group\"], [1, \"form-label\"], [1, \"text-danger\", \"text-strong\"], [\"ntsParentId\", \"ParentId\", \"ntsValue\", \"Id\", \"ntsLabel\", \"Code\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"Id\", \"required\", \"\", 3, \"items\", \"columns\", \"ngModel\", \"disUipermission\", \"ngModelChange\", \"change\"], [1, \"form-group\", \"form-group-custom\"], [1, \"controls\"], [\"name\", \"modelProductName\", \"type\", \"text\", \"maxlength\", \"300\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [\"name\", \"modelProductCode\", \"type\", \"text\", \"maxlength\", \"50\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [\"name\", \"modelProductProcedureTime\", \"type\", \"number\", \"maxlength\", \"300\", \"min\", \"0\", \"ntsNumberInt\", \"\", \"disabled\", \"\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [\"name\", \"Pricing\", \"type\", \"text\", \"currencyMask\", \"\", \"maxlength\", \"18\", \"disabled\", \"\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [\"name\", \"listStatus\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"modelProductCurentVersion\", \"type\", \"text\", \"maxlength\", \"50\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [1, \"col-lg-12\", \"col-md-12\", \"col-sm-12\", \"col-xs-12\"], [1, \"input-group\"], [\"name\", \"modelProductContent\", \"rows\", \"5\", 1, \"form-control\", 3, \"radUipermission\", \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"button\", \"class\", \"btn btn-xs btn-warning\", \"placement\", \"top\", \"ngbTooltip\", \"Ch\\u1EC9nh s\\u1EEDa n\\u1ED9i dung\", \"container\", \"body\", 3, \"disabled\", \"click\", 4, \"appUipermission\"], [\"name\", \"modelProductDescription\", \"rows\", \"5\", 1, \"form-control\", 3, \"radUipermission\", \"ngModel\", \"ngModelChange\"], [1, \"col-lg-3\", \"col-md-4\", \"col-sm-12\", \"col-xl-2\"], [\"class\", \"badge badge-danger\", \"style\", \"margin-top: 13px\", 4, \"ngIf\"], [\"class\", \"badge badge-success\", \"style\", \"margin-top: 13px\", 4, \"ngIf\"], [1, \"col-lg-4\", \"col-md-4\", \"col-sm-12\", \"col-xl-4\"], [\"class\", \"col-lg-3 col-md-4 col-sm-12 col-xl-2\", 4, \"ngIf\"], [1, \"col-xl-6\", \"col-lg-6\", \"col-md-6\", \"col-sm-12\"], [1, \"form-label\", 2, \"line-height\", \"35px\"], [1, \"col-xl-6\", \"col-lg-6\", \"col-md-6\", \"col-sm-12\", \"text-right\"], [1, \"upload-btn-wrapper\", 2, \"margin-left\", \"5px\"], [\"class\", \"btn btn-success btn-upload\", 3, \"click\", 4, \"appUipermission\"], [\"name\", \"fileDataSheet\", \"type\", \"file\", \"id\", \"fileDataSheet\", \"multiple\", \"\", \"accept\", \"image/*\", 2, \"display\", \"none\", 3, \"change\"], [\"fileImage\", \"\"], [4, \"ngIf\"], [1, \"col-lg-6\", \"col-md-6\", \"col-sm-12\", \"col-xl-6\"], [1, \"form-label\", \"pt-3\"], [1, \"col-lg-6\", \"col-md-6\", \"col-sm-12\", \"col-xl-6\", \"text-right\", \"mt-3\"], [\"type\", \"button\", \"class\", \"btn btn-success\", 3, \"disabled\", \"click\", 4, \"appUipermission\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"fa\", \"fa-power-off\"], [3, \"ngValue\"], [\"type\", \"button\", \"placement\", \"top\", \"ngbTooltip\", \"Ch\\u1EC9nh s\\u1EEDa n\\u1ED9i dung\", \"container\", \"body\", 1, \"btn\", \"btn-xs\", \"btn-warning\", 3, \"disabled\", \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-edit\"], [1, \"badge\", \"badge-danger\", 2, \"margin-top\", \"13px\"], [1, \"badge\", \"badge-success\", 2, \"margin-top\", \"13px\"], [1, \"btn\", \"btn-success\", \"btn-upload\", 3, \"click\"], [1, \"fas\", \"fa-arrow-up\"], [1, \"ngx-gallery\", 3, \"options\", \"images\"], [\"type\", \"button\", \"class\", \"btn btn-success\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"fas\", \"fa-sync-alt\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-save\"], [3, \"Id\"]],\n    template: function ProductCreateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2)(3, \"ul\", 3, 4);\n        i0.ɵɵlistener(\"navChange\", function ProductCreateComponent_Template_ul_navChange_3_listener($event) {\n          return ctx.changeTab($event);\n        });\n        i0.ɵɵelementStart(5, \"li\", 5)(6, \"a\", 6);\n        i0.ɵɵtext(7, \"Th\\u00F4ng tin chung\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, ProductCreateComponent_ng_template_8_Template, 164, 56, \"ng-template\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"li\", 8)(10, \"a\", 6);\n        i0.ɵɵtext(11, \"Ph\\u00E1c th\\u1EA3o thi\\u1EBFt k\\u1EBF\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, ProductCreateComponent_ng_template_12_Template, 1, 1, \"ng-template\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"li\", 8)(14, \"a\", 6);\n        i0.ɵɵtext(15, \"L\\u1ED7i\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, ProductCreateComponent_ng_template_16_Template, 1, 1, \"ng-template\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"li\", 8)(18, \"a\", 6);\n        i0.ɵɵtext(19, \"Module - V\\u1EADt t\\u01B0 c\\u00E0i \\u0111\\u1EB7t\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(20, ProductCreateComponent_ng_template_20_Template, 1, 1, \"ng-template\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"li\", 8)(22, \"a\", 6);\n        i0.ɵɵtext(23, \"T\\u00E0i li\\u1EC7u thi\\u1EBFt k\\u1EBF\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(24, ProductCreateComponent_ng_template_24_Template, 1, 1, \"ng-template\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"li\", 8)(26, \"a\", 6);\n        i0.ɵɵtext(27, \"K\\u1EBFt qu\\u1EA3 th\\u1EED nghi\\u1EC7m\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(28, ProductCreateComponent_ng_template_28_Template, 1, 1, \"ng-template\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"li\", 8)(30, \"a\", 6);\n        i0.ɵɵtext(31, \"T\\u00E0i li\\u1EC7u \\u0111\\u00EDnh k\\u00E8m\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(32, ProductCreateComponent_ng_template_32_Template, 1, 1, \"ng-template\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(33, \"div\", 9);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(4);\n\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngbNavItem\", 0);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngbNavItem\", \"tab-product-sketches\")(\"disabled\", !ctx.isUpdate || ctx.permissionService.checkPermission(i0.ɵɵpureFunction0(14, _c3)));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngbNavItem\", \"product-error-tab\")(\"disabled\", !ctx.isUpdate);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngbNavItem\", \"tab-product-material\")(\"disabled\", !ctx.isUpdate || ctx.permissionService.checkPermission(i0.ɵɵpureFunction0(15, _c4)));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngbNavItem\", \"tab-design-document\")(\"disabled\", !ctx.isUpdate || ctx.permissionService.checkPermission(i0.ɵɵpureFunction0(16, _c5)));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngbNavItem\", \"app-product-tab-result-test\")(\"disabled\", !ctx.isUpdate || ctx.permissionService.checkPermission(i0.ɵɵpureFunction0(17, _c5)));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngbNavItem\", \"app-product-tab-document-attach\")(\"disabled\", !ctx.isUpdate || ctx.permissionService.checkPermission(i0.ɵɵpureFunction0(18, _c5)));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngbNavOutlet\", _r1);\n      }\n    },\n    dependencies: [i9.NgForOf, i9.NgIf, i10.ɵNgNoValidate, i10.NgSelectOption, i10.ɵNgSelectMultipleOption, i10.DefaultValueAccessor, i10.NumberValueAccessor, i10.SelectControlValueAccessor, i10.NgControlStatus, i10.NgControlStatusGroup, i10.RequiredValidator, i10.MaxLengthValidator, i10.MinValidator, i10.NgModel, i10.NgForm, i11.UipermissionDirective, i12.DiablePermissionDirective, i13.NtsNumberIntDirective, i14.NTSDropDownTreeComponent, i15.ReadonlyPermissionDirective, i6.NgbNavContent, i6.NgbNav, i6.NgbNavItem, i6.NgbNavLink, i6.NgbNavOutlet, i6.NgbTooltip, i16.CurrencyMaskDirective, i17.NgxGalleryComponent, i18.ProductSketchesComponent, i19.ProductTabDesignDocumentComponent, i20.ProductErrorTabComponent, i21.ProductTabResultTestComponent, i22.ProductTabDocumentAttachComponent, i23.ProductmaterialsComponent],\n    styles: [\".app-product-create[_ngcontent-%COMP%]{padding-top:10px!important}.app-product-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block!important}.app-product-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{height:auto}.app-product-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   label.radio[_ngcontent-%COMP%]{display:inline-block;margin:19px 20px 0 0;padding-left:30px}.app-product-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{position:relative;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.app-product-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}\"]\n  });\n  return ProductCreateComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}