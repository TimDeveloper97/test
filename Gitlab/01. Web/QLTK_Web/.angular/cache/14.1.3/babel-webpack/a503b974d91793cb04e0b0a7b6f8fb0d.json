{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/scheduler/appointments/rendering_strategies/appointmentsPositioning_strategy_base.js)\r\n * Version: 22.1.4\r\n * Build date: Fri Jul 22 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { isDefined } from \"../../../../core/utils/type\";\nvar COLLECTOR_DEFAULT_WIDTH = 24;\nvar COLLECTOR_DEFAULT_OFFSET = 3;\nvar COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET = 22;\nvar APPOINTMENT_MIN_COUNT = 1;\nvar APPOINTMENT_DEFAULT_WIDTH = 40;\nvar COLLECTOR_WIDTH_IN_PERCENTS = 75;\nvar APPOINTMENT_INCREASED_WIDTH = 50;\n\nclass AppointmentPositioningStrategy {\n  constructor(renderingStrategy) {\n    this._renderingStrategy = renderingStrategy;\n  }\n\n  getDropDownAppointmentWidth(intervalCount, isAllDay) {\n    if (isAllDay || !isDefined(isAllDay)) {\n      return COLLECTOR_WIDTH_IN_PERCENTS * this._renderingStrategy.cellWidth / 100;\n    } else {\n      return COLLECTOR_DEFAULT_WIDTH;\n    }\n  }\n\n  getCollectorTopOffset() {\n    return COLLECTOR_DEFAULT_OFFSET;\n  }\n\n  getCollectorLeftOffset() {\n    return COLLECTOR_DEFAULT_OFFSET;\n  }\n\n  getAppointmentDefaultOffset() {\n    if (this._renderingStrategy._isCompactTheme()) {\n      return COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET;\n    }\n\n    return this._renderingStrategy.appointmentOffset;\n  }\n\n  getDynamicAppointmentCountPerCell() {\n    var renderingStrategy = this._renderingStrategy;\n    var cellHeight = renderingStrategy.cellHeight;\n\n    var allDayCount = Math.floor((cellHeight - renderingStrategy._getAppointmentDefaultOffset()) / renderingStrategy._getAppointmentDefaultHeight()) || this._getAppointmentMinCount();\n\n    if (renderingStrategy.allDaySupported()) {\n      return {\n        allDay: \"vertical\" === renderingStrategy.groupOrientation ? allDayCount : this._renderingStrategy.appointmentCountPerCell,\n        simple: this._calculateDynamicAppointmentCountPerCell() || this._getAppointmentMinCount()\n      };\n    } else {\n      return allDayCount;\n    }\n  }\n\n  getDropDownAppointmentHeight() {\n    return;\n  }\n\n  _getAppointmentMinCount() {\n    return APPOINTMENT_MIN_COUNT;\n  }\n\n  _calculateDynamicAppointmentCountPerCell() {\n    return Math.floor(this._renderingStrategy._getAppointmentMaxWidth() / APPOINTMENT_INCREASED_WIDTH);\n  }\n\n  _getAppointmentDefaultWidth() {\n    return APPOINTMENT_DEFAULT_WIDTH;\n  }\n\n}\n\nexport default AppointmentPositioningStrategy;","map":null,"metadata":{},"sourceType":"module"}