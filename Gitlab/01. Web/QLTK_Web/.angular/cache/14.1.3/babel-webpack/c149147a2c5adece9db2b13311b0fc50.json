{"ast":null,"code":"import { NgxGalleryAnimation } from '@kolkov/ngx-gallery';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared\";\nimport * as i2 from \"src/app/upload/uploadfile.service\";\nimport * as i3 from \"../../service/error.service\";\nimport * as i4 from \"src/app/shared/common/check-special-characters\";\nimport * as i5 from \"@angular/router\";\n\nfunction ErrorCreateComponent_ng_template_8_div_100_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"ngx-gallery\", 53);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"options\", ctx_r9.galleryOptions)(\"images\", ctx_r9.galleryImages);\n  }\n}\n\nfunction ErrorCreateComponent_ng_template_8_span_105_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1, \"\\u0110ang t\\u1EA1o\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ErrorCreateComponent_ng_template_8_span_106_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1, \"\\u0110ang ch\\u1EDD x\\u1EED l\\u00FD\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ErrorCreateComponent_ng_template_8_span_107_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 56);\n    i0.ɵɵtext(1, \"\\u0110ang x\\u1EED l\\u00FD\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ErrorCreateComponent_ng_template_8_span_108_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 57);\n    i0.ɵɵtext(1, \"\\u0110\\u00E3 x\\u1EED l\\u00FD\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ErrorCreateComponent_ng_template_8_span_109_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 58);\n    i0.ɵɵtext(1, \"\\u0110\\u00E3 \\u0111\\u00F3ng\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return {\n    align: \"right\",\n    prefix: \"\",\n    thousands: \",\",\n    decimal: \".\",\n    precision: 0\n  };\n};\n\nfunction ErrorCreateComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 15)(2, \"div\", 10)(3, \"div\", 16)(4, \"div\", 17)(5, \"label\", 18);\n    i0.ɵɵtext(6, \"Nh\\u00F3m l\\u1ED7i \");\n    i0.ɵɵelementStart(7, \"span\", 19);\n    i0.ɵɵtext(8, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 20)(10, \"nts-drop-down\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_nts_drop_down_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.model.ErrorGroupId = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(11, \"div\", 16)(12, \"div\", 17)(13, \"label\", 18);\n    i0.ɵɵtext(14, \"T\\u00EAn l\\u1ED7i \");\n    i0.ɵɵelementStart(15, \"span\", 19);\n    i0.ɵɵtext(16, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 20)(18, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.model.Subject = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(19, \"div\", 16)(20, \"div\", 17)(21, \"label\", 18);\n    i0.ɵɵtext(22, \"M\\u00E3 l\\u1ED7i \");\n    i0.ɵɵelementStart(23, \"span\", 19);\n    i0.ɵɵtext(24, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 20)(26, \"input\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_input_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.model.Code = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(27, \"div\", 16)(28, \"div\", 17)(29, \"label\", 18);\n    i0.ɵɵtext(30, \"Ng\\u00E0y ph\\u00E1t hi\\u1EC7n \");\n    i0.ɵɵelementStart(31, \"span\", 19);\n    i0.ɵɵtext(32, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 20)(34, \"div\", 24)(35, \"input\", 25, 26);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_input_ngModelChange_35_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.planStartDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 27)(38, \"span\", 28);\n    i0.ɵɵlistener(\"click\", function ErrorCreateComponent_ng_template_8_Template_span_click_38_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n\n      const _r6 = i0.ɵɵreference(36);\n\n      _r6.toggle();\n\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(39, \"i\", 29);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(40, \"div\", 16)(41, \"div\", 17)(42, \"label\", 18);\n    i0.ɵɵtext(43, \"Ng\\u00E0y k\\u1EBFt th\\u00FAc d\\u1EF1 ki\\u1EBFn \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 20)(45, \"div\", 24)(46, \"input\", 30, 31);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_input_ngModelChange_46_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.planFinishDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"div\", 27)(49, \"span\", 28);\n    i0.ɵɵlistener(\"click\", function ErrorCreateComponent_ng_template_8_Template_span_click_49_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n\n      const _r7 = i0.ɵɵreference(47);\n\n      _r7.toggle();\n\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(50, \"i\", 29);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(51, \"div\", 16)(52, \"div\", 17)(53, \"label\", 18);\n    i0.ɵɵtext(54, \"Gi\\u00E1 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"div\", 20)(56, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_input_ngModelChange_56_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.model.Price = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(57, \"div\", 33)(58, \"div\", 17)(59, \"label\", 18);\n    i0.ɵɵtext(60, \"M\\u00F4 t\\u1EA3 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"div\", 20)(62, \"textarea\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_textarea_ngModelChange_62_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.model.Description = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(63, \"div\", 16)(64, \"div\", 17)(65, \"label\", 18);\n    i0.ɵɵtext(66, \"D\\u1EF1 \\u00E1n\");\n    i0.ɵɵelementStart(67, \"span\", 19);\n    i0.ɵɵtext(68, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(69, \"div\", 20)(70, \"nts-drop-down\", 35);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_nts_drop_down_ngModelChange_70_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.getCbbModule(ctx_r25.model.ProjectId));\n    })(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_nts_drop_down_ngModelChange_70_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.model.ProjectId = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(71, \"div\", 16)(72, \"div\", 17)(73, \"label\", 18);\n    i0.ɵɵtext(74, \"Module\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(75, \"nts-drop-down\", 36);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_nts_drop_down_ngModelChange_75_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.model.ObjectId = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(76, \"div\", 16)(77, \"div\", 17)(78, \"label\", 18);\n    i0.ɵɵtext(79, \"B\\u1ED9 ph\\u1EADn g\\u00E2y l\\u1ED7i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(80, \"div\", 20)(81, \"nts-drop-down\", 37);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_nts_drop_down_ngModelChange_81_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.model.DepartmentId = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(82, \"div\", 16)(83, \"div\", 17)(84, \"label\", 18);\n    i0.ɵɵtext(85, \"Nh\\u00E2n vi\\u00EAn ph\\u00E1t hi\\u1EC7n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(86, \"div\", 20)(87, \"nts-drop-down\", 38);\n    i0.ɵɵlistener(\"ngModelChange\", function ErrorCreateComponent_ng_template_8_Template_nts_drop_down_ngModelChange_87_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.model.AuthorId = $event);\n    });\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(88, \"div\", 39)(89, \"div\", 10)(90, \"div\", 40)(91, \"label\", 18);\n    i0.ɵɵtext(92, \"\\u1EA2nh l\\u1ED7i\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(93, \"div\", 41)(94, \"div\", 42)(95, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function ErrorCreateComponent_ng_template_8_Template_button_click_95_listener() {\n      i0.ɵɵrestoreView(_r16);\n\n      const _r8 = i0.ɵɵreference(99);\n\n      return i0.ɵɵresetView(_r8.click());\n    });\n    i0.ɵɵelement(96, \"i\", 44);\n    i0.ɵɵtext(97, \" \\u00A0Upload\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(98, \"input\", 45, 46);\n    i0.ɵɵlistener(\"change\", function ErrorCreateComponent_ng_template_8_Template_input_change_98_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.uploadFileClickImage($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(100, ErrorCreateComponent_ng_template_8_div_100_Template, 2, 2, \"div\", 12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(101, \"div\", 10)(102, \"div\", 47)(103, \"label\", 18);\n    i0.ɵɵtext(104, \"T\\u00ECnh tr\\u1EA1ng: \");\n    i0.ɵɵtemplate(105, ErrorCreateComponent_ng_template_8_span_105_Template, 2, 0, \"span\", 48);\n    i0.ɵɵtemplate(106, ErrorCreateComponent_ng_template_8_span_106_Template, 2, 0, \"span\", 49);\n    i0.ɵɵtemplate(107, ErrorCreateComponent_ng_template_8_span_107_Template, 2, 0, \"span\", 50);\n    i0.ɵɵtemplate(108, ErrorCreateComponent_ng_template_8_span_108_Template, 2, 0, \"span\", 51);\n    i0.ɵɵtemplate(109, ErrorCreateComponent_ng_template_8_span_109_Template, 2, 0, \"span\", 52);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"items\", ctx_r2.listErrorGroup)(\"columns\", ctx_r2.columnName)(\"ngModel\", ctx_r2.model.ErrorGroupId);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.model.Subject);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.model.Code);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.planStartDate);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.planFinishDate);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"options\", i0.ɵɵpureFunction0(28, _c0))(\"ngModel\", ctx_r2.model.Price);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.model.Description);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"items\", ctx_r2.listProject)(\"columns\", ctx_r2.columnProject)(\"ngModel\", ctx_r2.model.ProjectId);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"items\", ctx_r2.listModule)(\"columns\", ctx_r2.columnModule)(\"ngModel\", ctx_r2.model.ObjectId);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"items\", ctx_r2.listDepartment)(\"columns\", ctx_r2.columnDeparterment)(\"ngModel\", ctx_r2.model.DepartmentId);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"items\", ctx_r2.listEmployee)(\"columns\", ctx_r2.columnEmployee)(\"ngModel\", ctx_r2.model.AuthorId);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r2.galleryOptions == null ? null : ctx_r2.galleryOptions.length) && (ctx_r2.galleryImages == null ? null : ctx_r2.galleryImages.length));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.model.Status == 1 || ctx_r2.model.Status == \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.model.Status == 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.model.Status == 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.model.Status == 4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.model.Status == 5);\n  }\n}\n\nfunction ErrorCreateComponent_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function ErrorCreateComponent_ng_container_13_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.save(false));\n    });\n    i0.ɵɵelement(2, \"i\", 60);\n    i0.ɵɵtext(3, \"\\u00A0 \");\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5, \"L\\u01B0u\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(2);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n  }\n}\n\nfunction ErrorCreateComponent_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function ErrorCreateComponent_ng_container_15_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.request());\n    });\n    i0.ɵɵelement(2, \"i\", 60);\n    i0.ɵɵtext(3, \"\\u00A0 \");\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5, \"Y\\u00EAu c\\u1EA7u x\\u00E1c nh\\u1EADn\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(6, \"\\u00A0 \");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(2);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n  }\n}\n\nfunction ErrorCreateComponent_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function ErrorCreateComponent_ng_container_16_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.showConfirm(ctx_r36.model.Id));\n    });\n    i0.ɵɵelement(2, \"i\", 60);\n    i0.ɵɵtext(3, \"\\u00A0 \");\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5, \"X\\u00E1c nh\\u1EADn\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(6, \"\\u00A0 \");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(2);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n  }\n}\n\nexport let ErrorCreateComponent = /*#__PURE__*/(() => {\n  class ErrorCreateComponent {\n    constructor(combobox, messageService, config, fileProcessImage, uploadService, appSetting, dateUtils, serviceError, checkSpecialCharacter, router, routeA) {\n      this.combobox = combobox;\n      this.messageService = messageService;\n      this.config = config;\n      this.fileProcessImage = fileProcessImage;\n      this.uploadService = uploadService;\n      this.appSetting = appSetting;\n      this.dateUtils = dateUtils;\n      this.serviceError = serviceError;\n      this.checkSpecialCharacter = checkSpecialCharacter;\n      this.router = router;\n      this.routeA = routeA;\n      this.listErrorGroup = [];\n      this.listDepartment = [];\n      this.listEmployee = [];\n      this.listProject = [];\n      this.listModule = [];\n      this.listStage = [];\n      this.columnModule = [{\n        Name: 'Code',\n        Title: 'Mã Module'\n      }, {\n        Name: 'Name',\n        Title: 'Tên Module'\n      }];\n      this.columnName = [{\n        Name: 'Code',\n        Title: 'Mã vấn đề'\n      }, {\n        Name: 'Name',\n        Title: 'Tên vấn đề'\n      }];\n      this.columnProject = [{\n        Name: 'Code',\n        Title: 'Mã dự án'\n      }, {\n        Name: 'Name',\n        Title: 'Tên dự án'\n      }];\n      this.columnType = [{\n        Name: 'Name',\n        Title: 'Tên loại vấn đề'\n      }];\n      this.columnDeparterment = [{\n        Name: 'Code',\n        Title: 'Mã bộ phận'\n      }, {\n        Name: 'Name',\n        Title: 'Tên bộ phận'\n      }];\n      this.columnEmployee = [{\n        Name: 'Code',\n        Title: 'Mã nhân viên'\n      }, {\n        Name: 'Name',\n        Title: 'Tên nhân viên'\n      }];\n      this.galleryImages = [];\n      this.listImage = [];\n      this.model = {\n        Id: '',\n        Subject: '',\n        Code: '',\n        Description: '',\n        ErrorGroupId: '',\n        DepartmentId: '',\n        AuthorId: '',\n        ErrorBy: '',\n        PlanStartDate: '',\n        PlanFinishDate: '',\n        ObjectId: '',\n        ModuleErrorVisualId: '',\n        DepartmentProcessId: '',\n        StageId: '',\n        FixBy: '',\n        ProjectId: '',\n        Status: '',\n        strHistory: '',\n        Type: 1,\n        Price: 0,\n        ListImage: []\n      };\n      this.fileImage = {\n        Id: '',\n        MaterialId: '',\n        Path: '',\n        ThumbnailPath: ''\n      };\n    }\n\n    ngOnInit() {\n      this.model.Id = this.routeA.snapshot.paramMap.get('Id');\n      this.getCbbDepartment();\n      this.getListErrorGroup();\n      this.getListProject();\n      this.getCbbEmployee();\n      this.galleryOptions = [{\n        width: '100%',\n        thumbnailsColumns: 4,\n        imageAnimation: NgxGalleryAnimation.Slide\n      }, // max-width 800\n      {\n        breakpoint: 800,\n        width: '100%',\n        imagePercent: 80,\n        thumbnailsPercent: 20,\n        thumbnailsMargin: 20,\n        thumbnailMargin: 20\n      }, // max-width 400\n      {\n        breakpoint: 400,\n        preview: false\n      }];\n\n      if (this.model.Id) {\n        this.getErrorInfo();\n      }\n    }\n\n    getErrorInfo() {\n      this.serviceError.getErrorInfo(this.model).subscribe(data => {\n        this.model = data; //this.getCbbEmployee(this.model.DepartmentId);\n\n        this.getCbbModule(this.model.ProjectId);\n\n        if (data.PlanStartDate != null) {\n          let dateArray1 = data.PlanStartDate.split('T')[0];\n          let dateValue1 = dateArray1.split('-');\n          let tempDateFromV1 = {\n            'day': parseInt(dateValue1[2]),\n            'month': parseInt(dateValue1[1]),\n            'year': parseInt(dateValue1[0])\n          };\n          this.planStartDate = tempDateFromV1;\n        }\n\n        if (data.PlanFinishDate != null) {\n          let dateArray2 = data.PlanFinishDate.split('T')[0];\n          let dateValue2 = dateArray2.split('-');\n          let tempDateFromV2 = {\n            'day': parseInt(dateValue2[2]),\n            'month': parseInt(dateValue2[1]),\n            'year': parseInt(dateValue2[0])\n          };\n          this.planFinishDate = tempDateFromV2;\n        }\n\n        for (var item of data.ListImage) {\n          this.galleryImages.push({\n            small: this.config.ServerFileApi + item.ThumbnailPath,\n            medium: this.config.ServerFileApi + item.Path,\n            big: this.config.ServerFileApi + item.Path\n          });\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    getCbbDepartment() {\n      this.combobox.getCbbDepartment().subscribe(data => {\n        this.listDepartment = data;\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    getCbbEmployee() {\n      this.combobox.getCbbEmployee().subscribe(data => {\n        this.listEmployee = data;\n      }, error => {\n        this.messageService.showError(error);\n      });\n    } // getCbbEmployee(DepartmentId: string) {\n    //   this.combobox.getEmployeeByDepartment(DepartmentId).subscribe(\n    //     data => {\n    //       this.listEmployee = data;\n    //     },\n    //     error => {\n    //       this.messageService.showError(error);\n    //     }\n    //   );\n    // }\n\n\n    getListErrorGroup() {\n      this.combobox.getListErrorGroup().subscribe(data => {\n        this.listErrorGroup = data;\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    getListProject() {\n      this.combobox.getListProject().subscribe(data => {\n        this.listProject = data;\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    getCbbModule(ProjectId) {\n      this.model.ProjectId = ProjectId;\n      this.serviceError.searchModule(this.model).subscribe(data => {\n        if (data) {\n          this.listModule = data;\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    } // getListModule() {\n    //   this.combobox.getListModule().subscribe(\n    //     data => {\n    //       this.listModule = data;\n    //     },\n    //     error => {\n    //       this.messageService.showError(error);\n    //     }\n    //   );\n    // }\n\n\n    save(isContinue) {\n      var validCode = this.checkSpecialCharacter.checkCode(this.model.Code);\n\n      if (validCode) {\n        if (this.model.Id == '') {\n          this.createError(isContinue);\n        } else {\n          this.model.strHistory = \"Cập nhật lỗi\";\n          this.updateError();\n        }\n      } else {\n        this.messageService.showConfirmCode(\"Mã không được chứa ký tự đặc biệt!\").then(data => {\n          if (this.model.Id == null) {\n            this.createError(isContinue);\n          } else {\n            this.model.strHistory = \"Cập nhật lỗi\";\n            this.updateError();\n          }\n        }, error => {});\n      }\n    }\n\n    request() {\n      if (this.model.ProjectId == \"\") {\n        this.messageService.showMessage(\"Bạn không được để trống dự án\");\n      } else if (this.model.ObjectId == \"\") {\n        this.messageService.showMessage(\"Bạn không được để trống module\");\n      } else if (this.model.DepartmentId == \"\") {\n        this.messageService.showMessage(\"Bạn không được để trống phòng ban gây lỗi\");\n      } else if (this.model.AuthorId == \"\") {\n        this.messageService.showMessage(\"Bạn không được để trống người gây lỗi\");\n      } else {\n        this.model.Status = 2;\n        this.model.strHistory = \"Yêu cầu xác nhận\";\n        this.updateError();\n      }\n    }\n\n    showConfirm(Id) {\n      this.router.navigate(['du-an/quan-ly-loi/xac-nhan-loi/', Id]);\n    }\n\n    createError(isContinue) {\n      if (this.planStartDate) {\n        this.model.PlanStartDate = this.dateUtils.convertObjectToDate(this.planStartDate);\n      }\n\n      if (this.planFinishDate) {\n        this.model.PlanFinishDate = this.dateUtils.convertObjectToDate(this.planFinishDate);\n      }\n\n      this.model.strHistory = \"Tạo lỗi\";\n      this.serviceError.createError(this.model).subscribe(data => {\n        if (isContinue) {\n          this.model = {\n            ListImage: []\n          };\n          this.planStartDate = '';\n          this.planFinishDate = '';\n          this.listImage = [];\n          this.galleryImages = [];\n          this.messageService.showSuccess('Thêm mới lỗi thành công!');\n        } else {\n          this.messageService.showSuccess('Thêm mới lỗi thành công!');\n          this.closeModal();\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    updateError() {\n      if (this.planStartDate) {\n        this.model.PlanStartDate = this.dateUtils.convertObjectToDate(this.planStartDate);\n      }\n\n      if (this.planFinishDate) {\n        this.model.PlanFinishDate = this.dateUtils.convertObjectToDate(this.planFinishDate);\n      } else {\n        this.model.PlanFinishDate = null;\n      }\n\n      this.serviceError.updateError(this.model).subscribe(() => {\n        this.closeModal();\n        this.messageService.showSuccess('Cập nhật lỗi thành công!');\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    closeModal() {\n      this.router.navigate(['du-an/quan-ly-loi']);\n    }\n\n    uploadFileClickImage($event) {\n      this.listImage = [];\n      var fileImage = this.fileProcessImage.getFileOnFileChange($event);\n\n      for (var item of fileImage) {\n        this.listImage.push(item);\n      }\n\n      this.uploadService.uploadListFile(this.listImage, 'Error/').subscribe(event => {\n        if (event.length > 0) {\n          event.forEach(item => {\n            var file = Object.assign({}, this.fileImage);\n            file.Path = item.FileUrl;\n            file.ThumbnailPath = item.FileUrlThum;\n            this.model.ListImage.push(file);\n            this.galleryImages.push({\n              small: this.config.ServerFileApi + item.FileUrlThum,\n              medium: this.config.ServerFileApi + item.FileUrlThum,\n              big: this.config.ServerFileApi + item.FileUrl\n            });\n          });\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n  }\n\n  ErrorCreateComponent.ɵfac = function ErrorCreateComponent_Factory(t) {\n    return new (t || ErrorCreateComponent)(i0.ɵɵdirectiveInject(i1.ComboboxService), i0.ɵɵdirectiveInject(i1.MessageService), i0.ɵɵdirectiveInject(i1.Configuration), i0.ɵɵdirectiveInject(i1.FileProcess), i0.ɵɵdirectiveInject(i2.UploadfileService), i0.ɵɵdirectiveInject(i1.AppSetting), i0.ɵɵdirectiveInject(i1.DateUtils), i0.ɵɵdirectiveInject(i3.ErrorService), i0.ɵɵdirectiveInject(i4.CheckSpecialCharacter), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i5.ActivatedRoute));\n  };\n\n  ErrorCreateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ErrorCreateComponent,\n    selectors: [[\"app-error-create\"]],\n    decls: 22,\n    vars: 5,\n    consts: [[1, \"content-wrapper\", \"app-module-create\"], [\"name\", \"form\", \"novalidate\", \"\", 1, \"tab-form-demo\"], [\"f\", \"ngForm\"], [\"ngbNav\", \"\", 1, \"nav-tabs\"], [\"nav\", \"ngbNav\"], [3, \"ngbNavItem\"], [\"ngbNavLink\", \"\"], [\"ngbNavContent\", \"\"], [3, \"ngbNavOutlet\"], [1, \"body-right\"], [1, \"row\"], [1, \"col-lg-12\", \"col-md-12\", \"col-sm-12\", \"col-xl-12\", \"text-right\", \"mt-3\", \"mb-3\"], [4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"fa\", \"fa-power-off\"], [1, \"col-xl-8\", \"col-lg-8\", \"col-md-8\", \"col-sm-12\"], [1, \"col-xl-6\", \"col-lg-6\", \"col-md-6\", \"col-sm-12\"], [1, \"form-group\"], [1, \"form-label\"], [1, \"text-danger\", \"text-strong\"], [1, \"controls\"], [\"ntsValue\", \"Id\", \"ntsLabel\", \"Code\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"ErrorGroupId\", \"required\", \"\", 3, \"items\", \"columns\", \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"Subjecterror\", \"maxlength\", \"300\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"Codeerror\", \"maxlength\", \"20\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group\"], [\"placeholder\", \"dd/mm/yyyy\", \"name\", \"PlanStartDate\", \"ngbDatepicker\", \"\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"PlanStartDate\", \"ngbDatepicker\"], [1, \"input-group-append\"], [1, \"dtp-icon\", 3, \"click\"], [1, \"far\", \"fa-calendar-alt\", 2, \"color\", \"#999\"], [\"placeholder\", \"dd/mm/yyyy\", \"name\", \"PlanFinishDate\", \"ngbDatepicker\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"PlanFinishDate\", \"ngbDatepicker\"], [\"currencyMask\", \"\", \"name\", \"Price\", \"type\", \"text\", \"maxlength\", \"18\", 1, \"form-control\", 3, \"options\", \"ngModel\", \"ngModelChange\"], [1, \"col-xl-12\", \"col-lg-12\", \"col-md-12\", \"col-sm-12\"], [\"type\", \"text\", \"rows\", \"2\", \"name\", \"Description\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"ntsValue\", \"Id\", \"ntsLabel\", \"Code\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"ProjectId\", \"required\", \"\", 3, \"items\", \"columns\", \"ngModel\", \"ngModelChange\"], [\"ntsValue\", \"Id\", \"ntsLabel\", \"Code\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"ObjectId\", 3, \"items\", \"columns\", \"ngModel\", \"ngModelChange\"], [\"ntsValue\", \"Id\", \"ntsLabel\", \"Name\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"DepartmentId\", 3, \"items\", \"columns\", \"ngModel\", \"ngModelChange\"], [\"ntsValue\", \"Id\", \"ntsLabel\", \"Code\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"AuthorId\", 3, \"items\", \"columns\", \"ngModel\", \"ngModelChange\"], [1, \"col-xl-4\", \"col-lg-4\", \"col-md-4\", \"col-sm-12\"], [1, \"col-lg-6\", \"col-md-6\", \"col-sm-6\"], [1, \"col-lg-6\", \"col-md-6\", \"col-sm-6\", \"text-right\"], [1, \"upload-btn-wrapper\", 2, \"margin-left\", \"5px\"], [1, \"btn\", \"btn-success\", \"btn-upload\", 3, \"click\"], [1, \"fas\", \"fa-arrow-up\"], [\"name\", \"fileDataSheet\", \"type\", \"file\", \"id\", \"fileDataSheet\", \"multiple\", \"\", \"accept\", \"image/*\", 2, \"display\", \"none\", 3, \"change\"], [\"fileImage\", \"\"], [1, \"col-lg-12\", \"col-md-12\", \"col-sm-12\", \"col-xl-12\", \"text-left\"], [\"class\", \"badge badge-info\", 4, \"ngIf\"], [\"class\", \"badge badge-danger\", 4, \"ngIf\"], [\"class\", \"badge badge-warning\", 4, \"ngIf\"], [\"class\", \"badge badge-success\", 4, \"ngIf\"], [\"class\", \"badge badge-secondary\", 4, \"ngIf\"], [1, \"ngx-gallery\", 3, \"options\", \"images\"], [1, \"badge\", \"badge-info\"], [1, \"badge\", \"badge-danger\"], [1, \"badge\", \"badge-warning\"], [1, \"badge\", \"badge-success\"], [1, \"badge\", \"badge-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-save\"]],\n    template: function ErrorCreateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2)(3, \"ul\", 3, 4)(5, \"li\", 5)(6, \"a\", 6);\n        i0.ɵɵtext(7, \"Th\\u00F4ng tin l\\u1ED7i\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, ErrorCreateComponent_ng_template_8_Template, 110, 29, \"ng-template\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(9, \"div\", 8);\n        i0.ɵɵelementStart(10, \"section\", 9)(11, \"div\", 10)(12, \"div\", 11);\n        i0.ɵɵtemplate(13, ErrorCreateComponent_ng_container_13_Template, 6, 1, \"ng-container\", 12);\n        i0.ɵɵtext(14, \"\\u00A0 \");\n        i0.ɵɵtemplate(15, ErrorCreateComponent_ng_container_15_Template, 7, 1, \"ng-container\", 12);\n        i0.ɵɵtemplate(16, ErrorCreateComponent_ng_container_16_Template, 7, 1, \"ng-container\", 12);\n        i0.ɵɵelementStart(17, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function ErrorCreateComponent_Template_button_click_17_listener() {\n          return ctx.closeModal();\n        });\n        i0.ɵɵelement(18, \"i\", 14);\n        i0.ɵɵtext(19, \" \\u00A0 \");\n        i0.ɵɵelementStart(20, \"span\");\n        i0.ɵɵtext(21, \" \\u0110\\u00F3ng \");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(4);\n\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngbNavItem\", 1);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngbNavOutlet\", _r1);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.model.Status == \"1\" || ctx.model.Status == \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.model.Id != \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.model.Status != \"1\" && ctx.model.Status != \"\");\n      }\n    },\n    styles: [\".app-module-create[_ngcontent-%COMP%]   .custom-control.custom-checkbox.margin-top-15[_ngcontent-%COMP%]{display:inline-block;margin:0 15px 0 0}.app-module-create[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .app-module-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block!important}.app-module-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{height:auto}.app-module-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   label.radio[_ngcontent-%COMP%]{display:inline-block;margin:19px 20px 0 0;padding-left:30px}.app-module-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{position:relative;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.app-module-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.app-module-create[_ngcontent-%COMP%]   .checkround[_ngcontent-%COMP%]{position:absolute;top:0px;left:0;height:16px;width:16px;background-color:#fff;border-color:#65a9f3;border-style:solid;border-width:1px;border-radius:50%}.app-module-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkround[_ngcontent-%COMP%]{background-color:#fff}.app-module-create[_ngcontent-%COMP%]   .checkround[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;display:none}.app-module-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkround[_ngcontent-%COMP%]:after{display:block}.app-module-create[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .checkround[_ngcontent-%COMP%]:after{left:2px;top:2px;width:10px;height:10px;border-radius:50%;background:#65a9f3}.app-module-create[_ngcontent-%COMP%]   .upload-btn-wrapper[_ngcontent-%COMP%]{float:right;margin:0 0 0 7px}.app-module-create[_ngcontent-%COMP%]   .dx-popup-wrapper[_ngcontent-%COMP%] > .dx-overlay-content[_ngcontent-%COMP%]{width:600px!important}\"]\n  });\n  return ErrorCreateComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}