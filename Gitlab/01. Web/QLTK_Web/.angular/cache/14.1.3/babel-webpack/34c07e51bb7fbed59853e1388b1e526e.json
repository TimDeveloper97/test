{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/shared\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/platform-browser\";\nimport * as i5 from \"src/app/device/services/product-group.service\";\nimport * as i6 from \"src/app/device/services/product.service\";\nimport * as i7 from \"../../service/practice.service\";\n\nfunction PacticeProductComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function PacticeProductComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.exportExcel());\n    });\n    i0.ɵɵelement(1, \"i\", 23);\n    i0.ɵɵtext(2, \" \\u00A0Xu\\u1EA5t excel\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PacticeProductComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 24);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 25);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 24);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 25);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    const i_r6 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r6 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r5.Code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r5.Name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r5.ProductGroupCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 7, row_r5.Pricing, \"1.0-0\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 10, row_r5.Quantity));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 12, row_r5.Quantity * row_r5.Pricing, \"1.0-0\"));\n  }\n}\n\nfunction PacticeProductComponent_tr_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 24);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 25);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 24);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 25);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const row_r7 = ctx.$implicit;\n    const i_r8 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r8 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r7.ModuleCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r7.ModuleName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r7.ModuleGroupCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 7, row_r7.Pricing, \"1.0-0\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 10, row_r7.Qty));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 12, row_r7.Qty * row_r7.Pricing, \"1.0-0\"));\n  }\n}\n\nconst _c0 = function () {\n  return [\"F040729\"];\n};\n\nexport let PacticeProductComponent = /*#__PURE__*/(() => {\n  class PacticeProductComponent {\n    constructor(router, config, messageService, modalService, titleservice, appSetting, constants, productGroup, productService, service, permissionService) {\n      this.router = router;\n      this.config = config;\n      this.messageService = messageService;\n      this.modalService = modalService;\n      this.titleservice = titleservice;\n      this.appSetting = appSetting;\n      this.constants = constants;\n      this.productGroup = productGroup;\n      this.productService = productService;\n      this.service = service;\n      this.permissionService = permissionService;\n      this.scrollConfig = {\n        suppressScrollX: false,\n        suppressScrollY: true,\n        minScrollbarLength: 20,\n        wheelPropagation: true\n      };\n      this.StartIndex = 0;\n      this.LstpageSize = [5, 10, 15, 20, 25, 30];\n      this.ListProductGroup = [];\n      this.ListProduct = [];\n      this.modules = [];\n      this.totalAmount = 0;\n      this.model = {\n        page: 1,\n        PageSize: 10,\n        TotalItem: 0,\n        PageNumber: 1,\n        OrderBy: 'Name',\n        OrderType: true,\n        Id: '',\n        Name: '',\n        Quantity: '',\n        TotalPrice: '',\n        MaterialId: '',\n        PracticeId: '',\n        listSelect: []\n      };\n    }\n\n    ngOnInit() {\n      this.appSetting.PageTitle = \"Chỉnh sửa bài thực hành/công đoạn\";\n      this.model.PracticeId = this.Id;\n      this.SearchPracticeProduct();\n    }\n\n    SearchPracticeProduct() {\n      if (!this.permissionService.checkPermission(['F040706'])) {\n        this.service.SearchPracticeProduct(this.model).subscribe(data => {\n          if (data) {\n            this.StartIndex = (this.model.PageNumber - 1) * this.model.PageSize + 1;\n            this.ListProduct = data.Products;\n            this.modules = data.Modules;\n            this.totalAmount = this.modules.reduce((a, b) => a + b.Qty * b.Pricing, 0);\n          }\n        }, error => {\n          this.messageService.showError(error);\n        });\n      }\n    }\n\n    exportExcel() {\n      this.service.exportExcelPracticeProduct(this.model).subscribe(d => {\n        var link = document.createElement('a');\n        link.setAttribute(\"type\", \"hidden\");\n        link.href = this.config.ServerApi + d;\n        link.download = 'Download.docx';\n        document.body.appendChild(link); // link.focus();\n\n        link.click();\n        document.body.removeChild(link);\n      }, e => {\n        this.messageService.showError(e);\n      });\n    }\n\n  }\n\n  PacticeProductComponent.ɵfac = function PacticeProductComponent_Factory(t) {\n    return new (t || PacticeProductComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.Configuration), i0.ɵɵdirectiveInject(i2.MessageService), i0.ɵɵdirectiveInject(i3.NgbModal), i0.ɵɵdirectiveInject(i4.Title), i0.ɵɵdirectiveInject(i2.AppSetting), i0.ɵɵdirectiveInject(i2.Constants), i0.ɵɵdirectiveInject(i5.ProductGroupService), i0.ɵɵdirectiveInject(i6.ProductService), i0.ɵɵdirectiveInject(i7.PracticeService), i0.ɵɵdirectiveInject(i2.PermissionService));\n  };\n\n  PacticeProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PacticeProductComponent,\n    selectors: [[\"app-pactice-product\"]],\n    inputs: {\n      Id: \"Id\"\n    },\n    decls: 81,\n    vars: 16,\n    consts: [[1, \"row\"], [1, \"col-md-8\", \"text-left\"], [1, \"form-label\", 2, \"line-height\", \"35px\"], [1, \"bold\", \"text-danger\"], [1, \"col-md-4\", \"text-right\"], [\"class\", \"btn btn-success btn-file\", 3, \"click\", 4, \"appUipermission\"], [1, \"btn\", \"btn-default\", \"btn-default-system\", 3, \"click\"], [1, \"fas\", \"fa-redo-alt\"], [1, \"col-lg-12\", \"col-md-12\", \"col-sm-12\"], [3, \"config\"], [1, \"table\", \"table-bordered\", \"table-fixed\", 2, \"min-width\", \"870px\"], [\"width\", \"50px\", 1, \"text-center\"], [\"width\", \"150px\", 1, \"text-center\"], [\"min-width\", \"150px\", 1, \"text-center\"], [\"width\", \"120px\", 1, \"text-center\"], [\"width\", \"100px\", 1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mt-3\"], [1, \"col-md-10\", \"text-left\"], [1, \"col-md-2\", \"text-right\"], [\"colspan\", \"6\", 1, \"text-right\", \"bold\"], [1, \"text-right\", \"bold\"], [1, \"btn\", \"btn-success\", \"btn-file\", 3, \"click\"], [1, \"fas\", \"fa-file-excel\"], [1, \"text-center\"], [1, \"text-right\"]],\n    template: function PacticeProductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"label\", 2);\n        i0.ɵɵtext(3, \"Danh s\\u00E1ch thi\\u1EBFt b\\u1ECB c\\u00F3 b\\u00E0i th\\u1EF1c h\\u00E0nh/c\\u00F4ng \\u0111o\\u1EA1n | \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"label\", 2);\n        i0.ɵɵtext(5, \"T\\u1ED5ng s\\u1ED1 \");\n        i0.ɵɵelementStart(6, \"span\", 3);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(8, \" thi\\u1EBFt b\\u1ECB \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 4);\n        i0.ɵɵtemplate(10, PacticeProductComponent_button_10_Template, 3, 0, \"button\", 5);\n        i0.ɵɵtext(11, \"\\u00A0 \");\n        i0.ɵɵelementStart(12, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function PacticeProductComponent_Template_button_click_12_listener() {\n          return ctx.SearchPracticeProduct();\n        });\n        i0.ɵɵelement(13, \"i\", 7);\n        i0.ɵɵtext(14, \" \\u00A0L\\u00E0m m\\u1EDBi\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"div\", 0)(16, \"div\", 8)(17, \"perfect-scrollbar\", 9)(18, \"table\", 10)(19, \"thead\")(20, \"tr\")(21, \"th\", 11);\n        i0.ɵɵtext(22, \"STT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"th\", 12);\n        i0.ɵɵtext(24, \"M\\u00E3 thi\\u1EBFt b\\u1ECB\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"th\", 13);\n        i0.ɵɵtext(26, \"T\\u00EAn thi\\u1EBFt b\\u1ECB\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"th\", 12);\n        i0.ɵɵtext(28, \"Nh\\u00F3m thi\\u1EBFt b\\u1ECB\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"th\", 14);\n        i0.ɵɵtext(30, \"Gi\\u00E1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"th\", 15);\n        i0.ɵɵtext(32, \"S\\u1ED1 l\\u01B0\\u1EE3ng\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"th\", 12);\n        i0.ɵɵtext(34, \"Th\\u00E0nh ti\\u1EC1n\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(35, \"tbody\");\n        i0.ɵɵtemplate(36, PacticeProductComponent_tr_36_Template, 18, 15, \"tr\", 16);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(37, \"div\", 17)(38, \"div\", 18)(39, \"label\", 2);\n        i0.ɵɵtext(40, \"Danh s\\u00E1ch module c\\u1EE7a b\\u00E0i th\\u1EF1c h\\u00E0nh/c\\u00F4ng \\u0111o\\u1EA1n | \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"label\", 2);\n        i0.ɵɵtext(42, \"T\\u1ED5ng s\\u1ED1 \");\n        i0.ɵɵelementStart(43, \"span\", 3);\n        i0.ɵɵtext(44);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(45, \" module | \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"label\", 2);\n        i0.ɵɵtext(47, \"T\\u1ED5ng s\\u1ED1 ti\\u1EC1n \");\n        i0.ɵɵelementStart(48, \"span\", 3);\n        i0.ɵɵtext(49);\n        i0.ɵɵpipe(50, \"number\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(51, \"div\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"div\", 0)(53, \"div\", 8)(54, \"perfect-scrollbar\", 9)(55, \"table\", 10)(56, \"thead\")(57, \"tr\")(58, \"th\", 11);\n        i0.ɵɵtext(59, \"STT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"th\", 12);\n        i0.ɵɵtext(61, \"M\\u00E3 module\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"th\", 13);\n        i0.ɵɵtext(63, \"T\\u00EAn module\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"th\", 12);\n        i0.ɵɵtext(65, \"Nh\\u00F3m module\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"th\", 14);\n        i0.ɵɵtext(67, \"Gi\\u00E1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"th\", 15);\n        i0.ɵɵtext(69, \"S\\u1ED1 l\\u01B0\\u1EE3ng\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"th\", 12);\n        i0.ɵɵtext(71, \"Th\\u00E0nh ti\\u1EC1n\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(72, \"tbody\");\n        i0.ɵɵtemplate(73, PacticeProductComponent_tr_73_Template, 18, 15, \"tr\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"tfoot\")(75, \"tr\")(76, \"td\", 20);\n        i0.ɵɵtext(77, \"T\\u1ED5ng s\\u1ED1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(78, \"td\", 21);\n        i0.ɵɵtext(79);\n        i0.ɵɵpipe(80, \"number\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.ListProduct.length);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(15, _c0));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"config\", ctx.constants.ScrollXConfig);\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngForOf\", ctx.ListProduct);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(ctx.modules.length);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(50, 9, ctx.totalAmount, \"1.0-0\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"config\", ctx.constants.ScrollXConfig);\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngForOf\", ctx.modules);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(80, 12, ctx.totalAmount, \"1.0-0\"));\n      }\n    }\n  });\n  return PacticeProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}