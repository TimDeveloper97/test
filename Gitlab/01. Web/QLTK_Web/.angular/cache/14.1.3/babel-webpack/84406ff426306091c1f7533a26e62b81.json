{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { BlockUI } from 'ng-block-ui';\nimport { BroadcastEventListener } from 'src/app/signalr/broadcast.event.listener';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"src/app/signalR/signal-r.service\";\nimport * as i3 from \"src/app/shared\";\nimport * as i4 from \"@angular/forms\";\nexport class RenameFileComponent {\n  constructor(activeModal, signalRService, messageService) {\n    this.activeModal = activeModal;\n    this.signalRService = signalRService;\n    this.messageService = messageService;\n    this.onMove = new BroadcastEventListener('getMoveFile');\n    this.model = {\n      Name: '',\n      Path: '',\n      PathForder: ''\n    };\n  }\n\n  ngOnInit() {\n    this.signalRService.listen(this.onMove, false);\n    this.getMove = this.onMove.subscribe(data => {\n      if (data) {\n        this.messageService.showSuccess('Di chuyển file thành công!');\n      } else {\n        this.messageService.showWarning('Di chuyển file thất bại!');\n      }\n\n      this.blockUI.stop();\n      this.closeModal();\n    });\n  }\n\n  move() {\n    if (!this.pathForder) {\n      this.messageService.showMessage(\"Bạn chưa chọn thư mục di chuyển đến\");\n      return;\n    }\n\n    this.model.Name = this.name;\n    this.model.Path = this.path;\n    this.model.PathForder = this.pathForder;\n    this.signalRService.invoke('MoveFile', this.model).subscribe(data => {\n      if (data) {\n        this.blockUI.start();\n      } else {\n        this.messageService.showMessage(\"Không kết nối được service\");\n      }\n    });\n  }\n\n  closeModal() {\n    this.activeModal.close(true);\n  }\n\n}\n\nRenameFileComponent.ɵfac = function RenameFileComponent_Factory(t) {\n  return new (t || RenameFileComponent)(i0.ɵɵdirectiveInject(i1.NgbActiveModal), i0.ɵɵdirectiveInject(i2.SignalRService), i0.ɵɵdirectiveInject(i3.MessageService));\n};\n\nRenameFileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RenameFileComponent,\n  selectors: [[\"app-rename-file\"]],\n  decls: 27,\n  vars: 1,\n  consts: [[1, \"modal-header\"], [1, \"modal-title\", \"text-uppercase\", \"text-danger\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\", \"padding-15\"], [\"name\", \"form\", \"novalidate\", \"\", 1, \"tab-form-demo\"], [\"f\", \"ngForm\"], [1, \"row\"], [1, \"col-xl-12\", \"col-lg-12\", \"col-md-12\", \"col-sm-12\"], [1, \"form-group\"], [1, \"form-label\"], [1, \"controls\"], [\"type\", \"text\", \"name\", \"namefile\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"fa\", \"fa-save\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"fa\", \"fa-power-off\"]],\n  template: function RenameFileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\", 1);\n      i0.ɵɵtext(2, \"\\u0110\\u1ED5i t\\u00EAn file\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function RenameFileComponent_Template_button_click_3_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵelementStart(4, \"span\", 3);\n      i0.ɵɵtext(5, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"form\", 5, 6)(9, \"div\", 7)(10, \"div\", 8)(11, \"div\", 9)(12, \"label\", 10);\n      i0.ɵɵtext(13, \"T\\u00EAn file \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 11)(15, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function RenameFileComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.name = $event;\n      });\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelementStart(16, \"div\", 13)(17, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function RenameFileComponent_Template_button_click_17_listener() {\n        return ctx.move();\n      });\n      i0.ɵɵelement(18, \"i\", 15);\n      i0.ɵɵtext(19, \"\\u00A0 \");\n      i0.ɵɵelementStart(20, \"span\");\n      i0.ɵɵtext(21, \"Di chuy\\u1EC3n\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function RenameFileComponent_Template_button_click_22_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵelement(23, \"i\", 17);\n      i0.ɵɵtext(24, \" \\u00A0 \");\n      i0.ɵɵelementStart(25, \"span\");\n      i0.ɵɵtext(26, \" \\u0110\\u00F3ng \");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngModel\", ctx.name);\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm]\n});\n\n__decorate([BlockUI()], RenameFileComponent.prototype, \"blockUI\", void 0);","map":null,"metadata":{},"sourceType":"module"}