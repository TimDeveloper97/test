{"ast":null,"code":"import { ChooseSolutionComponent } from '../choose-solution/choose-solution.component';\nimport { forkJoin } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared\";\nimport * as i2 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i3 from \"../../service/project-solution.service\";\nimport * as i4 from \"src/app/shared/services/download.service\";\n\nfunction ProjectSolutionComponent_button_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ProjectSolutionComponent_button_21_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.showClick());\n    });\n    i0.ɵɵelement(1, \"span\", 28);\n    i0.ɵɵtext(2, \" Ch\\u1ECDn \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function ProjectSolutionComponent_tr_69_ng_container_1_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      const i_r7 = ctx_r23.index;\n      const row_r6 = ctx_r23.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.showConfirmDeleteSolution(i_r7, row_r6.Id));\n    });\n    i0.ɵɵelement(1, \"span\", 40);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 42);\n    i0.ɵɵelement(2, \"i\", 43);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 44);\n    i0.ɵɵelement(2, \"i\", 45);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 42);\n    i0.ɵɵelement(2, \"i\", 43);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 44);\n    i0.ɵɵelement(2, \"i\", 45);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 42);\n    i0.ɵɵelement(2, \"i\", 43);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 44);\n    i0.ɵɵelement(2, \"i\", 45);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 42);\n    i0.ɵɵelement(2, \"i\", 43);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 44);\n    i0.ɵɵelement(2, \"i\", 45);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 42);\n    i0.ɵɵelement(2, \"i\", 43);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 44);\n    i0.ɵɵelement(2, \"i\", 45);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 42);\n    i0.ɵɵelement(2, \"i\", 43);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"span\", 44);\n    i0.ɵɵelement(2, \"i\", 45);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nconst _c0 = function () {\n  return [\"F060027\"];\n};\n\nfunction ProjectSolutionComponent_tr_69_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\", 31);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 31);\n    i0.ɵɵtemplate(4, ProjectSolutionComponent_tr_69_ng_container_1_button_4_Template, 2, 0, \"button\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\")(24, \"div\")(25, \"div\", 33);\n    i0.ɵɵelement(26, \"input\", 34)(27, \"label\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(28, ProjectSolutionComponent_tr_69_ng_container_1_div_28_Template, 3, 0, \"div\", 36);\n    i0.ɵɵtemplate(29, ProjectSolutionComponent_tr_69_ng_container_1_div_29_Template, 3, 0, \"div\", 37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"td\")(31, \"div\")(32, \"div\", 33);\n    i0.ɵɵelement(33, \"input\", 34)(34, \"label\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(35, ProjectSolutionComponent_tr_69_ng_container_1_div_35_Template, 3, 0, \"div\", 36);\n    i0.ɵɵtemplate(36, ProjectSolutionComponent_tr_69_ng_container_1_div_36_Template, 3, 0, \"div\", 37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(37, \"td\")(38, \"div\")(39, \"div\", 33);\n    i0.ɵɵelement(40, \"input\", 34)(41, \"label\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(42, ProjectSolutionComponent_tr_69_ng_container_1_div_42_Template, 3, 0, \"div\", 36);\n    i0.ɵɵtemplate(43, ProjectSolutionComponent_tr_69_ng_container_1_div_43_Template, 3, 0, \"div\", 37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"td\")(45, \"div\")(46, \"div\", 33);\n    i0.ɵɵelement(47, \"input\", 34)(48, \"label\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(49, ProjectSolutionComponent_tr_69_ng_container_1_div_49_Template, 3, 0, \"div\", 36);\n    i0.ɵɵtemplate(50, ProjectSolutionComponent_tr_69_ng_container_1_div_50_Template, 3, 0, \"div\", 37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(51, \"td\")(52, \"div\")(53, \"div\", 33);\n    i0.ɵɵelement(54, \"input\", 34)(55, \"label\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(56, ProjectSolutionComponent_tr_69_ng_container_1_div_56_Template, 3, 0, \"div\", 36);\n    i0.ɵɵtemplate(57, ProjectSolutionComponent_tr_69_ng_container_1_div_57_Template, 3, 0, \"div\", 37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(58, \"td\")(59, \"div\")(60, \"div\", 33);\n    i0.ɵɵelement(61, \"input\", 34)(62, \"label\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(63, ProjectSolutionComponent_tr_69_ng_container_1_div_63_Template, 3, 0, \"div\", 36);\n    i0.ɵɵtemplate(64, ProjectSolutionComponent_tr_69_ng_container_1_div_64_Template, 3, 0, \"div\", 37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(65, \"td\", 38);\n    i0.ɵɵtext(66);\n    i0.ɵɵpipe(67, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(68, \"td\", 31);\n    i0.ɵɵtext(69);\n    i0.ɵɵpipe(70, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(71, \"td\");\n    i0.ɵɵtext(72);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext();\n    const i_r7 = ctx_r25.index;\n    const row_r6 = ctx_r25.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r7 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(56, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r6.Name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r6.Code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r6.SolutionGroupName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r6.ProjectCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r6.ProjectName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r6.CustomerName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r6.EndCustomerName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r6.TPAUName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r6.SolutionMakerName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", row_r6.Has3DSolution)(\"id\", i_r7)(\"name\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r6.Design3DExist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r6.Design3DExist);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", row_r6.Has2D)(\"id\", i_r7)(\"name\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r6.Design2DExist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r6.Design2DExist);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", row_r6.HasExplan)(\"id\", i_r7)(\"name\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r6.ExplanExist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r6.ExplanExist);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", row_r6.HasDMVT)(\"id\", i_r7)(\"name\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r6.DMVTExist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r6.DMVTExist);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", row_r6.HasFCM)(\"id\", i_r7)(\"name\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r6.FCMExist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r6.FCMExist);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", row_r6.HasTSKT)(\"id\", i_r7)(\"name\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r6.TSTKExist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r6.TSTKExist);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(67, 50, row_r6.Price, \"1.0-0\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(70, 53, row_r6.FinishDate, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(row_r6.Description);\n  }\n}\n\nconst _c1 = function (a0) {\n  return {\n    \"selected\": a0\n  };\n};\n\nfunction ProjectSolutionComponent_tr_69_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 29);\n    i0.ɵɵlistener(\"click\", function ProjectSolutionComponent_tr_69_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const i_r7 = restoredCtx.index;\n      const row_r6 = restoredCtx.$implicit;\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.loadParam(i_r7, row_r6.ProjectSolutionId, row_r6.Id));\n    });\n    i0.ɵɵtemplate(1, ProjectSolutionComponent_tr_69_ng_container_1_Template, 73, 57, \"ng-container\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r6 = ctx.$implicit;\n    const i_r7 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c1, ctx_r1.selectIndex == i_r7));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r6.IsDelete == false);\n  }\n}\n\nfunction ProjectSolutionComponent_tr_98_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 46)(2, \"input\", 47);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectSolutionComponent_tr_98_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const row_r28 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(row_r28.Checked = $event);\n    })(\"change\", function ProjectSolutionComponent_tr_98_Template_input_change_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const row_r28 = restoredCtx.$implicit;\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.selectFunction(row_r28));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"td\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 38);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const row_r28 = ctx.$implicit;\n    const i_r29 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"name\", \"Checked\" + row_r28.Name + i_r29);\n    i0.ɵɵproperty(\"ngModel\", row_r28.Checked);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.StartIndex + i_r29);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r28.ContractCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r28.ContractName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r28.Code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r28.Name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(15, 9, row_r28.Price));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(row_r28.Note);\n  }\n}\n\nfunction ProjectSolutionComponent_button_100_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function ProjectSolutionComponent_button_100_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.createProjectSolution());\n    });\n    i0.ɵɵelement(1, \"i\", 49);\n    i0.ɵɵtext(2, \"\\u00A0 \");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"L\\u01B0u\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nconst _c2 = function () {\n  return [\"F060026\"];\n};\n\nconst _c3 = function () {\n  return [\"F060501\", \"F060502\"];\n};\n\nconst _c4 = function () {\n  return [\"F060026\", \"F060027\"];\n};\n\nexport let ProjectSolutionComponent = /*#__PURE__*/(() => {\n  class ProjectSolutionComponent {\n    constructor(constants, config, modalService, service, servicedown, messageService) {\n      this.constants = constants;\n      this.config = config;\n      this.modalService = modalService;\n      this.service = service;\n      this.servicedown = servicedown;\n      this.messageService = messageService;\n      this.result = {\n        TotalItems: 0,\n        ListResult: []\n      };\n      this.model = {\n        ProjectId: '',\n        ListResult: [],\n        ListProduct: [],\n        ProjectProductSolutionId: ''\n      };\n      this.downloadModel = {\n        Name: '',\n        ListDatashet: []\n      };\n      this.selectIndex = -1;\n      this.listProjectProduct = [];\n      this.listTemp = [];\n      this.StartIndex = 1;\n    }\n\n    ngOnInit() {\n      this.model.ProjectId = this.Id;\n      this.searchProjectSolution();\n      this.getProjectProductToSolution();\n      this.StatusSolutionProduct();\n    }\n\n    getProjectProductToSolution() {\n      this.service.getProjectProductByProjectId(this.Id, this.SolutionSelect).subscribe(data => {\n        if (data) {\n          this.listProjectProduct = data;\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    searchProjectSolution() {\n      this.service.searchProjectSolution(this.model).subscribe(data => {\n        this.model.ListResult = data.ListResult;\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    createProjectSolution() {\n      if (this.selectIndex == -1) {\n        this.model.ListProduct = [];\n      } else {\n        this.model.ListProduct = [];\n        this.listProjectProduct.forEach(element => {\n          if (element.Checked) {\n            this.model.ListProduct.push(element);\n          }\n        });\n      }\n\n      this.service.addProjectSolution(this.model).subscribe(data => {\n        this.messageService.showSuccess('Cập nhật giải pháp thành công!');\n        this.searchProjectSolution();\n        this.StatusSolutionProduct();\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    showConfirmDeleteSolution(index, Id) {\n      this.messageService.showConfirm(\"Bạn có chắc muốn xoá giải pháp này không?\").then(data => {\n        if (Id == \"\" || Id == null) {\n          this.model.ListResult.splice(index, 1);\n        } else {\n          this.model.ListResult[index].IsDelete = true;\n        }\n\n        this.messageService.showSuccess(\"Xóa giải pháp thành công!\");\n        this.selectIndex = -1;\n        this.loadParam('', '', '');\n      }, error => {});\n    }\n\n    showClick() {\n      let activeModal = this.modalService.open(ChooseSolutionComponent, {\n        container: 'body',\n        windowClass: 'choose-solution',\n        backdrop: 'static'\n      });\n      var listIdSelect = [];\n      this.model.ListResult.forEach(element => {\n        listIdSelect.push(element.Id);\n      });\n      activeModal.componentInstance.listIdSelect = listIdSelect;\n      activeModal.result.then(result => {\n        if (result && result.length > 0) {\n          result.forEach(element => {\n            element.IsDelete = false;\n            this.model.ListResult.push(element);\n          });\n        }\n      }, reason => {});\n    }\n\n    downAllDocumentProcess(data, type) {\n      if (data.length == 0) {\n        this.messageService.showError(\"Không có file để tải\");\n        return;\n      }\n\n      var listFilePath = [];\n      data.forEach(element => {\n        if (element.Type == type) {\n          listFilePath.push({\n            Path: element.Path,\n            FileName: element.FileName\n          });\n        }\n      });\n      this.downloadModel.Name = \"GiaiPhap\";\n      this.downloadModel.ListDatashet = listFilePath;\n      this.servicedown.downloadAll(this.downloadModel).subscribe(data => {\n        var link = document.createElement('a');\n        link.setAttribute(\"type\", \"hidden\");\n        link.href = this.config.ServerFileApi + data.PathZip;\n        link.download = 'Download.zip';\n        document.body.appendChild(link); // link.focus();\n\n        link.click();\n        document.body.removeChild(link);\n      }, e => {\n        this.messageService.showError(e);\n      });\n    }\n\n    loadParam(index, projectSulotionId, solutionId) {\n      this.selectIndex = index;\n      this.SolutionSelect = projectSulotionId;\n      this.model.ProjectProductSolutionId = projectSulotionId;\n      this.model.SolutionId = solutionId;\n      forkJoin([this.service.getProjectProductByProjectId(this.Id, this.SolutionSelect)]).subscribe(([data1]) => {\n        this.listProjectProduct = data1;\n      });\n    }\n\n    selectAllFunction() {\n      if (this.checked) {\n        this.listProjectProduct.forEach(element => {\n          element.Checked = true; //this.listTemp.push(element);\n        });\n      } else {\n        this.listProjectProduct.forEach(element => {\n          element.Checked = false; //this.listTemp = [];\n        });\n      }\n    }\n\n    selectFunction(event) {\n      this.listProjectProduct.forEach(element => {\n        if (event.Id == element.Id) {\n          if (event.Checked) {\n            element.Checked = true;\n          } else {\n            element.Checked = false;\n          }\n        }\n      });\n    }\n\n    StatusSolutionProduct() {\n      this.service.StatusSolutionProduct(this.Id).subscribe(data => {\n        if (data) {\n          this.totalProduct = data.TotalProduct;\n          this.totalProjectSolutionProduct = data.TotalProjectSolutionProduct;\n          this.statusProduct = data.Status;\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n  }\n\n  ProjectSolutionComponent.ɵfac = function ProjectSolutionComponent_Factory(t) {\n    return new (t || ProjectSolutionComponent)(i0.ɵɵdirectiveInject(i1.Constants), i0.ɵɵdirectiveInject(i1.Configuration), i0.ɵɵdirectiveInject(i2.NgbModal), i0.ɵɵdirectiveInject(i3.ProjectSolutionService), i0.ɵɵdirectiveInject(i4.DownloadService), i0.ɵɵdirectiveInject(i1.MessageService));\n  };\n\n  ProjectSolutionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProjectSolutionComponent,\n    selectors: [[\"app-project-solution\"]],\n    inputs: {\n      Id: \"Id\"\n    },\n    decls: 101,\n    vars: 16,\n    consts: [[1, \"row\"], [1, \"col-xl-8\", \"col-lg-8\", \"col-md-12\", \"col-sm-12\", \"paddingcreate\", \"text-left\"], [1, \"form-label\", 2, \"line-height\", \"35px\"], [1, \"bold\", \"text-danger\"], [1, \"col-xl-4\", \"col-md-4\", \"col-sm-4\", \"col-xs-12\", \"text-right\", \"mb-1\"], [1, \"btn\", \"btn-default\", \"btn-default-system\", 3, \"click\"], [1, \"fas\", \"fa-redo-alt\"], [\"type\", \" button\", \"class\", \"btn btn-success\", 3, \"click\", 4, \"appUipermission\"], [1, \"col-xl-12\", \"col-md-12\", \"col-sm-12\", \"col-xs-12\"], [2, \"height\", \"auto\", \"width\", \"100%\", 3, \"config\"], [1, \"table\", \"table-bordered\", 2, \"min-width\", \"3100px\"], [\"width\", \"50px\", 1, \"text-center\"], [\"width\", \"200px\", 1, \"text-center\"], [\"width\", \"150px\", 1, \"text-center\"], [\"width\", \"160px\", 1, \"text-center\"], [\"width\", \"100px\", 1, \"text-center\"], [\"width\", \"130px\", 1, \"text-center\"], [\"min-width\", \"200px\", 1, \"text-center\"], [3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-uppercase\", 2, \"white-space\", \"nowrap\"], [1, \"table\", \"table-bordered\", 2, \"min-width\", \"500px\"], [\"width\", \"50px\", 2, \"text-align\", \"center\", \"padding-top\", \"10px\"], [\"type\", \"checkbox\", \"name\", \"checked\", 2, \"height\", \"20px\", \"width\", \"20px\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\", \"change\"], [\"width\", \"140px\", 1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-xl-12\", \"col-md-12\", \"col-sm-12\", \"col-xs-12\", \"text-right\"], [\"type\", \"button\", \"class\", \"btn btn-success\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \" button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-plus\"], [3, \"ngClass\", \"click\"], [4, \"ngIf\"], [1, \"text-center\"], [\"class\", \"btn btn-xs btn-danger\", \"placement\", \"top\", \"ngbTooltip\", \"X\\u00F3a\", \"container\", \"body\", 3, \"click\", 4, \"appUipermission\"], [1, \"custom-control\", \"custom-checkbox\", \"margin-left-25\"], [\"type\", \"checkbox\", \"disabled\", \"\", 1, \"custom-control-input\", 3, \"ngModel\", \"id\", \"name\"], [1, \"custom-control-label\", 3, \"for\"], [\"class\", \"custom-control custom-checkbox\", 4, \"ngIf\"], [\"class\", \" custom-control custom-checkbox\", 4, \"ngIf\"], [1, \"text-right\"], [\"placement\", \"top\", \"ngbTooltip\", \"X\\u00F3a\", \"container\", \"body\", 1, \"btn\", \"btn-xs\", \"btn-danger\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fas\", \"fa-times\"], [1, \"custom-control\", \"custom-checkbox\"], [2, \"font-size\", \"16px\", \"color\", \"forestgreen\"], [1, \"fas\", \"fa-check\"], [2, \"font-size\", \"16px\", \"color\", \"red\"], [1, \"fas\", \"fa-exclamation-triangle\"], [2, \"text-align\", \"center\"], [\"type\", \"checkbox\", 2, \"height\", \"20px\", \"width\", \"20px\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"change\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"fa\", \"fa-save\"]],\n    template: function ProjectSolutionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"label\", 2);\n        i0.ɵɵtext(3, \"\\u00A0\\u00A0T\\u1ED5ng s\\u1ED1 \");\n        i0.ɵɵelementStart(4, \"span\", 3);\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(6, \" gi\\u1EA3i ph\\u00E1p |\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"label\", 2);\n        i0.ɵɵtext(8, \"\\u00A0\\u00A0T\\u1ED5ng s\\u1ED1 s\\u1EA3n ph\\u1EA9m \\u0111\\u00E3 c\\u00F3 gi\\u1EA3i ph\\u00E1p: \");\n        i0.ɵɵelementStart(9, \"span\", 3);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(11, \" |\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"label\", 2);\n        i0.ɵɵtext(13, \"\\u00A0\\u00A0Tr\\u1EA1ng th\\u00E1i: \");\n        i0.ɵɵelementStart(14, \"span\", 3);\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(16, \"div\", 4)(17, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function ProjectSolutionComponent_Template_button_click_17_listener() {\n          return ctx.searchProjectSolution();\n        });\n        i0.ɵɵelement(18, \"i\", 6);\n        i0.ɵɵtext(19, \" \\u00A0L\\u00E0m m\\u1EDBi\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(20, \" \\u00A0 \");\n        i0.ɵɵtemplate(21, ProjectSolutionComponent_button_21_Template, 3, 0, \"button\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\", 0)(23, \"div\", 8)(24, \"perfect-scrollbar\", 9)(25, \"table\", 10)(26, \"thead\")(27, \"tr\")(28, \"th\", 11);\n        i0.ɵɵtext(29, \"STT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"th\", 11);\n        i0.ɵɵtext(31, \"X\\u1EED l\\u00FD\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"th\", 12);\n        i0.ɵɵtext(33, \"T\\u00EAn gi\\u1EA3i ph\\u00E1p\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"th\", 12);\n        i0.ɵɵtext(35, \"M\\u00E3 gi\\u1EA3i ph\\u00E1p\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"th\", 12);\n        i0.ɵɵtext(37, \"Nh\\u00F3m gi\\u1EA3i ph\\u00E1p\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"th\", 12);\n        i0.ɵɵtext(39, \"M\\u00E3 d\\u1EF1 \\u00E1n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"th\", 12);\n        i0.ɵɵtext(41, \"T\\u00EAn d\\u1EF1 \\u00E1n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"th\", 13);\n        i0.ɵɵtext(43, \"Kh\\u00E1ch h\\u00E0ng\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"th\", 13);\n        i0.ɵɵtext(45, \"Kh\\u00E1ch h\\u00E0ng cu\\u1ED1i\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"th\", 12);\n        i0.ɵɵtext(47, \"Ng\\u01B0\\u1EDDi ph\\u1EE5 tr\\u00E1ch kinh doanh\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"th\", 14);\n        i0.ɵɵtext(49, \"Ng\\u01B0\\u1EDDi l\\u00E0m gi\\u1EA3i ph\\u00E1p\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"th\", 13);\n        i0.ɵɵtext(51, \"3D gi\\u1EA3i ph\\u00E1p\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"th\", 13);\n        i0.ɵɵtext(53, \"BV t\\u1ED5ng 2D\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"th\", 13);\n        i0.ɵɵtext(55, \"B\\u1EA3n gi\\u1EA3i tr\\u00ECnh\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"th\", 13);\n        i0.ɵɵtext(57, \"DMVT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"th\", 13);\n        i0.ɵɵtext(59, \"FCM\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"th\", 13);\n        i0.ɵɵtext(61, \"TSKT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"th\", 15);\n        i0.ɵɵtext(63, \"Gi\\u00E1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"th\", 16);\n        i0.ɵɵtext(65, \"Ng\\u00E0y ho\\u00E0n th\\u00E0nh\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"th\", 17);\n        i0.ɵɵtext(67, \"M\\u00F4 t\\u1EA3\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(68, \"tbody\");\n        i0.ɵɵtemplate(69, ProjectSolutionComponent_tr_69_Template, 2, 4, \"tr\", 18);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(70, \"div\", 8)(71, \"p\", 19)(72, \"b\");\n        i0.ɵɵtext(73, \"T\\u1ED5ng s\\u1ED1 \");\n        i0.ɵɵelementStart(74, \"span\", 3);\n        i0.ɵɵtext(75);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(76, \" s\\u1EA3n ph\\u1EA9m\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(77, \"perfect-scrollbar\", 9)(78, \"table\", 20)(79, \"thead\")(80, \"tr\")(81, \"th\", 21)(82, \"input\", 22);\n        i0.ɵɵlistener(\"ngModelChange\", function ProjectSolutionComponent_Template_input_ngModelChange_82_listener($event) {\n          return ctx.checked = $event;\n        })(\"change\", function ProjectSolutionComponent_Template_input_change_82_listener() {\n          return ctx.selectAllFunction();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(83, \"th\", 11);\n        i0.ɵɵtext(84, \"STT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(85, \"th\", 16);\n        i0.ɵɵtext(86, \"M\\u00E3 theo h\\u1EE3p \\u0111\\u1ED3ng\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(87, \"th\", 23);\n        i0.ɵɵtext(88, \"T\\u00EAn theo h\\u1EE3p \\u0111\\u1ED3ng\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(89, \"th\", 13);\n        i0.ɵɵtext(90, \"M\\u00E3 TK\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(91, \"th\", 17);\n        i0.ɵɵtext(92, \"T\\u00EAn TK\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(93, \"th\", 15);\n        i0.ɵɵtext(94, \"Gi\\u00E1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(95, \"th\", 12);\n        i0.ɵɵtext(96, \"Ghi ch\\u00FA\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(97, \"tbody\");\n        i0.ɵɵtemplate(98, ProjectSolutionComponent_tr_98_Template, 18, 11, \"tr\", 24);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(99, \"div\", 25);\n        i0.ɵɵtemplate(100, ProjectSolutionComponent_button_100_Template, 5, 0, \"button\", 26);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.model.ListResult.length);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate2(\"\", ctx.totalProjectSolutionProduct, \" / \", ctx.totalProduct, \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.statusProduct);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(13, _c2));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"config\", ctx.constants.ScrollXConfig);\n        i0.ɵɵadvance(45);\n        i0.ɵɵproperty(\"ngForOf\", ctx.model.ListResult);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.listProjectProduct.length);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"config\", ctx.constants.ScrollXConfig);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(14, _c3))(\"ngModel\", ctx.checked);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listProjectProduct);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(15, _c4));\n      }\n    },\n    styles: [\"app-project-solution .custom-checkbox i.fas.fa-exclamation-triangle,app-project-solution .custom-checkbox i.fas.fa-check{position:relative!important;right:17px}app-project-solution .custom-checkbox{width:30%;float:left!important}app-project-solution .DMTV{width:50%!important;float:left!important}app-project-solution .selected{background-color:#43e0e0!important}\\n\"],\n    encapsulation: 2\n  });\n  return ProjectSolutionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}