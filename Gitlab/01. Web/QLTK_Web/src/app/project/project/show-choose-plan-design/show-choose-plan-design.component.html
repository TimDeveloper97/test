<div class="modal-header">
  <h4 class="modal-title text-uppercase text-danger">{{modalInfo.Title}}</h4>
  <button style="color: brown" type="button" class="close" aria-label="Close" (click)="closeModal()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body padding-15">
  <form name="form" #f="ngForm" novalidate>
    <div class="row" #scrollPlan>
      <div class="col-xs-12 col-lg-12 col-md-12 col-sm-12 text-left">
        <label class="form-label" style="line-height:35px;">Danh sách các công việc chưa hoàn thành của thiết kế</label>
      </div>
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div #scrollPlanHeader style="overflow-x: auto;overflow: hidden;">
          <table class="table table-bordered table-fixed mb-0" style="min-width:2170px">
            <thead>
              <tr>
                <th width="50px" class="text-center">STT</th>
                <th class="text-center" width="50px">
                  <div class="custom-control custom-checkbox">
                    <!-- <input class="text-center" [(ngModel)]="checked" type="checkbox" class="custom-control-input"
                      id="checkAll" name="checkAll">
                    <label class="custom-control-label" for="checkAll"></label> -->
                    <input class="text-center" [(ngModel)]="checked" type="checkbox" class="custom-control-input"
                      id="checkAllPlan" name="checkAllPlan" (change)="checkAllPlan(checked)">
                    <label class="custom-control-label" for="checkAllPlan"></label>
                  </div>
                </th>
                <th min-width="200px" class="text-center">Công việc</th>
                <th width="150px" class="text-center">Mã theo thiết kế</th>
                <th width="100px" class="text-center">Mã dự án</th>
                <th width="200px" class="text-center">Nhân viên thực hiện</th>
                <th width="100px" class="text-center">Thời gian thực hiện</th>
                <th width="70px" class="text-center">% hoàn thành</th>
                <th width="100px" class="text-center">Ngày bắt đầu dư kiến</th>
                <th width="100px" class="text-center">Ngày kết thúc dự kiến</th>
                <th width="100px" class="text-center">Ngày bắt đầu thực tế</th>
                <th width="100px" class="text-center">Ngày kết thúc thực tế</th>
                <th width="200px" class="text-center">Tên dự án</th>
                <th width="150px" class="text-center">Mã theo hợp đồng</th>
                <th width="250px" class="text-center">Tên theo hợp đồng</th>
                <th width="250px" class="text-center">Tên theo thiết kế</th>
              </tr>
            </thead>
          </table>
        </div>
        <perfect-scrollbar [config]="constants.ScrollConfig" [style.height.px]="400">
          <table class="table table-bordered table-fixed" style="min-width:2170px">
            <colgroup>
              <col width="50px">
              <col width="50px">
              <col min-width="200px">
              <col width="150px">
              <col width="100px">
              <col width="200px">
              <col width="100px">
              <col width="70px">
              <col width="100px">
              <col width="100px">
              <col width="100px">
              <col width="100px">
              <col width="200px">
              <col width="150px">
              <col width="250px">
              <col width="250px">
            </colgroup>
            <tbody>
              <tr *ngFor="let row of listData; let i = index">
                <td width="50px" class="text-center">{{i+1}}</td>
                <td width="50px" class="text-center">
                  <div class="custom-control custom-checkbox">
                    <input class="text-center" [(ngModel)]="row.Checked" type="checkbox" class="custom-control-input"
                      [id]="'a'+i" [name]="'a'+i">
                    <label class="custom-control-label" [for]="'a'+i"></label>
                  </div>
                  <!-- <input
                        *ngIf="row.CreateIndex==model.CreateIndex||row.CreateIndex<model.CreateIndex||row.ModuleStatus==0"
                        type="checkbox" [(ngModel)]="row.Checked" name="{{'Checked'+i}}"
                        style="height:20px; width:20px;" [disUipermission]="['F060022','F060023']"> -->
                </td>
                <td min-width="200px">{{row.TaskName}}</td>
                <td width="150px">{{row.DesignCode}}</td>
                <td width="100px">{{row.ProjectCode}}</td>
                <td width="200px">{{row.ResponsiblePersionName}}</td>
                <td class="text-center" width="100px">{{row.ExecutionTime}}</td>
                <td class="text-right" width="70px">
                  <span *ngIf="row.Done==1">0 %</span>
                  <span *ngIf="row.Done==2">10 %</span>
                  <span *ngIf="row.Done==3">20 %</span>
                  <span *ngIf="row.Done==4">30 %</span>
                  <span *ngIf="row.Done==5">40 %</span>
                  <span *ngIf="row.Done==6">50 %</span>
                  <span *ngIf="row.Done==7">60 %</span>
                  <span *ngIf="row.Done==8">70 %</span>
                  <span *ngIf="row.Done==9">80 %</span>
                  <span *ngIf="row.Done==10">90 %</span>
                  <span *ngIf="row.Done==11">100 %</span>
                </td>
                <td class="text-center" width="100px">{{row.StartDate| date:'dd/MM/yyyy' }}</td>
                <td class="text-center" width="100px">{{row.EndDate |date:'dd/MM/yyyy'  }}</td>
                <td class="text-center" width="100px">{{row.RealStartDate | date:'dd/MM/yyyy' }}</td>
                <td class="text-center" width="100px">{{row.RealEndDate | date:'dd/MM/yyyy' }}</td>
                <td width="200px">{{row.ProjectName}}</td>
                <td width="150px">{{row.ContractCode}}</td>
                <td width="250px">{{row.ContractName}}</td>
                <td width="250px">{{row.DesignName}}</td>
              </tr>
            </tbody>
          </table>
        </perfect-scrollbar>
      </div>

    </div>
  </form>
</div>
<div class="modal-footer">
  <!-- *appUipermission="['F060035']" -->
  <button *appUipermission="['F060035']" type="button" class="btn btn-success" [disabled]="!f.form.valid"
    (click)="save()">
    <i class="fa fa-save"></i>&nbsp;
    <span>Phê duyệt</span>
  </button>
  <button type="button" class="btn btn-danger" (click)="closeModal()">
    <i class="fa fa-power-off"></i> &nbsp;
    <span>
      Đóng
    </span>
  </button>
</div>