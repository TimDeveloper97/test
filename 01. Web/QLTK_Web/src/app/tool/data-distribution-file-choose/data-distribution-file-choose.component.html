<div class="modal-header">
  <h4 class="modal-title text-uppercase text-danger">Chọn file</h4>
  <button type="button" class="close" aria-label="Close" (click)="closeModal(false)">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body padding-15">
  <form name="searchForm" #f="ngForm">
    <div class="row">
      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
        <nts-search-bar [(options)]="searchOptions" [(ngModel)]="dataDistributionFileSearchModel"
          name="dataDistributionFileSearchModel" (change)="searchDataDistributionFile()">
        </nts-search-bar>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-12 text-right">
        <button class="btn btn-success btn-success-system" (click)="searchDataDistributionFile()">
          <i class="fa fa-search"></i> &nbsp;Tìm kiếm</button>&nbsp; &nbsp;
        <button class="btn btn-default btn-default-system" (click)="clear()">
          <i class="fas fa-redo-alt"></i> &nbsp;Làm mới</button>
      </div>
    </div>

    <div class="row margin-bottom-10 mt-3">
      <div class="col-md-6 text-left">
        <label class="form-label" style="line-height:35px;">Tổng số
          <span class="bold text-danger">{{listAllFile.length}}</span> file</label>
      </div>
      <!-- <div class="col-lg-6 col-md-6 col-sm-12 text-right">
        <button type="button" class="btn btn-success mt-md-1 mt-xl-0" (click)="showCreateUpdateFile('') "
          container="body">
          <i class="fa fa-plus"></i>
          Thêm mới
        </button>
      </div> -->
    </div>
  </form>
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <table class="table table-bordered mb-0" style="min-width:300px">
        <thead #header style="background-color: white">
          <tr>
            <th width="50px" class="text-center">STT</th>
            <th style="text-align:center" width="60px">Chọn</th>
            <th width="100px" class="text-center">Xử lý</th>
            <th min-width="150px">Tên file</th>
            <th width="300px">Đường dẫn</th>
          </tr>
        </thead>
      </table>
      <perfect-scrollbar [config]="constant.ScrollConfig" style="height:300px; width:100%;">
        <table class="table table-bordered" style="min-width:560px">
          <tbody>
            <tr *ngFor="let row of listAllFile; let i = index">
              <td width="50px" class="text-center">{{i+1}}</td>
              <td style="text-align:center" width="60px">
                <input [disUipermission]="['F090805']" type="checkbox" [(ngModel)]="row.Checked" name="{{'Checked'+row.Name+i}}"
                  style="height:20px; width:20px;">
              </td>
              <td min-width="150px">{{row.Name}}</td>
              <td width="300px">{{row.FolderContain}}</td>
            </tr>
          </tbody>
        </table>
      </perfect-scrollbar>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4 col-sm-12 text-left">
      <label class="form-label" style="line-height:35px;">Tổng số
        <span class="bold text-danger">{{listSelect.length}}</span> file đã chọn</label>
    </div>
    <div class="col-md-4 col-sm-12 col-xs-12 margin-bottom-5 text-center">
      <button type="button" ngbTooltip="Chọn file" class="btn btn-success" (click)="addRow()">
        <i class="fa fa-arrow-down"></i>
      </button>&nbsp;
      <button type="button" ngbTooltip="Bỏ chọn file" class="btn btn-danger" (click)="removeRow()">
        <i class="fa fa-arrow-up"></i>
      </button>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <perfect-scrollbar [config]="constant.ScrollXConfig" style="height:auto; width:100%;">
        <table class="table table-bordered" style="min-width:560px">
          <thead>
            <tr>
              <th width="50px" class="text-center">STT</th>
              <th style="text-align:center" width="60px">Chọn</th>
              <th min-width="150px">Tên file</th>
              <th width="300px">Đường dẫn</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of listSelect; let i = index">
              <td width="50px" class="text-center">{{i+1}}</td>
              <td style="text-align:center" width="60px">
                <input disUipermission="['F090805']" type="checkbox" [(ngModel)]="row.Checked" name="{{'Checked'+row.Name+i}}"
                  style="height:20px; width:20px;">
              </td>             
              <td min-width="150px">{{row.Name}}</td>
              <td width="300px">{{row.FolderContain}}</td>
            </tr>
          </tbody>
        </table>
      </perfect-scrollbar>
    </div>
  </div>

</div>

<div class="modal-footer">
  <ng-container>
    <button *appUipermission="['F090805']" type="button" class="btn btn-success" (click)="choose()">
      <i class="fa fa-save"></i>&nbsp;
      <span>Chọn</span>
    </button>
  </ng-container>

  <button type="button" class="btn btn-danger" (click)="closeModal(false)">
    <i class="fa fa-power-off"></i> &nbsp;
    <span>
      Đóng
    </span>
  </button>
</div>