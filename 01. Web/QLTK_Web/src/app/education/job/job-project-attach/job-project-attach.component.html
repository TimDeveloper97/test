<div class="row">
    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 text-left">
      <h4>Tài liệu đính kèm</h4>
    </div>
    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 text-right">
      <div style="margin-left: 5px" class="upload-btn-wrapper">
        <button *appUipermission="['F050502']" class="btn btn-success btn-upload" (click)="fileInput.click()">
          <i class="fas fa-arrow-up"> &nbsp;</i>Upload
        </button>
        <input name="file" style="display: none;" type="file" id="fileInput" #fileInput
          (change)="uploadFileClick($event)" multiple />
      </div>
    </div>
  </div>
  <div class="row">


    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <perfect-scrollbar [config]="constant.ScrollXConfig" style="height:auto; width:100%;">
        <table class="table table-bordered table-fixed" style="min-width:550px">
          <thead>
            <tr>
              <th width="50px" class="text-center">STT</th>
              <th width="100px" class="text-center">Xử lý</th>
              <th width="200px" class="text-center">Tên file</th>
              <th width="200px" class="text-center">Dung lượng</th>
            </tr>
          </thead>
          <tbody>

            <tr *ngFor="let row of model.ListFile; let i = index">
              <td class="text-center">{{startIndex+i}}</td>
              <td class="text-center">
                <ng-container>
                  <button *appUipermission="['F050502']" type="button" class="btn btn-xs btn-danger"
                    ngbTooltip="Xóa" (click)="showConfirmDeleteFile(i)">
                    <span class="fas fa-times" aria-hidden="true"></span>
                  </button>
                </ng-container> &nbsp;
                <ng-container *ngIf="row.Path!=null && row.Path!=''">
                  <button *appUipermission="['F050502']" style="background-color: papayawhip" class="btn btn-xs"
                    (click)="DownloadAFile(row)">
                    <span class="fa fa-download" aria-hidden="true"></span>
                  </button>
                </ng-container>

              </td>
              <td>
                <span *ngIf="row.Id==null">{{row.name}}</span>
                <span *ngIf="row.Id!=null">{{row.FileName}}</span>
              </td>
              <td class="text-center">
                <span *ngIf="row.Id==null">{{row.size/ (1024*1024)| number: '1.1-3'}} MB</span>
                <span *ngIf="row.Id!=null">{{row.FileSize / (1024*1024)| number: '1.1-3'}} MB</span>
              </td>
            </tr>
          </tbody>
        </table>
      </perfect-scrollbar>
    </div>
  </div>
  <br>
  <div *ngIf="check ==true" class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xl-12 text-right mt-3">
      <ng-container>
        <button *appUipermission="['F050502']" type="button" class="btn btn-success" 
          (click)="save(false)">
          <i class="fa fa-save"></i>&nbsp;
          <span>Lưu</span>
        </button>
      </ng-container>&nbsp;
      <ng-container>
        <button type="button" class="btn btn-danger" (click)="close(false)">
          <i class="fa fa-power-off"></i> &nbsp;
          <span>
            Đóng
          </span>
        </button>
      </ng-container>
    </div>
  </div>
