<div class="modal-header">
    <h4 class="modal-title text-uppercase text-danger">{{ModalInfo.Title}}</h4>
    <button type="button" class="close" aria-label="Close" (click)="closeModal(false)">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body padding-15">
    <form name="form" class="tab-form-demo" #f="ngForm" novalidate>

        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-group">
                    <label class="form-label">Loại khách hàng</label>
                    <div class="controls" style="display: flex;">
                        <label class="radio">Khách hàng mới
                            <input type="radio" name="CustomerType" [(ngModel)]="model.CustomerType" [value]="1" (change)="clearKH()">
                            <span class="checkround"></span>
                        </label>
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <label class="radio ml-1">Khách hàng trong hệ thống
                            <input type="radio" name="CustomerType" [(ngModel)]="model.CustomerType" [value]="2" (change)="clearKH()">
                            <span class="checkround"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-group ">
                    <label class="form-label">Tên KH
                        <span class='text-danger text-strong'>&nbsp;*</span>
                    </label>
                    <div *ngIf="model.CustomerType ==1" class="controls" style="display: flex;">
                        <input type="text" class="form-control" [(ngModel)]="model.CustomerName" name="CustomerName"
                            maxlength="200" required>
                    </div>
                    <div *ngIf="model.CustomerType ==2" class="controls" style="display: contents;">
                        <nts-drop-down #p [items]="listCustomer" [columns]="Customers" ntsValue="Id" ntsLabel="Name"
                            name="CustomerId" ntsMode="single" ntsAutoClose="true" [(ngModel)]="model.CustomerId"
                            (change)="getCustomerInfo()">
                        </nts-drop-down>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-group ">
                    <label class="form-label">Mã KH
                        <span class='text-danger text-strong'>&nbsp;*</span>
                    </label>
                    <div *ngIf="model.CustomerType ==1" class="controls">
                        <input type="text" class="form-control" [(ngModel)]="model.CustomerCode" name="CustomerCode"
                            maxlength="50" required>
                    </div>
                    <div *ngIf="model.CustomerType ==2" class="controls">
                        <input type="text" class="form-control" [(ngModel)]="model.CustomerCode" name="CustomerCode"
                            maxlength="50" required disabled>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-group ">
                    <label class="form-label">Lĩnh vực sản xuất
                        <span class='text-danger text-strong'>&nbsp;*</span>
                    </label>
                    <div class="controls">
                        <nts-drop-down #p [items]="listJob" [columns]="Jobs" ntsValue="Id" ntsLabel="Name"
                            name="DomainId" ntsMode="single" ntsAutoClose="true" [(ngModel)]="model.DomainId"
                            required>
                        </nts-drop-down>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-group ">
                    <label class="form-label">Ứng dụng
                        <span class='text-danger text-strong'>&nbsp;*</span>
                    </label>
                    <div class="controls">
                        <nts-drop-down #p [items]="listApplication" [columns]="Applications" ntsValue="Id" ntsLabel="Name"
                            name="ApplicationId" ntsMode="single" ntsAutoClose="true" [(ngModel)]="model.ApplicationId"
                            required>
                        </nts-drop-down>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-group ">
                    <label class="form-label">Ngành hàng
                        <span class='text-danger text-strong'>&nbsp;*</span>
                    </label>
                    <div class="controls">
                        <nts-drop-down #p [items]="listIndustry" [columns]="Industries" ntsValue="Id" ntsLabel="Name"
                            name="IndustryId" ntsMode="single" ntsAutoClose="true" [(ngModel)]="model.IndustryId"
                            required>
                        </nts-drop-down>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-group ">
                    <label class="form-label">Doanh số ước tính
                        <span class='text-danger text-strong'>&nbsp;*</span>
                    </label>
                    <div class="controls">
                        <input type="number" class="form-control" [(ngModel)]="model.SaleTarget" name="SaleTarget"
                            maxlength="50" required>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="form-group ">
                    <label class="form-label">Thời gian đăng ký dự kiến
                        <span class='text-danger text-strong'>&nbsp;*</span>
                    </label>
                    <div class="controls">
                        <input container="body" class="form-control" placeholder="Thời gian ký HĐ dự kiến"
                            [name]="PlanContractDate" [(ngModel)]="model.PlanContractDate" ngbDatepicker
                            #PlanContractDate="ngbDatepicker" [minDate]="{year: 1900, month: 1, day: 1}"
                            [maxDate]="{year: 2100, month: 12, day: 31}"
                            (click)="PlanContractDate.toggle();$event.stopPropagation();" required>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="modal-footer">
    <ng-container>
        <button type="button" class="btn btn-success" [disabled]="!f.form.valid" (click)="save()">
            <i class="fa fa-save"></i>&nbsp;
            <span>{{ModalInfo.SaveText}}</span>
        </button>
    </ng-container>
    <button type="button" class="btn btn-danger" (click)="closeModal(false)">
        <i class="fa fa-power-off"></i> &nbsp;
        <span>
            Đóng
        </span>
    </button>
</div>