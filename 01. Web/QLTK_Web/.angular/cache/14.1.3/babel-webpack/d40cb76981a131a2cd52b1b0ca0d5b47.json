{"ast":null,"code":"import { ChooseMaterialGroupModalComponent } from '../choose-material-group-modal/choose-material-group-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared\";\nimport * as i2 from \"../../services/materialgroup-service\";\nimport * as i3 from \"../../services/code-rule.service\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\n\nfunction CodeRuleManageComponent_tr_45_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function CodeRuleManageComponent_tr_45_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const i_r10 = i0.ɵɵnextContext().index;\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.deleteCodeRule(i_r10));\n    });\n    i0.ɵɵelement(1, \"span\", 45);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CodeRuleManageComponent_tr_45_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r20 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r20.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r20.Name);\n  }\n}\n\nfunction CodeRuleManageComponent_tr_45_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r21 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r21.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r21.Name);\n  }\n}\n\nfunction CodeRuleManageComponent_tr_45_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r22 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r22.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r22.Name);\n  }\n}\n\nfunction CodeRuleManageComponent_tr_45_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 47);\n    i0.ɵɵlistener(\"click\", function CodeRuleManageComponent_tr_45_span_19_Template_span_click_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const i_r10 = i0.ɵɵnextContext().index;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.chooseMaterialGroup(i_r10));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CodeRuleManageComponent_tr_45_option_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r26 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r26.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r26.Name);\n  }\n}\n\nconst _c0 = function () {\n  return [\"F001102\"];\n};\n\nconst _c1 = function () {\n  return [\"F001101\"];\n};\n\nfunction CodeRuleManageComponent_tr_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 23);\n    i0.ɵɵtemplate(4, CodeRuleManageComponent_tr_45_button_4_Template, 2, 0, \"button\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"input\", 38);\n    i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_tr_45_Template_input_ngModelChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const row_r9 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(row_r9.Code = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\")(8, \"select\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_tr_45_Template_select_ngModelChange_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const row_r9 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(row_r9.ManufactureId = $event);\n    });\n    i0.ɵɵtemplate(9, CodeRuleManageComponent_tr_45_option_9_Template, 2, 2, \"option\", 27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\")(11, \"select\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_tr_45_Template_select_ngModelChange_11_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const row_r9 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(row_r9.UnitId = $event);\n    });\n    i0.ɵɵtemplate(12, CodeRuleManageComponent_tr_45_option_12_Template, 2, 2, \"option\", 27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"select\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_tr_45_Template_select_ngModelChange_14_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const row_r9 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(row_r9.Type = $event);\n    });\n    i0.ɵɵtemplate(15, CodeRuleManageComponent_tr_45_option_15_Template, 2, 2, \"option\", 27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"td\", 40)(17, \"div\", 41)(18, \"input\", 42);\n    i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_tr_45_Template_input_ngModelChange_18_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const row_r9 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(row_r9.MaterialGroupName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(19, CodeRuleManageComponent_tr_45_span_19_Template, 1, 0, \"span\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\")(21, \"select\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_tr_45_Template_select_ngModelChange_21_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const row_r9 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(row_r9.MaterialGroupTPAId = $event);\n    });\n    i0.ɵɵtemplate(22, CodeRuleManageComponent_tr_45_option_22_Template, 2, 2, \"option\", 27);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const row_r9 = ctx.$implicit;\n    const i_r10 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.Index + i_r10);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(25, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(26, _c1))(\"ngModel\", row_r9.Code)(\"name\", \"code\" + i_r10);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(27, _c1))(\"name\", \"manufacture\" + i_r10)(\"ngModel\", row_r9.ManufactureId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.listManufacture);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(28, _c1))(\"name\", \"unit\" + i_r10)(\"ngModel\", row_r9.UnitId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.listUnit);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(29, _c1))(\"name\", \"type\" + i_r10)(\"ngModel\", row_r9.Type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.listType);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(30, _c1))(\"ngModel\", row_r9.MaterialGroupName)(\"name\", \"materialgroup\" + i_r10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(31, _c1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(32, _c1))(\"name\", \"materialgrouptpa\" + i_r10)(\"ngModel\", row_r9.MaterialGroupTPAId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.ListMaterialGroupTPA);\n  }\n}\n\nfunction CodeRuleManageComponent_button_49_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function CodeRuleManageComponent_button_49_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.addRow());\n    });\n    i0.ɵɵelement(1, \"i\", 49);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CodeRuleManageComponent_option_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r36 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r36.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r36.Name);\n  }\n}\n\nfunction CodeRuleManageComponent_option_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r37 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r37.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r37.Name);\n  }\n}\n\nfunction CodeRuleManageComponent_option_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r38 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r38.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r38.Name);\n  }\n}\n\nfunction CodeRuleManageComponent_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"dx-tree-list\", 50);\n    i0.ɵɵlistener(\"selectedRowKeysChange\", function CodeRuleManageComponent_div_64_Template_dx_tree_list_selectedRowKeysChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.materialGroupId = $event);\n    })(\"onSelectionChanged\", function CodeRuleManageComponent_div_64_Template_dx_tree_list_onSelectionChanged_1_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.treeViewMaterialGroup($event));\n    });\n    i0.ɵɵelement(2, \"dxo-selection\", 51)(3, \"dxo-search-panel\", 52)(4, \"dxi-column\", 53)(5, \"dxi-column\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function CodeRuleManageComponent_div_64_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.closeDropDownBox());\n    });\n    i0.ɵɵtext(7, \" \\u0110\\u00F3ng \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(9, _c1))(\"dataSource\", ctx_r7.ListMaterialGroup)(\"showRowLines\", true)(\"showBorders\", true)(\"columnAutoWidth\", true)(\"expandedRowKeys\", ctx_r7.ListMaterialGroupId)(\"selectedRowKeys\", ctx_r7.materialGroupId)(\"hoverStateEnabled\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"visible\", true);\n  }\n}\n\nfunction CodeRuleManageComponent_option_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r44 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r44.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r44.Name);\n  }\n}\n\nconst _c2 = function () {\n  return [\"F001101\", \"F001102\"];\n};\n\nexport let CodeRuleManageComponent = /*#__PURE__*/(() => {\n  class CodeRuleManageComponent {\n    constructor(constants, comboboxService, messageService, materialGroupService, codeRuleService, modalService, appSetting, config) {\n      this.constants = constants;\n      this.comboboxService = comboboxService;\n      this.messageService = messageService;\n      this.materialGroupService = materialGroupService;\n      this.codeRuleService = codeRuleService;\n      this.modalService = modalService;\n      this.appSetting = appSetting;\n      this.config = config;\n      this.Index = 1;\n      this.listCodeRule = [];\n      this.code = '';\n      this.materialGroupId = '';\n      this.materialGroupTPAId = '';\n      this.manufactureId = \"\";\n      this.unitId = \"\";\n      this.type = \"\";\n      this.length = 0;\n      this.ListMaterialGroupTPA = [];\n      this.ListMaterialGroup = [];\n      this.ListMaterialGroupId = [];\n      this.isDropDownBoxOpenedMaterialGroup = false;\n      this.isOpenedMaterialGroup = false;\n      this.newRow = {\n        Code: '',\n        MaterialGroupId: '',\n        MaterialGroupName: '',\n        MaterialGroupTPAId: '',\n        MaterialGroupTPAName: '',\n        Length: 0,\n        ManufactureId: '',\n        Type: '',\n        UnitId: ''\n      };\n      this.codeRuleModel = {\n        ListModel: []\n      };\n      this.searchModel = {\n        Code: ''\n      };\n      this.listType = [{\n        Id: \"1\",\n        Name: \"Vật tư tiêu chuẩn\"\n      }, {\n        Id: \"2\",\n        Name: \"Vật tư phi tiêu chuẩn\"\n      }];\n      this.scrollConfig = {\n        suppressScrollX: false,\n        suppressScrollY: true,\n        minScrollbarLength: 20,\n        wheelPropagation: true\n      };\n      this.listManufacture = [];\n      this.listUnit = [];\n      this.searchOptions = {\n        FieldContentName: 'Code',\n        Placeholder: 'Ký tự bắt đầu của Mã Vật Tư',\n        Items: []\n      };\n      this.isValid = true;\n    }\n\n    ngOnInit() {\n      this.appSetting.PageTitle = \"Định nghĩa mã vật tư\";\n      this.getMaterialGroup();\n      this.getMaterialGroupTPA();\n      this.getCBBManufacture();\n      this.getCBBUnit();\n      this.searchCodeRule();\n    }\n\n    checkValid() {\n      for (var element of this.listCodeRule) {\n        if (!element.Code || !element.MaterialGroupId || !element.MaterialGroupTPAId || !element.ManufactureId || !element.Type || !element.UnitId) {\n          this.isValid = false;\n          break;\n        }\n      }\n    }\n\n    deleteCodeRule(index) {\n      this.messageService.showConfirm(\"Bạn có chắc chắn muốn xóa định nghĩa mã vật tư này không?\").then(data => {\n        this.listCodeRule.splice(index, 1);\n      }, error => {});\n    }\n\n    getCBBManufacture() {\n      this.comboboxService.getCbbManufacture().subscribe(data => {\n        if (data) {\n          this.listManufacture = data;\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    getCBBUnit() {\n      this.comboboxService.getCbbUnit().subscribe(data => {\n        if (data) {\n          this.listUnit = data;\n\n          for (var i of this.listUnit) {\n            if (i.Id == \"\" || i.Id == null) {\n              this.listUnit.splice(this.listUnit.indexOf(i), 1);\n            }\n          }\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    addRow() {\n      if (this.code != '') {\n        var row = Object.assign({}, this.newRow);\n        row.Code = this.code;\n        row.Length = this.length;\n        row.MaterialGroupId = this.materialGroupId[0];\n        this.ListMaterialGroup.forEach(item => {\n          if (item.Id == row.MaterialGroupId) {\n            row.MaterialGroupName = item.Name;\n          }\n        });\n        row.MaterialGroupTPAId = this.materialGroupTPAId;\n        this.ListMaterialGroupTPA.forEach(item => {\n          if (item.Id == row.MaterialGroupTPAId) {\n            row.MaterialGroupTPAName = item.Name;\n          }\n        });\n        row.ManufactureId = this.manufactureId;\n        row.UnitId = this.unitId;\n        row.Type = this.type;\n        this.listCodeRule.push(row);\n        this.code = '';\n        this.length = 0;\n        this.materialGroupId = '';\n        this.materialGroupTPAId = '';\n        this.manufactureId = '';\n        this.unitId = '';\n        this.type = '';\n        this.treeBoxValueMaterialGroup = '';\n      } else {\n        this.messageService.showMessage(\"Bạn không được để trống mã!\");\n      }\n    }\n\n    getMaterialGroup() {\n      this.materialGroupService.getListMaterialGroup().subscribe(data => {\n        if (data) {\n          this.ListMaterialGroup = data;\n\n          for (var item of this.ListMaterialGroup) {\n            this.ListMaterialGroupId.push(item.Id);\n          }\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    getMaterialGroupTPA() {\n      this.comboboxService.getCbbMaterialGroupTPA().subscribe(data => {\n        if (data) {\n          this.ListMaterialGroupTPA = data;\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    syncTreeViewSelectionMaterialGroup() {\n      if (!this.treeBoxValueMaterialGroup) {\n        this.newRow.MaterialGroupId = '';\n      } else {\n        this.newRow.MaterialGroupId = this.treeBoxValueMaterialGroup;\n      }\n    }\n\n    treeViewMaterialGroup(e) {\n      this.treeBoxValueMaterialGroup = e.selectedRowKeys[0];\n      this.materialGroupTPAId = e.selectedRowsData[0].MaterialGroupTPAId;\n      this.closeDropDownBox();\n    }\n\n    closeDropDownBox() {\n      this.isDropDownBoxOpenedMaterialGroup = false;\n    }\n\n    save() {\n      this.checkValid();\n\n      if (this.isValid) {\n        this.codeRuleModel.ListModel = this.listCodeRule;\n        this.codeRuleService.saveCodeRule(this.codeRuleModel).subscribe(data => {\n          if (data) {\n            this.messageService.showSuccess('Lưu cấu hình mã vật tư thành công!');\n            this.searchCodeRule();\n          }\n        }, error => {\n          this.messageService.showError(error);\n        });\n      } else {\n        this.messageService.showMessage(\"Bạn chưa nhập đầy đủ thông tin! Vui lòng nhập lại.\");\n        this.isValid = true;\n      }\n    }\n\n    searchCodeRule() {\n      this.codeRuleService.searchCodeRule(this.searchModel).subscribe(data => {\n        if (data) {\n          this.listCodeRule = data;\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    }\n\n    chooseMaterialGroup(i) {\n      let activeModal = this.modalService.open(ChooseMaterialGroupModalComponent, {\n        container: 'body',\n        windowClass: 'module-choose-folder-download',\n        backdrop: 'static'\n      });\n      activeModal.result.then(result => {\n        if (result) {\n          this.listCodeRule[i].MaterialGroupTPAId = result.MaterialGroupTPAId;\n          this.listCodeRule[i].MaterialGroupName = result.MaterialGroupName;\n          this.listCodeRule[i].MaterialGroupId = result.MaterialGroupId;\n        }\n      }, reason => {});\n    }\n\n    clear() {\n      this.searchModel.Code = '';\n      this.searchCodeRule();\n    }\n\n  }\n\n  CodeRuleManageComponent.ɵfac = function CodeRuleManageComponent_Factory(t) {\n    return new (t || CodeRuleManageComponent)(i0.ɵɵdirectiveInject(i1.Constants), i0.ɵɵdirectiveInject(i1.ComboboxService), i0.ɵɵdirectiveInject(i1.MessageService), i0.ɵɵdirectiveInject(i2.MaterialGroupService), i0.ɵɵdirectiveInject(i3.CodeRuleService), i0.ɵɵdirectiveInject(i4.NgbModal), i0.ɵɵdirectiveInject(i1.AppSetting), i0.ɵɵdirectiveInject(i1.Configuration));\n  };\n\n  CodeRuleManageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CodeRuleManageComponent,\n    selectors: [[\"app-code-rule-manage\"]],\n    decls: 75,\n    vars: 33,\n    consts: [[1, \"content-wrapper\", \"page-content\"], [1, \"body-right\"], [1, \"content-body\", \"padding-15\"], [\"name\", \"searchForm\"], [\"f\", \"ngForm\"], [1, \"row\"], [1, \"col-xl-8\", \"col-lg-8\", \"col-md-8\", \"col-sm-8\"], [\"name\", \"codeRuleCodeMaterialGroup\", 3, \"options\", \"ngModel\", \"optionsChange\", \"ngModelChange\", \"change\"], [1, \"col-xl-4\", \"col-lg-4\", \"col-md-4\", \"col-sm-4\", \"text-right\"], [1, \"btn\", \"btn-success\", \"btn-success-system\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [1, \"btn\", \"btn-default\", \"btn-default-system\", 3, \"click\"], [1, \"fas\", \"fa-redo-alt\"], [1, \"col-xl-12\", \"col-lg-12\", \"col-md-12\", \"col-sm-12\"], [2, \"height\", \"auto\", \"width\", \"100%\", 3, \"config\"], [1, \"table\", \"table-bordered\", 2, \"word-wrap\", \"break-word\", \"min-width\", \"1150px\"], [\"colspan\", \"6\", 1, \"text-center\"], [\"colspan\", \"2\", 1, \"text-center\"], [\"width\", \"50px\", 1, \"text-center\"], [\"width\", \"150px\", 1, \"text-center\"], [\"min-width\", \"150px\", 1, \"text-center\"], [\"width\", \"200px\", 1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"text-center\"], [\"type\", \"button\", \"class\", \"btn btn-xs btn-success\", \"ngbTooltip\", \"Th\\u00EAm d\\u00F2ng\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"text\", \"name\", \"code\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [\"name\", \"manufacture\", \"required\", \"\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"unit \", \"required\", \"\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [\"name\", \"type\", \"required\", \"\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [\"valueExpr\", \"Id\", \"displayExpr\", \"Name\", \"placeholder\", \"Ch\\u1ECDn nh\\u00F3m v\\u1EADt t\\u01B0\", 3, \"disUipermission\", \"value\", \"dataSource\", \"opened\", \"valueChange\", \"onValueChanged\", \"openedChange\"], [\"d1\", \"\"], [4, \"dxTemplate\", \"dxTemplateOf\"], [\"name\", \"materialGroupTPAId\", \"required\", \"\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [1, \"col-md-12\", \"text-right\"], [1, \"btn\", \"btn-success\", 3, \"disUipermission\", \"click\"], [1, \"fa\", \"fa-save\"], [\"type\", \"button\", \"class\", \"btn btn-xs btn-danger\", \"ngbTooltip\", \"X\\u00F3a\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"name\", \"ngModelChange\"], [\"required\", \"\", 1, \"form-control\", 3, \"disUipermission\", \"name\", \"ngModel\", \"ngModelChange\"], [2, \"position\", \"relative\"], [2, \"width\", \"80%\"], [\"type\", \"text\", \"disabled\", \"\", 1, \"form-control\", 3, \"disUipermission\", \"ngModel\", \"name\", \"ngModelChange\"], [\"class\", \"fa fa-edit btn-edit\", \"ngbTooltip\", \"S\\u1EEDa\", \"container\", \"body\", \"placement\", \"top\", \"aria-hidden\", \"true\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"button\", \"ngbTooltip\", \"X\\u00F3a\", 1, \"btn\", \"btn-xs\", \"btn-danger\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fas\", \"fa-times\"], [3, \"ngValue\"], [\"ngbTooltip\", \"S\\u1EEDa\", \"container\", \"body\", \"placement\", \"top\", \"aria-hidden\", \"true\", 1, \"fa\", \"fa-edit\", \"btn-edit\", 3, \"click\"], [\"type\", \"button\", \"ngbTooltip\", \"Th\\u00EAm d\\u00F2ng\", 1, \"btn\", \"btn-xs\", \"btn-success\", 3, \"click\"], [1, \"fa\", \"fa-plus\"], [\"id\", \"Id\", \"keyExpr\", \"Id\", \"parentIdExpr\", \"ParentId\", 3, \"disUipermission\", \"dataSource\", \"showRowLines\", \"showBorders\", \"columnAutoWidth\", \"expandedRowKeys\", \"selectedRowKeys\", \"hoverStateEnabled\", \"selectedRowKeysChange\", \"onSelectionChanged\"], [\"mode\", \"single\"], [3, \"visible\"], [\"dataField\", \"Code\", \"caption\", \"M\\u00E3 nh\\u00F3m\"], [\"dataField\", \"Name\", \"caption\", \"T\\u00EAn nh\\u00F3m\"], [\"type\", \"button\", 3, \"click\"]],\n    template: function CodeRuleManageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"form\", 3, 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"nts-search-bar\", 7);\n        i0.ɵɵlistener(\"optionsChange\", function CodeRuleManageComponent_Template_nts_search_bar_optionsChange_7_listener($event) {\n          return ctx.searchOptions = $event;\n        })(\"ngModelChange\", function CodeRuleManageComponent_Template_nts_search_bar_ngModelChange_7_listener($event) {\n          return ctx.searchModel = $event;\n        })(\"change\", function CodeRuleManageComponent_Template_nts_search_bar_change_7_listener() {\n          return ctx.searchCodeRule();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 8)(9, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function CodeRuleManageComponent_Template_button_click_9_listener() {\n          return ctx.searchCodeRule();\n        });\n        i0.ɵɵelement(10, \"i\", 10);\n        i0.ɵɵtext(11, \" \\u00A0T\\u00ECm ki\\u1EBFm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(12, \"\\u00A0 \\u00A0 \");\n        i0.ɵɵelementStart(13, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CodeRuleManageComponent_Template_button_click_13_listener() {\n          return ctx.clear();\n        });\n        i0.ɵɵelement(14, \"i\", 12);\n        i0.ɵɵtext(15, \" \\u00A0L\\u00E0m m\\u1EDBi\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(16, \"div\", 2)(17, \"div\", 5)(18, \"div\", 13)(19, \"perfect-scrollbar\", 14)(20, \"table\", 15)(21, \"thead\")(22, \"tr\")(23, \"th\", 16);\n        i0.ɵɵtext(24, \"\\u0110i\\u1EC1u ki\\u1EC7n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"th\", 17);\n        i0.ɵɵtext(26, \"C\\u00E1ch th\\u1EE9c x\\u1EED l\\u00FD\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"tr\")(28, \"th\", 18);\n        i0.ɵɵtext(29, \"STT\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"th\", 18);\n        i0.ɵɵtext(31, \"X\\u1EED l\\u00FD\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"th\", 19);\n        i0.ɵɵtext(33, \"K\\u00FD t\\u1EF1 b\\u1EAFt \\u0111\\u1EA7u c\\u1EE7a M\\u00E3 V\\u1EADt T\\u01B0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"th\", 19);\n        i0.ɵɵtext(35, \"H\\u00E3ng s\\u1EA3n xu\\u1EA5t\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"th\", 19);\n        i0.ɵɵtext(37, \"\\u0110\\u01A1n v\\u1ECB\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"th\", 19);\n        i0.ɵɵtext(39, \"Lo\\u1EA1i v\\u1EADt t\\u01B0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"th\", 20);\n        i0.ɵɵtext(41, \"Nh\\u00F3m v\\u1EADt t\\u01B0 ch\\u1EE9c n\\u0103ng\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"th\", 21);\n        i0.ɵɵtext(43, \"Nh\\u00F3m TPA\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(44, \"tbody\");\n        i0.ɵɵtemplate(45, CodeRuleManageComponent_tr_45_Template, 23, 33, \"tr\", 22);\n        i0.ɵɵelementStart(46, \"tr\");\n        i0.ɵɵelement(47, \"td\", 18);\n        i0.ɵɵelementStart(48, \"td\", 23);\n        i0.ɵɵtemplate(49, CodeRuleManageComponent_button_49_Template, 2, 0, \"button\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"td\")(51, \"input\", 25);\n        i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_Template_input_ngModelChange_51_listener($event) {\n          return ctx.code = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(52, \"td\")(53, \"select\", 26);\n        i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_Template_select_ngModelChange_53_listener($event) {\n          return ctx.manufactureId = $event;\n        });\n        i0.ɵɵtemplate(54, CodeRuleManageComponent_option_54_Template, 2, 2, \"option\", 27);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(55, \"td\")(56, \"select\", 28);\n        i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_Template_select_ngModelChange_56_listener($event) {\n          return ctx.unitId = $event;\n        });\n        i0.ɵɵtemplate(57, CodeRuleManageComponent_option_57_Template, 2, 2, \"option\", 27);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(58, \"td\")(59, \"select\", 29);\n        i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_Template_select_ngModelChange_59_listener($event) {\n          return ctx.type = $event;\n        });\n        i0.ɵɵtemplate(60, CodeRuleManageComponent_option_60_Template, 2, 2, \"option\", 27);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(61, \"td\")(62, \"dx-drop-down-box\", 30, 31);\n        i0.ɵɵlistener(\"valueChange\", function CodeRuleManageComponent_Template_dx_drop_down_box_valueChange_62_listener($event) {\n          return ctx.treeBoxValueMaterialGroup = $event;\n        })(\"onValueChanged\", function CodeRuleManageComponent_Template_dx_drop_down_box_onValueChanged_62_listener() {\n          return ctx.syncTreeViewSelectionMaterialGroup();\n        })(\"openedChange\", function CodeRuleManageComponent_Template_dx_drop_down_box_openedChange_62_listener($event) {\n          return ctx.isDropDownBoxOpenedMaterialGroup = $event;\n        });\n        i0.ɵɵtemplate(64, CodeRuleManageComponent_div_64_Template, 8, 10, \"div\", 32);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(65, \"td\")(66, \"select\", 33);\n        i0.ɵɵlistener(\"ngModelChange\", function CodeRuleManageComponent_Template_select_ngModelChange_66_listener($event) {\n          return ctx.materialGroupTPAId = $event;\n        });\n        i0.ɵɵtemplate(67, CodeRuleManageComponent_option_67_Template, 2, 2, \"option\", 27);\n        i0.ɵɵelementEnd()()()()()()()();\n        i0.ɵɵelementStart(68, \"div\", 5)(69, \"div\", 34)(70, \"button\", 35);\n        i0.ɵɵlistener(\"click\", function CodeRuleManageComponent_Template_button_click_70_listener() {\n          return ctx.save();\n        });\n        i0.ɵɵelement(71, \"i\", 36);\n        i0.ɵɵtext(72, \"\\u00A0 \");\n        i0.ɵɵelementStart(73, \"span\");\n        i0.ɵɵtext(74, \"L\\u01B0u\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"options\", ctx.searchOptions)(\"ngModel\", ctx.searchModel);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"config\", ctx.scrollConfig);\n        i0.ɵɵadvance(26);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listCodeRule);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(25, _c1));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(26, _c1))(\"ngModel\", ctx.code);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(27, _c1))(\"ngModel\", ctx.manufactureId);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listManufacture);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(28, _c1))(\"ngModel\", ctx.unitId);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listUnit);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(29, _c1))(\"ngModel\", ctx.type);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listType);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(30, _c1))(\"value\", ctx.treeBoxValueMaterialGroup)(\"dataSource\", ctx.ListMaterialGroup)(\"opened\", ctx.isDropDownBoxOpenedMaterialGroup);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dxTemplateOf\", \"content\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(31, _c1))(\"ngModel\", ctx.materialGroupTPAId);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.ListMaterialGroupTPA);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(32, _c2));\n      }\n    },\n    styles: [\".btn-edit[_ngcontent-%COMP%]{position:absolute;top:10px;right:2px;width:26px;height:26px;font-size:15px;padding:0;color:#ff9100}\"]\n  });\n  return CodeRuleManageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}