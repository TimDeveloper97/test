{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { BlockUI } from 'ng-block-ui';\nimport { ProjectProductCreateComponent } from '../project-product-create/project-product-create.component';\nimport { DxTreeListComponent } from 'devextreme-angular';\nimport { ProjectGeneralDesignCreateComponent } from '../project-general-design-create/project-general-design-create.component';\nimport { BroadcastEventListener } from 'src/app/signalr/broadcast.event.listener';\nimport { ProjectProductBomCreateComponent } from '../project-product-bom-create/project-product-bom-create.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"src/app/shared\";\nimport * as i3 from \"../../service/project-product.service\";\nimport * as i4 from \"../../service/project-general-design.service\";\nimport * as i5 from \"src/app/shared/common/check-special-characters\";\nimport * as i6 from \"src/app/signalR/signal-r.service\";\nimport * as i7 from \"../../service/project-product-bom.service\";\nimport * as i8 from \"src/app/shared/services/download.service\";\n\nfunction ProjectProductComponent_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.exportExcel());\n    });\n    i0.ɵɵelement(1, \"i\", 58);\n    i0.ɵɵtext(2, \" \\u00A0Sai kh\\u00E1c H\\u0110\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProjectProductComponent_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_button_19_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.showCreateUpdate(\"\", \"\"));\n    });\n    i0.ɵɵelement(1, \"i\", 60);\n    i0.ɵɵtext(2, \" Th\\u00EAm m\\u1EDBi \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProjectProductComponent_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_button_20_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.importProduct());\n    });\n    i0.ɵɵelement(1, \"i\", 62);\n    i0.ɵɵtext(2, \" Import th\\u1ED1ng s\\u1ED1 h\\u1EE3p \\u0111\\u1ED3ng \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"text-danger warring_amountTHTK\": a0\n  };\n};\n\nfunction ProjectProductComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 63);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, item_r21.data.IsMaterial == false));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r21.data.ContractCode);\n  }\n}\n\nfunction ProjectProductComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 63);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, item_r22.data.IsMaterial == false));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r22.data.ContractName);\n  }\n}\n\nfunction ProjectProductComponent_div_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 63);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, item_r23.data.ColorGeneralDesign == false));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r23.data.AmountTHTK);\n  }\n}\n\nfunction ProjectProductComponent_div_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"nts-status\", 64);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r24 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"items\", ctx_r7.constants.DesignWorkStatus)(\"value\", item_r24.data.DesignWorkStatus);\n  }\n}\n\nfunction ProjectProductComponent_div_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 65);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r25 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 1, item_r25.data.DesignCloseDate, \"dd/MM/yyyy\"));\n  }\n}\n\nfunction ProjectProductComponent_div_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 65);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r26 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 1, item_r26.data.GeneralDesignLastDate, \"dd/MM/yyyy\"));\n  }\n}\n\nfunction ProjectProductComponent_div_85_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\");\n    i0.ɵɵelement(2, \"span\", 63);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const e_r27 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", e_r27.icon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\u00A0 \", e_r27.text, \" \");\n  }\n}\n\nfunction ProjectProductComponent_ng_template_92_ng_container_0_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 118);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_92_ng_container_0_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r44 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r44.save(false));\n    });\n    i0.ɵɵelement(1, \"i\", 119);\n    i0.ɵɵtext(2, \"\\u00A0 \");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"L\\u01B0u\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r30 = i0.ɵɵreference(3);\n\n    i0.ɵɵproperty(\"disabled\", !_r30.form.valid);\n  }\n}\n\nfunction ProjectProductComponent_ng_template_92_ng_container_0_option_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 120);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r46 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r46.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r46.Name, \" \");\n  }\n}\n\nconst _c1 = function () {\n  return [\"F060017\"];\n};\n\nfunction ProjectProductComponent_ng_template_92_ng_container_0_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 69)(1, \"div\", 70)(2, \"label\", 71);\n    i0.ɵɵtext(3, \"M\\u00E3 theo thi\\u1EBFt k\\u1EBF \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"nts-drop-down-tree\", 121);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_div_33_Template_nts_drop_down_tree_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r47 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r47.projectProductModel.ModuleId = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r32 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"items\", ctx_r32.listModule)(\"columns\", ctx_r32.columnName)(\"ngModel\", ctx_r32.projectProductModel.ModuleId)(\"disUipermission\", i0.ɵɵpureFunction0(4, _c1));\n  }\n}\n\nfunction ProjectProductComponent_ng_template_92_ng_container_0_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 69)(1, \"div\", 70)(2, \"label\", 71);\n    i0.ɵɵtext(3, \"M\\u00E3 theo thi\\u1EBFt k\\u1EBF \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"nts-drop-down-tree\", 122);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_div_34_Template_nts_drop_down_tree_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r49 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r49.projectProductModel.ProductId = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r33 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"items\", ctx_r33.listProduct)(\"columns\", ctx_r33.columnName)(\"ngModel\", ctx_r33.projectProductModel.ProductId)(\"disUipermission\", i0.ɵɵpureFunction0(4, _c1));\n  }\n}\n\nfunction ProjectProductComponent_ng_template_92_ng_container_0_option_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 120);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r51 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r51.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r51.Name, \" \");\n  }\n}\n\nfunction ProjectProductComponent_ng_template_92_ng_container_0_option_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 120);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r52 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", item_r52.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r52.Name, \" \");\n  }\n}\n\nfunction ProjectProductComponent_ng_template_92_ng_container_0_button_197_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r54 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 123);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_92_ng_container_0_button_197_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r54);\n      const ctx_r53 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r53.save(false));\n    });\n    i0.ɵɵelement(1, \"i\", 119);\n    i0.ɵɵtext(2, \"\\u00A0 \");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"L\\u01B0u\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r30 = i0.ɵɵreference(3);\n\n    i0.ɵɵproperty(\"disabled\", !_r30.form.valid);\n  }\n}\n\nconst _c2 = function () {\n  return {\n    align: \"left\",\n    prefix: \"\",\n    thousands: \",\",\n    decimal: \".\",\n    precision: 0\n  };\n};\n\nconst _c3 = function () {\n  return [\"F060016\"];\n};\n\nfunction ProjectProductComponent_ng_template_92_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProjectProductComponent_ng_template_92_ng_container_0_button_1_Template, 5, 1, \"button\", 67);\n    i0.ɵɵelementStart(2, \"form\", 68, 1)(4, \"div\", 2)(5, \"div\", 69)(6, \"div\", 70)(7, \"label\", 71);\n    i0.ɵɵtext(8, \"S\\u1EA3n ph\\u1EA9m cha \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"nts-drop-down-tree\", 72);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_nts_drop_down_tree_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r55 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r55.projectProductModel.ParentId = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 69)(11, \"div\", 70)(12, \"label\", 71);\n    i0.ɵɵtext(13, \"M\\u00E3 theo h\\u1EE3p \\u0111\\u1ED3ng \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 73)(15, \"input\", 74);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r57 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r57.projectProductModel.ContractCode = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 69)(17, \"div\", 70)(18, \"label\", 71);\n    i0.ɵɵtext(19, \"T\\u00EAn theo h\\u1EE3p \\u0111\\u1ED3ng \");\n    i0.ɵɵelementStart(20, \"span\", 75);\n    i0.ɵɵtext(21, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 73)(23, \"input\", 76);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r58 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r58.projectProductModel.ContractName = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(24, \"div\", 69)(25, \"div\", 70)(26, \"label\", 71);\n    i0.ɵɵtext(27, \"Ki\\u1EC3u d\\u1EEF li\\u1EC7u \");\n    i0.ɵɵelementStart(28, \"span\", 75);\n    i0.ɵɵtext(29, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 73)(31, \"select\", 77);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_select_ngModelChange_31_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r59 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r59.projectProductModel.DataType = $event);\n    });\n    i0.ɵɵtemplate(32, ProjectProductComponent_ng_template_92_ng_container_0_option_32_Template, 2, 2, \"option\", 78);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(33, ProjectProductComponent_ng_template_92_ng_container_0_div_33_Template, 5, 5, \"div\", 79);\n    i0.ɵɵtemplate(34, ProjectProductComponent_ng_template_92_ng_container_0_div_34_Template, 5, 5, \"div\", 79);\n    i0.ɵɵelementStart(35, \"div\", 69)(36, \"div\", 70)(37, \"label\", 71);\n    i0.ɵɵtext(38, \"T\\u00ECnh tr\\u1EA1ng module \");\n    i0.ɵɵelementStart(39, \"span\", 75);\n    i0.ɵɵtext(40, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(41, \"div\", 73)(42, \"select\", 80);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_select_ngModelChange_42_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r60 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r60.projectProductModel.ModuleStatus = $event);\n    });\n    i0.ɵɵtemplate(43, ProjectProductComponent_ng_template_92_ng_container_0_option_43_Template, 2, 2, \"option\", 78);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(44, \"div\", 69)(45, \"div\", 70)(46, \"label\", 71);\n    i0.ɵɵtext(47, \"Ph\\u00E2n lo\\u1EA1i h\\u00E0ng h\\u00F3a \");\n    i0.ɵɵelementStart(48, \"span\", 75);\n    i0.ɵɵtext(49, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"div\", 73)(51, \"select\", 81);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_select_ngModelChange_51_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r61 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r61.projectProductModel.DesignStatus = $event);\n    });\n    i0.ɵɵtemplate(52, ProjectProductComponent_ng_template_92_ng_container_0_option_52_Template, 2, 2, \"option\", 78);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(53, \"div\", 69)(54, \"div\", 82)(55, \"label\", 71);\n    i0.ɵɵtext(56, \"SL H\\u0110 \");\n    i0.ɵɵelementStart(57, \"span\", 75);\n    i0.ɵɵtext(58, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(59, \"div\", 73)(60, \"input\", 83);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_60_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r62 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r62.projectProductModel.Quantity = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(61, \"div\", 69)(62, \"div\", 70)(63, \"label\", 71);\n    i0.ɵɵtext(64, \"Ng\\u00E0y d\\u1EF1 ki\\u1EBFn ho\\u00E0n th\\u00E0nh thi\\u1EBFt k\\u1EBF \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(65, \"div\", 70)(66, \"div\", 84)(67, \"div\", 85)(68, \"input\", 86, 87);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_68_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r63 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r63.expectedDesignFinishDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(70, \"div\", 88)(71, \"span\", 89);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_span_click_71_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n\n      const _r36 = i0.ɵɵreference(69);\n\n      _r36.toggle();\n\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(72, \"i\", 90);\n    i0.ɵɵelementEnd()()()()()()();\n    i0.ɵɵelementStart(73, \"div\", 69)(74, \"div\", 70)(75, \"label\", 71);\n    i0.ɵɵtext(76, \"Ng\\u00E0y d\\u1EF1 ki\\u1EBFn ho\\u00E0n th\\u00E0nh s\\u1EA3n xu\\u1EA5t \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(77, \"div\", 70)(78, \"div\", 84)(79, \"div\", 85)(80, \"input\", 91, 92);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_80_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r65 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r65.expectedMakeFinishDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(82, \"div\", 88)(83, \"span\", 89);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_span_click_83_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n\n      const _r37 = i0.ɵɵreference(81);\n\n      _r37.toggle();\n\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(84, \"i\", 90);\n    i0.ɵɵelementEnd()()()()()()();\n    i0.ɵɵelementStart(85, \"div\", 69)(86, \"div\", 70)(87, \"label\", 71);\n    i0.ɵɵtext(88, \"Ng\\u00E0y d\\u1EF1 ki\\u1EBFn chuy\\u1EC3n giao \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(89, \"div\", 70)(90, \"div\", 84)(91, \"div\", 85)(92, \"input\", 93, 94);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_92_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r67 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r67.expectedTransferDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(94, \"div\", 88)(95, \"span\", 89);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_span_click_95_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n\n      const _r38 = i0.ɵɵreference(93);\n\n      _r38.toggle();\n\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(96, \"i\", 90);\n    i0.ɵɵelementEnd()()()()()()();\n    i0.ɵɵelementStart(97, \"div\", 69)(98, \"div\", 70)(99, \"label\", 71);\n    i0.ɵɵtext(100, \"Ng\\u00E0y d\\u1EF1 ki\\u1EBFn giao h\\u00E0ng \");\n    i0.ɵɵelement(101, \"span\", 75);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(102, \"div\", 73)(103, \"div\", 84)(104, \"input\", 95, 96);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_104_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r69 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r69.deliveryDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(106, \"div\", 88)(107, \"span\", 89);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_span_click_107_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n\n      const _r39 = i0.ɵɵreference(105);\n\n      _r39.toggle();\n\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(108, \"i\", 90);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(109, \"div\", 69)(110, \"div\", 70)(111, \"label\", 71);\n    i0.ɵɵtext(112, \"Ng\\u00E0y chuy\\u1EC3n giao \");\n    i0.ɵɵelement(113, \"span\", 75);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(114, \"div\", 73)(115, \"div\", 84)(116, \"input\", 97, 98);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_116_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r71 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r71.transferDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(118, \"div\", 88)(119, \"span\", 89);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_span_click_119_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n\n      const _r40 = i0.ɵɵreference(117);\n\n      _r40.toggle();\n\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(120, \"i\", 90);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(121, \"div\", 69)(122, \"div\", 82)(123, \"label\", 71);\n    i0.ɵɵtext(124, \"\\u0110\\u1ECBnh m\\u1EE9c v\\u1EADt t\\u01B0 thi\\u1EBFt k\\u1EBF \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(125, \"div\", 73)(126, \"input\", 99);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_126_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r73 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r73.projectProductModel.Price = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(127, \"div\", 69)(128, \"div\", 70)(129, \"label\", 71);\n    i0.ɵɵtext(130, \"H\\u1EA1ng m\\u1EE5c\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(131, \"div\", 73)(132, \"input\", 100);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_132_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r74 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r74.projectProductModel.ContractIndex = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(133, \"div\", 101);\n    i0.ɵɵelement(134, \"label\", 71);\n    i0.ɵɵelementStart(135, \"div\", 102)(136, \"input\", 103);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_136_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r75 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r75.projectProductModel.IsGeneralDesign = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(137, \"label\", 104);\n    i0.ɵɵtext(138, \"T\\u1ED5ng h\\u1EE3p thi\\u1EBFt k\\u1EBF\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(139, \"div\", 105)(140, \"div\", 70)(141, \"label\", 71);\n    i0.ɵɵtext(142, \"Tr\\u1EA1ng th\\u00E1i l\\u00E0m thi\\u1EBFt k\\u1EBF \");\n    i0.ɵɵelementStart(143, \"span\", 75);\n    i0.ɵɵtext(144, \"\\u00A0*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerStart(145);\n    i0.ɵɵelementStart(146, \"label\", 106);\n    i0.ɵɵtext(147, \"\\u0110ang thi\\u1EBFt k\\u1EBF \");\n    i0.ɵɵelementStart(148, \"input\", 107);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_148_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r76 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r76.projectProductModel.DesignWorkStatus = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(149, \"span\", 108);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(150, \"label\", 106);\n    i0.ɵɵtext(151, \"\\u0110\\u00E3 xong \");\n    i0.ɵɵelementStart(152, \"input\", 107);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_152_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r77 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r77.projectProductModel.DesignWorkStatus = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(153, \"span\", 108);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(154, \"div\", 69)(155, \"div\", 70)(156, \"label\", 71);\n    i0.ɵɵtext(157, \"Ng\\u00E0y \\u0111\\u00F3ng thi\\u1EBFt k\\u1EBF \");\n    i0.ɵɵelement(158, \"span\", 75);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(159, \"div\", 73)(160, \"div\", 84)(161, \"input\", 109, 110);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_161_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r78 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r78.designCloseDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(163, \"div\", 88)(164, \"span\", 89);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_span_click_164_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n\n      const _r41 = i0.ɵɵreference(162);\n\n      _r41.toggle();\n\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(165, \"i\", 90);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(166, \"div\", 69)(167, \"div\", 70)(168, \"label\", 71);\n    i0.ɵɵtext(169, \"Ng\\u00E0y t\\u1EA1o THTK g\\u1EA7n nh\\u1EA5t \");\n    i0.ɵɵelement(170, \"span\", 75);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(171, \"div\", 73)(172, \"div\", 84)(173, \"input\", 111, 112);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_input_ngModelChange_173_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r80 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r80.generalDesignLastDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(175, \"div\", 88)(176, \"span\", 89);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_span_click_176_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n\n      const _r42 = i0.ɵɵreference(174);\n\n      _r42.toggle();\n\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(177, \"i\", 90);\n    i0.ɵɵelementEnd()()()()()()();\n    i0.ɵɵelementStart(178, \"div\", 2)(179, \"div\", 113)(180, \"div\", 70)(181, \"label\", 71);\n    i0.ɵɵtext(182, \"Th\\u00F4ng s\\u1ED1 \");\n    i0.ɵɵelementStart(183, \"span\", 75);\n    i0.ɵɵtext(184, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(185, \"div\", 73)(186, \"textarea\", 114);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_textarea_ngModelChange_186_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r82 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r82.projectProductModel.Specifications = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(187, \"div\", 113)(188, \"div\", 70)(189, \"label\", 71);\n    i0.ɵɵtext(190, \"M\\u00F4 t\\u1EA3 \");\n    i0.ɵɵelementStart(191, \"span\", 75);\n    i0.ɵɵtext(192, \"\\u00A0\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(193, \"div\", 73)(194, \"textarea\", 115);\n    i0.ɵɵlistener(\"ngModelChange\", function ProjectProductComponent_ng_template_92_ng_container_0_Template_textarea_ngModelChange_194_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r83 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r83.projectProductModel.Note = $event);\n    });\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(195, \"div\", 2)(196, \"div\", 116);\n    i0.ɵɵtemplate(197, ProjectProductComponent_ng_template_92_ng_container_0_button_197_Template, 5, 1, \"button\", 117);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r28 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(61, _c1));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"items\", ctx_r28.listProductSelectable)(\"columns\", ctx_r28.columnProjectProduct)(\"ngModel\", ctx_r28.projectProductModel.ParentId)(\"disUipermission\", i0.ɵɵpureFunction0(62, _c1));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.projectProductModel.ContractCode)(\"disUipermission\", i0.ɵɵpureFunction0(63, _c1));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.projectProductModel.ContractName)(\"disUipermission\", i0.ɵɵpureFunction0(64, _c1));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.projectProductModel.DataType)(\"disUipermission\", i0.ɵɵpureFunction0(65, _c1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r28.listDataType);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r28.projectProductModel.DataType == 4 || ctx_r28.projectProductModel.DataType == 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r28.projectProductModel.DataType == 2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.projectProductModel.ModuleStatus)(\"disUipermission\", i0.ɵɵpureFunction0(66, _c1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r28.listModuleStatus);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.projectProductModel.DesignStatus)(\"disUipermission\", i0.ɵɵpureFunction0(67, _c1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r28.listDesignStatus);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"options\", i0.ɵɵpureFunction0(68, _c2))(\"ngModel\", ctx_r28.projectProductModel.Quantity)(\"disUipermission\", i0.ɵɵpureFunction0(69, _c1));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.expectedDesignFinishDate)(\"disUipermission\", i0.ɵɵpureFunction0(70, _c1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(71, _c1));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.expectedMakeFinishDate)(\"disUipermission\", i0.ɵɵpureFunction0(72, _c1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(73, _c1));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.expectedTransferDate)(\"disUipermission\", i0.ɵɵpureFunction0(74, _c1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(75, _c1));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.deliveryDate)(\"disUipermission\", i0.ɵɵpureFunction0(76, _c1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(77, _c1));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.transferDate)(\"disUipermission\", i0.ɵɵpureFunction0(78, _c1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(79, _c1));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"options\", i0.ɵɵpureFunction0(80, _c2))(\"ngModel\", ctx_r28.projectProductModel.Price)(\"disUipermission\", i0.ɵɵpureFunction0(81, _c1));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.projectProductModel.ContractIndex)(\"disUipermission\", i0.ɵɵpureFunction0(82, _c1));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(83, _c1))(\"ngModel\", ctx_r28.projectProductModel.IsGeneralDesign);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.projectProductModel.DesignWorkStatus)(\"value\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.projectProductModel.DesignWorkStatus)(\"value\", true);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.designCloseDate)(\"disUipermission\", i0.ɵɵpureFunction0(84, _c3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(85, _c3));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.generalDesignLastDate)(\"disUipermission\", i0.ɵɵpureFunction0(86, _c3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disUipermission\", i0.ɵɵpureFunction0(87, _c3));\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.projectProductModel.Specifications)(\"disUipermission\", i0.ɵɵpureFunction0(88, _c1));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r28.projectProductModel.Note)(\"maxLength\", 300)(\"disUipermission\", i0.ɵɵpureFunction0(89, _c1));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(90, _c1));\n  }\n}\n\nfunction ProjectProductComponent_ng_template_92_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProjectProductComponent_ng_template_92_ng_container_0_Template, 198, 91, \"ng-container\", 66);\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.projectProductId != null);\n  }\n}\n\nfunction ProjectProductComponent_ng_template_96_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r87 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_96_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r87);\n      const ctx_r86 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r86.showCreate());\n    });\n    i0.ɵɵelement(1, \"i\", 60);\n    i0.ɵɵtext(2, \" Th\\u00EAm m\\u1EDBi \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProjectProductComponent_ng_template_96_tr_24_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r95 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 134);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_96_tr_24_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r95);\n      const row_r88 = i0.ɵɵnextContext().$implicit;\n      const ctx_r93 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r93.showConfirmDelete(row_r88.Id));\n    });\n    i0.ɵɵelement(1, \"span\", 135);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProjectProductComponent_ng_template_96_tr_24_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r98 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 136);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_96_tr_24_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r98);\n      const row_r88 = i0.ɵɵnextContext().$implicit;\n      const ctx_r96 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r96.exportExcelBOM(row_r88.Id));\n    });\n    i0.ɵɵelement(1, \"span\", 137);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProjectProductComponent_ng_template_96_tr_24_ng_container_8_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r102 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 139);\n    i0.ɵɵlistener(\"click\", function ProjectProductComponent_ng_template_96_tr_24_ng_container_8_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r102);\n      const row_r88 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r100 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r100.downAllDocumentProcess(row_r88.ListFile));\n    });\n    i0.ɵɵelement(1, \"span\", 140);\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c4 = function () {\n  return [\"F060033\"];\n};\n\nfunction ProjectProductComponent_ng_template_96_tr_24_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProjectProductComponent_ng_template_96_tr_24_ng_container_8_button_1_Template, 2, 0, \"button\", 138);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(1, _c4));\n  }\n}\n\nconst _c5 = function () {\n  return [\"F060031\"];\n};\n\nconst _c6 = function () {\n  return [\"F060034\"];\n};\n\nfunction ProjectProductComponent_ng_template_96_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 65);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 65);\n    i0.ɵɵtemplate(4, ProjectProductComponent_ng_template_96_tr_24_button_4_Template, 2, 0, \"button\", 132);\n    i0.ɵɵtext(5, \"\\u00A0 \");\n    i0.ɵɵtemplate(6, ProjectProductComponent_ng_template_96_tr_24_button_6_Template, 2, 0, \"button\", 133);\n    i0.ɵɵtext(7, \"\\u00A0 \");\n    i0.ɵɵtemplate(8, ProjectProductComponent_ng_template_96_tr_24_ng_container_8_Template, 2, 2, \"ng-container\", 66);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 65);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 65);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 65);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const row_r88 = ctx.$implicit;\n    const i_r89 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r89 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(11, _c5));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(12, _c6));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", row_r88.ListFile.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r88.Version);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r88.Index);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 8, row_r88.CreateDate, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(row_r88.CreateByName);\n  }\n}\n\nconst _c7 = function () {\n  return [\"F060030\"];\n};\n\nfunction ProjectProductComponent_ng_template_96_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 124)(2, \"label\", 21);\n    i0.ɵɵtext(3, \"Danh s\\u00E1ch BOM c\\u1EE7a s\\u1EA3n ph\\u1EA9m \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 5);\n    i0.ɵɵtemplate(5, ProjectProductComponent_ng_template_96_button_5_Template, 3, 0, \"button\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 113)(7, \"perfect-scrollbar\", 125)(8, \"table\", 126)(9, \"thead\")(10, \"tr\")(11, \"th\", 127);\n    i0.ɵɵtext(12, \"STT\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 128);\n    i0.ɵɵtext(14, \"X\\u1EED l\\u00FD\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 129);\n    i0.ɵɵtext(16, \"Version\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 129);\n    i0.ɵɵtext(18, \"L\\u1EA7n t\\u1EA1o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"th\", 129);\n    i0.ɵɵtext(20, \"Ng\\u00E0y t\\u1EA1o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\", 130);\n    i0.ɵɵtext(22, \"Ng\\u01B0\\u1EDDi t\\u1EA1o\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"tbody\");\n    i0.ɵɵtemplate(24, ProjectProductComponent_ng_template_96_tr_24_Template, 18, 13, \"tr\", 131);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(3, _c7));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"config\", ctx_r13.constants.ScrollXConfig);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r13.listData);\n  }\n}\n\nfunction ProjectProductComponent_ng_template_100_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-project-product-material\", 141);\n  }\n\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ModuleId\", ctx_r14.moduleId)(\"ParentModuleId\", ctx_r14.parentModuleId)(\"ProjectProductId\", ctx_r14.projectProductId)(\"ContractCode\", ctx_r14.projectProductModel.ContractCode);\n  }\n}\n\nconst _c8 = function () {\n  return [\"F060021\"];\n};\n\nconst _c9 = function () {\n  return [\"F060020\"];\n};\n\nconst _c10 = function (a0) {\n  return {\n    \"warring_amountTHTK\": a0\n  };\n};\n\nconst _c11 = function () {\n  return [\"F060019\", \"F060017\"];\n};\n\nconst _c12 = function () {\n  return [\"F060030\", \"F060031\", \"F060032\", \"F060033\", \"F060034\"];\n};\n\nexport class ProjectProductComponent {\n  constructor(activeModal, modalService, messageService, service, serviceProjectGaneralDesign, combobox, config, dateUtils, constants, checkSpecialCharacter, componentService, permissionService, signalRService, serviceBom, dowloadservice) {\n    this.activeModal = activeModal;\n    this.modalService = modalService;\n    this.messageService = messageService;\n    this.service = service;\n    this.serviceProjectGaneralDesign = serviceProjectGaneralDesign;\n    this.combobox = combobox;\n    this.config = config;\n    this.dateUtils = dateUtils;\n    this.constants = constants;\n    this.checkSpecialCharacter = checkSpecialCharacter;\n    this.componentService = componentService;\n    this.permissionService = permissionService;\n    this.signalRService = signalRService;\n    this.serviceBom = serviceBom;\n    this.dowloadservice = dowloadservice;\n    this.onDownloadProductProject = new BroadcastEventListener('downloadProductDocuments');\n    this.totalAmount = 0;\n    this.totalAmountTHTK = 0;\n    this.totalAmountIncurred = 0;\n    this.colorTHTK = false;\n    this.items = [];\n    this.startIndex = 0;\n    this.listDA = [];\n    this.selectedProjectProductId = '';\n    this.listProductGroupId = [];\n    this.showIframeHider = false;\n    this.listProjectProduct = [];\n    this.listProjectProductId = [];\n    this.listModule = [];\n    this.listModuleId = [];\n    this.listProduct = [];\n    this.listProductId = [];\n    this.listDAById = [];\n    this.columnProjectProduct = [{\n      Name: 'Code',\n      Title: 'Mã sản phẩm'\n    }, {\n      Name: 'Name',\n      Title: 'Tên sản phẩm'\n    }];\n    this.columnName = [{\n      Name: 'Code',\n      Title: 'Mã theo thiết kế'\n    }, {\n      Name: 'Name',\n      Title: 'Tên theo thiết kế'\n    }];\n    this.fileTemplate = this.config.ServerApi + 'Template/ImportSanPham_Template.xls';\n    this.listDataType = [{\n      Id: 1,\n      Name: 'Bài thực hành/công đoạn'\n    }, {\n      Id: 2,\n      Name: 'Sản phẩm/Lai sản xuất'\n    }, {\n      Id: 3,\n      Name: 'Mô hình/máy'\n    }, {\n      Id: 4,\n      Name: 'Module'\n    }];\n    this.listModuleStatus = [{\n      Id: 1,\n      Name: 'Dự án'\n    }, {\n      Id: 2,\n      Name: 'Bổ sung'\n    }];\n    this.listDesignStatus = [{\n      Id: 1,\n      Name: 'Thiết kế mới'\n    }, {\n      Id: 2,\n      Name: 'Sửa thiết kế cũ'\n    }, {\n      Id: 3,\n      Name: 'Tận dụng'\n    }, {\n      Id: 4,\n      Name: 'Hàng bán thẳng'\n    }];\n    this.listProductSelectable = [];\n    this.model = {\n      Id: '',\n      ProjectId: '',\n      ContractCode: '',\n      ContractName: '',\n      Code: '',\n      Name: '',\n      DataType: 0,\n      ModuleStatus: 0,\n      DesignStatus: 0,\n      CostType: null,\n      MaterialName: null\n    };\n    this.sizes = {\n      percent: {\n        area1: 30,\n        area2: 70\n      },\n      pixel: {\n        area1: 120,\n        area2: '*',\n        area3: 160\n      }\n    };\n    this.downloadModel = {\n      DownloadPath: '',\n      ProjectId: '',\n      ApiUrl: '',\n      Token: '',\n      ApiFileUrl: ''\n    };\n    this.searchOptions = {\n      FieldContentName: 'ContractCode',\n      Placeholder: 'Nhập mã theo hợp đồng',\n      Items: [{\n        Name: 'Tên theo hợp đồng',\n        FieldName: 'ContractName',\n        Placeholder: 'Nhập tên nguồn',\n        Type: 'text'\n      }, {\n        Name: 'Mã theo thiết kế',\n        FieldName: 'Code',\n        Placeholder: 'Nhập mã theo thiết kế',\n        Type: 'text'\n      }, {\n        Name: 'Tên theo thiết kế',\n        FieldName: 'Name',\n        Placeholder: 'Nhập tên theo thiết kế',\n        Type: 'text'\n      }, {\n        Name: 'Mã/tên vật tư',\n        FieldName: 'MaterialName',\n        Placeholder: 'Nhập tên/mã vật tư',\n        Type: 'text'\n      }, {\n        Name: 'Kiểu sản phẩm',\n        FieldName: 'DataType',\n        Placeholder: 'Kiểu sản phẩm',\n        Type: 'select',\n        Data: this.constants.ListDataType,\n        DisplayName: 'Name',\n        ValueName: 'Id'\n      }, {\n        Name: 'Tình trạng module',\n        FieldName: 'ModuleStatus',\n        Placeholder: 'Tình trạng module',\n        Type: 'select',\n        Data: this.constants.ListModuleStatus,\n        DisplayName: 'Name',\n        ValueName: 'Id'\n      }, {\n        Name: 'Tình trạng thiết kế',\n        FieldName: 'DesignStatus',\n        Placeholder: 'Tình trạng thiết kế',\n        Type: 'select',\n        Data: this.constants.ListDesignStatus,\n        DisplayName: 'Name',\n        ValueName: 'Id'\n      }, {\n        Name: 'Tình trạng module',\n        FieldName: 'ModuleStatus',\n        Placeholder: 'Tình trạng module',\n        Type: 'select',\n        Data: this.constants.ListModuleStatus,\n        DisplayName: 'Name',\n        ValueName: 'Id'\n      }, {\n        Name: 'Chi phí',\n        FieldName: 'CostType',\n        Placeholder: '',\n        Type: 'select',\n        Data: this.constants.ListCost,\n        DisplayName: 'Name',\n        ValueName: 'Id'\n      }]\n    };\n    this.projectProductModel = {\n      Id: '',\n      ProjectId: '',\n      ParentId: null,\n      ModuleId: '',\n      ProductId: '',\n      ContractCode: '',\n      ContractName: '',\n      Specifications: '',\n      DataType: 0,\n      ModuleStatus: '',\n      DesignStatus: 0,\n      DesignFinishDate: null,\n      MakeFinishDate: null,\n      DeliveryDate: null,\n      TransferDate: null,\n      ExpectedDesignFinishDate: '',\n      ExpectedMakeFinishDate: '',\n      ExpectedTransferDate: '',\n      Note: '',\n      Quantity: 1,\n      Price: 0,\n      ContractIndex: '',\n      IsGeneralDesign: false,\n      DesignWorkStatus: false,\n      DesignCloseDate: '',\n      GeneralDesignLastDate: ''\n    };\n    this.activeTabId = 1;\n    this.designCloseDate = null;\n    this.generalDesignLastDate = null;\n    this.listData = [];\n    this.modelData = {\n      Id: '',\n      ModuleId: '',\n      ProjectProductId: '',\n      Version: 1\n    };\n    this.modelDowload = {\n      Name: '',\n      ListDatashet: []\n    };\n    this.items = [{\n      Id: 1,\n      text: 'Thêm',\n      icon: 'fa fa-plus text-success'\n    }, {\n      Id: 2,\n      text: 'Xóa',\n      icon: 'fas fa-times text-danger'\n    }, {\n      Id: 3,\n      text: 'Lập tổng hợp thiết kế',\n      icon: 'fas fa-file-excel text-success'\n    }];\n  }\n\n  ngOnInit() {\n    this.model.ProjectId = this.Id;\n    this.projectProductModel.ProjectId = this.Id;\n    this.searchProjectProduct();\n    this.getListProjectProduct();\n    this.getListModule();\n    this.getListProduct();\n    this.selectedProjectProductId = localStorage.getItem(\"selectedProjectProductId\");\n    localStorage.removeItem(\"selectedProjectProductId\");\n    this.signalRService.listen(this.onDownloadProductProject, true);\n    this.downloadSub = this.onDownloadProductProject.subscribe(data => {\n      this.blockUI.stop();\n\n      if (data) {\n        if (data.StatusCode == 2) {\n          this.messageService.showMessage(data.Message);\n        } else {\n          this.messageService.showMessage('Download thành công!');\n        }\n      }\n    });\n  }\n\n  searchProjectProduct() {\n    this.service.searchProjectProduct(this.model).subscribe(data => {\n      if (data.ListResult) {\n        //this.startIndex = ((this.projectProductModel.PageNumber - 1) * this.projectProductModel.PageSize + 1);\n        this.listDA = data.ListResult;\n        this.totalParent = data.Total;\n        this.totalAmount = data.ToTalAmount;\n        this.totalAmountTHTK = data.ToTalAmountTHTK;\n        this.totalAmountIncurred = data.TotalAmountIncurred;\n        this.colorTHTK = data.ColorTHTK;\n        this.projectProductModel.totalItems = data.TotalItem;\n\n        if (!this.selectedProjectProductId && this.listDA.length > 0) {\n          this.selectedProjectProductId = this.listDA[0].Id;\n        }\n\n        this.treeView.selectedRowKeys = [this.selectedProjectProductId];\n\n        for (var item of this.listDA) {\n          this.listProductGroupId.push(item.Id);\n        }\n      }\n    }, error => {\n      this.messageService.showError(error);\n    });\n  }\n\n  itemClick(e) {\n    if (e.itemData.Id == 1) {\n      this.showCreateUpdate('', this.projectProductId);\n    } else if (e.itemData.Id == 2) {\n      this.showConfirmDeleteProjectProduct(this.selectedProjectProductId);\n    } else if (e.itemData.Id == 3) {\n      if (this.projectProductModel.DataType == 2 || this.projectProductModel.DataType == 3 || this.projectProductModel.DataType == 4) {\n        this.showProjectGeneralDesign(this.selectedProjectProductId);\n      } else {\n        this.messageService.showMessage(\"Bạn chỉ được chọn kiểu dữ liệu là sản phẩm, module, mô hình!\");\n      }\n    }\n  }\n\n  onSelectionChanged(e) {\n    this.activeTabId = 1;\n    this.selectedProjectProductId = e.selectedRowKeys[0]; //this.searchProjectProduct();\n\n    this.projectProductId = e.selectedRowKeys[0];\n    this.clearDate();\n    this.getParentProduct();\n\n    if (this.selectedProjectProductId) {\n      this.getProjectProductInfo();\n      this.modelData.ProjectProductId = this.projectProductId;\n      this.projectId = this.Id;\n      this.searchBOMDesignTwo(); // this.getProjectProductInfoBom();\n    }\n  }\n\n  clearDate() {\n    this.designFinishDate = null;\n    this.makeFinishDate = null;\n    this.deliveryDate = null;\n    this.transferDate = null;\n    this.expectedDesignFinishDate = null;\n    this.expectedMakeFinishDate = null;\n    this.expectedTransferDate = null;\n    this.designCloseDate = null;\n    this.generalDesignLastDate = null;\n  }\n\n  clear() {\n    this.model = {\n      Id: '',\n      ProjectId: '',\n      ContractCode: '',\n      ContractName: '',\n      Code: '',\n      Name: '',\n      DataType: 0,\n      ModuleStatus: 0,\n      DesignStatus: 0,\n      CostType: null\n    }; // this.projectProductId = '';\n\n    this.selectedProjectProductId = '';\n    this.model.ProjectId = this.Id;\n    this.projectProductModel.ProjectId = this.Id;\n    this.searchProjectProduct();\n  }\n\n  searchProjectProductById(Id) {\n    this.service.searchProjectProductById({\n      Id: Id\n    }).subscribe(data => {\n      if (data) {\n        this.listDAById = data;\n\n        if (this.listDAById.length == 1) {\n          this.deleteProjectProduct(Id);\n        } else {\n          this.messageService.showConfirm(\"Xóa sản phẩm này sẽ xóa hết cả các sản phẩm con thuộc nhóm, Bạn có chắc chắn muốn xóa không?\").then(data => {\n            this.deleteProjectProduct(Id);\n          }, error => {});\n        }\n      }\n    }, error => {\n      this.messageService.showError(error);\n    });\n  }\n\n  showConfirmDeleteProjectProduct(Id) {\n    this.messageService.showConfirm(\"Bạn có chắc muốn xoá sản phẩm này không?\").then(data => {\n      this.searchProjectProductById(Id);\n    }, error => {});\n  }\n\n  deleteProjectProduct(Id) {\n    this.service.deleteProjectProduct({\n      Id: Id\n    }).subscribe(data => {\n      this.searchProjectProduct();\n      this.messageService.showSuccess('Xóa sản phẩm thành công!');\n    }, error => {\n      this.messageService.showError(error);\n    });\n  }\n\n  getProjectProductInfo() {\n    this.service.getProjectProductInfo({\n      Id: this.selectedProjectProductId\n    }).subscribe(data => {\n      this.projectProductModel = data;\n\n      if (data.DataType == 3 || data.DataType == 4) {\n        this.moduleId = data.ModuleId;\n        this.parentModuleId = null;\n      } else {\n        if (data.ParentId != null && data.ParentId != \"\" && (data.ParentDataType == 3 || data.ParentDataType == 4)) {\n          this.parentModuleId = data.ParentModuleId;\n          this.moduleId = null;\n        }\n      }\n\n      if (data.DesignFinishDate != null) {\n        let dateArray1 = data.DesignFinishDate.split('T')[0];\n        let dateValue1 = dateArray1.split('-');\n        let tempDateFromV1 = {\n          'day': parseInt(dateValue1[2]),\n          'month': parseInt(dateValue1[1]),\n          'year': parseInt(dateValue1[0])\n        };\n        this.designFinishDate = tempDateFromV1;\n      }\n\n      if (data.MakeFinishDate != null) {\n        let dateArray2 = data.MakeFinishDate.split('T')[0];\n        let dateValue2 = dateArray2.split('-');\n        let tempDateFromV2 = {\n          'day': parseInt(dateValue2[2]),\n          'month': parseInt(dateValue2[1]),\n          'year': parseInt(dateValue2[0])\n        };\n        this.makeFinishDate = tempDateFromV2;\n      }\n\n      if (data.DeliveryDate != null) {\n        let dateArray3 = data.DeliveryDate.split('T')[0];\n        let dateValue3 = dateArray3.split('-');\n        let tempDateFromV3 = {\n          'day': parseInt(dateValue3[2]),\n          'month': parseInt(dateValue3[1]),\n          'year': parseInt(dateValue3[0])\n        };\n        this.deliveryDate = tempDateFromV3;\n      }\n\n      if (data.TransferDate != null) {\n        let dateArray4 = data.TransferDate.split('T')[0];\n        let dateValue4 = dateArray4.split('-');\n        let tempDateFromV4 = {\n          'day': parseInt(dateValue4[2]),\n          'month': parseInt(dateValue4[1]),\n          'year': parseInt(dateValue4[0])\n        };\n        this.transferDate = tempDateFromV4;\n      }\n\n      if (data.ExpectedDesignFinishDate != null) {\n        let dateArray5 = data.ExpectedDesignFinishDate.split('T')[0];\n        let dateValue5 = dateArray5.split('-');\n        let tempDateFromV5 = {\n          'day': parseInt(dateValue5[2]),\n          'month': parseInt(dateValue5[1]),\n          'year': parseInt(dateValue5[0])\n        };\n        this.expectedDesignFinishDate = tempDateFromV5;\n      }\n\n      if (data.ExpectedMakeFinishDate != null) {\n        let dateArray6 = data.ExpectedMakeFinishDate.split('T')[0];\n        let dateValue6 = dateArray6.split('-');\n        let tempDateFromV6 = {\n          'day': parseInt(dateValue6[2]),\n          'month': parseInt(dateValue6[1]),\n          'year': parseInt(dateValue6[0])\n        };\n        this.expectedMakeFinishDate = tempDateFromV6;\n      }\n\n      if (data.ExpectedTransferDate != null) {\n        let dateArray7 = data.ExpectedTransferDate.split('T')[0];\n        let dateValue7 = dateArray7.split('-');\n        let tempDateFromV7 = {\n          'day': parseInt(dateValue7[2]),\n          'month': parseInt(dateValue7[1]),\n          'year': parseInt(dateValue7[0])\n        };\n        this.expectedTransferDate = tempDateFromV7;\n      }\n\n      if (data.DesignCloseDate) {\n        this.designCloseDate = this.dateUtils.convertDateToObject(data.DesignCloseDate);\n      }\n\n      if (data.GeneralDesignLastDate) {\n        this.generalDesignLastDate = this.dateUtils.convertDateToObject(data.GeneralDesignLastDate);\n      }\n    }, error => {\n      this.messageService.showError(error);\n    });\n  }\n\n  getListModule() {\n    this.combobox.getListModule().subscribe(data => {\n      this.listModule = data;\n\n      for (var item of this.listModule) {\n        this.listModuleId.push(item.Id);\n      }\n    });\n  }\n\n  getListProduct() {\n    this.combobox.getListProduct().subscribe(data => {\n      this.listProduct = data;\n\n      for (var item of this.listProduct) {\n        this.listProductId.push(item.Id);\n      }\n    });\n  }\n\n  getListProjectProduct() {\n    this.combobox.getListProjectProduct(this.Id).subscribe(data => {\n      if (data) {\n        this.listProjectProduct = data; // lấy list id expandedRowKeys \n\n        for (var item of this.listProjectProduct) {\n          this.listProjectProductId.push(item.Id);\n        }\n\n        this.getParentProduct();\n      }\n    });\n  }\n\n  getParentProduct() {\n    this.listProductSelectable = [];\n\n    for (var item of this.listProjectProduct) {\n      if ((this.selectedProjectProductId != null || this.selectedProjectProductId != \"\") && item.Id != this.selectedProjectProductId) {\n        this.listProductSelectable.push(item);\n      }\n    }\n  }\n\n  supUpdate() {\n    if (this.designCloseDate) {\n      this.projectProductModel.DesignCloseDate = this.dateUtils.convertObjectToDate(this.designCloseDate);\n    }\n\n    if (this.generalDesignLastDate) {\n      this.projectProductModel.GeneralDesignLastDate = this.dateUtils.convertObjectToDate(this.generalDesignLastDate);\n    }\n\n    if (this.designFinishDate) {\n      this.projectProductModel.DesignFinishDate = this.dateUtils.convertObjectToDate(this.designFinishDate);\n    } else {\n      this.projectProductModel.DesignFinishDate = null;\n    }\n\n    if (this.makeFinishDate) {\n      this.projectProductModel.MakeFinishDate = this.dateUtils.convertObjectToDate(this.makeFinishDate);\n    } else {\n      this.projectProductModel.MakeFinishDate = null;\n    }\n\n    if (this.deliveryDate) {\n      this.projectProductModel.DeliveryDate = this.dateUtils.convertObjectToDate(this.deliveryDate);\n    } else {\n      this.projectProductModel.DeliveryDate = null;\n    }\n\n    if (this.transferDate) {\n      this.projectProductModel.TransferDate = this.dateUtils.convertObjectToDate(this.transferDate);\n    } else {\n      this.projectProductModel.TransferDate = null;\n    }\n\n    if (this.expectedDesignFinishDate) {\n      this.projectProductModel.ExpectedDesignFinishDate = this.dateUtils.convertObjectToDate(this.expectedDesignFinishDate);\n    } else {\n      this.projectProductModel.ExpectedDesignFinishDate = null;\n    }\n\n    if (this.expectedMakeFinishDate) {\n      this.projectProductModel.ExpectedMakeFinishDate = this.dateUtils.convertObjectToDate(this.expectedMakeFinishDate);\n    } else {\n      this.projectProductModel.ExpectedMakeFinishDate = null;\n    }\n\n    if (this.expectedTransferDate) {\n      this.projectProductModel.ExpectedTransferDate = this.dateUtils.convertObjectToDate(this.expectedTransferDate);\n    } else {\n      this.projectProductModel.ExpectedTransferDate = null;\n    }\n\n    this.service.updateProjectProduct(this.projectProductModel).subscribe(() => {\n      this.searchProjectProduct();\n      this.getListProjectProduct();\n      this.messageService.showSuccess('Cập nhật sản phẩm thành công!');\n    }, error => {\n      this.messageService.showError(error);\n    });\n  } //cập nhật nhóm module\n\n\n  updateProjectProduct() {\n    //kiểm tra ký tự đặc việt trong Mã\n    var validCode = this.checkSpecialCharacter.checkCode(this.model.ContractCode);\n\n    if (validCode) {\n      this.supUpdate();\n    } else {\n      this.messageService.showConfirmCode(\"Mã không được chứa ký tự đặc biệt!\").then(data => {\n        this.supUpdate();\n      }, error => {});\n    }\n  }\n\n  save(isContinue) {\n    if (this.projectProductModel.Id) {\n      this.updateProjectProduct();\n    }\n  }\n\n  exportExcel() {\n    this.service.compareContract(this.model).subscribe(d => {\n      var link = document.createElement('a');\n      link.setAttribute(\"type\", \"hidden\");\n      link.href = this.config.ServerApi + d;\n      link.download = 'Download.docx';\n      document.body.appendChild(link); // link.focus();\n\n      link.click();\n      document.body.removeChild(link);\n    }, e => {\n      this.messageService.showError(e);\n    });\n  }\n\n  showProjectGeneralDesign(Id) {\n    if (Id) {\n      this.serviceProjectGaneralDesign.checkApproveStatus(Id).subscribe(data => {\n        if (data) {\n          this.show(Id);\n        } else {\n          this.messageService.showMessage(\"Bạn chưa phê duyệt lân tổng hợp gần nhất\");\n        }\n      }, error => {\n        this.messageService.showError(error);\n      });\n    } else {\n      this.show(Id);\n    }\n  }\n\n  show(Id) {\n    let activeModal = this.modalService.open(ProjectGeneralDesignCreateComponent, {\n      container: 'body',\n      windowClass: 'project-ganeral-design-create',\n      backdrop: 'static'\n    });\n    activeModal.componentInstance.Id = '';\n    activeModal.componentInstance.projectProductId = Id;\n    activeModal.componentInstance.projectId = this.model.ProjectId;\n    activeModal.result.then(result => {\n      if (result) {\n        this.searchProjectProduct();\n      }\n    }, reason => {});\n  }\n\n  showCreateUpdate(Id, projectProductPrentId) {\n    let activeModal = this.modalService.open(ProjectProductCreateComponent, {\n      container: 'body',\n      windowClass: 'project-product-create',\n      backdrop: 'static'\n    });\n    activeModal.componentInstance.idUpdate = Id;\n    activeModal.componentInstance.projectId = this.Id;\n    activeModal.componentInstance.projectProductPrentId = projectProductPrentId;\n    activeModal.result.then(result => {\n      if (result) {\n        this.searchProjectProduct();\n      }\n    }, reason => {});\n  }\n\n  importProduct() {\n    this.componentService.showImportExcel(this.fileTemplate, false).subscribe(data => {\n      if (data) {\n        this.service.importProduct(data, this.Id).subscribe(data => {\n          this.searchProjectProduct();\n          this.messageService.showSuccess('Import danh sách sản phẩm thành công!');\n        }, error => {\n          this.messageService.showError(error);\n        });\n      }\n    });\n  }\n\n  downloadDocument() {\n    this.componentService.showChooseFolder(0, 0, '').subscribe(result => {\n      if (result) {\n        this.downloadModel.DownloadPath = result;\n        this.downloadModel.ProjectId = this.model.ProjectId;\n        this.downloadModel.ApiUrl = this.config.ServerApi;\n        this.downloadModel.ApiFileUrl = this.config.ServerFileApi;\n        let currentUser = JSON.parse(localStorage.getItem('qltkcurrentUser'));\n\n        if (currentUser && currentUser.access_token) {\n          this.downloadModel.Token = currentUser.access_token;\n        }\n\n        this.signalRService.invoke('DownloadProductDocuments', this.downloadModel).subscribe(data => {\n          if (data) {\n            this.blockUI.start();\n          } else {\n            this.messageService.showMessage(\"Không kết nối được service\");\n          }\n        });\n      }\n    }, reason => {});\n  }\n\n  onRowUpdated(e) {\n    console.log(e);\n    this.service.updateIsGeneralDesign(e.data).subscribe(data => {\n      this.messageService.showSuccess('Thay đổi tình trạng THTK thành công!');\n\n      if (this.selectedProjectProductId == e.data.Id) {\n        this.getProjectProductInfo();\n      }\n    }, error => {\n      this.messageService.showError(error);\n    });\n  } //add new tab\n\n\n  searchBOMDesignTwo() {\n    this.serviceBom.searchBOMDesignTwo(this.modelData).subscribe(data => {\n      if (data.ListResult) {\n        this.listData = data.ListResult;\n      }\n    }, error => {\n      this.messageService.showError(error);\n    });\n  }\n\n  showConfirmDelete(Id) {\n    this.messageService.showConfirm(\"Bạn có chắc muốn xoá BOM này không?\").then(data => {\n      this.deleteBOMDesignTwo(Id);\n    }, error => {});\n  }\n\n  deleteBOMDesignTwo(Id) {\n    this.serviceBom.deleteBOMDesignTwo({\n      Id: Id,\n      ModuleId: this.projectProductModel.ModuleId\n    }).subscribe(data => {\n      this.searchBOMDesignTwo();\n      this.messageService.showSuccess('Xóa BOM thành công!');\n    }, error => {\n      this.messageService.showError(error);\n    });\n  }\n\n  exportExcelBOM(Id) {\n    this.modelData.Id = Id;\n    this.serviceBom.exportExcel(this.modelData).subscribe(d => {\n      var link = document.createElement('a');\n      link.setAttribute(\"type\", \"hidden\");\n      link.href = this.config.ServerApi + d;\n      link.download = 'Download.docx';\n      document.body.appendChild(link); // link.focus();\n\n      link.click();\n      document.body.removeChild(link);\n    }, e => {\n      this.messageService.showError(e);\n    });\n  }\n\n  downAllDocumentProcess(Datashet) {\n    if (Datashet.length <= 0) {\n      this.messageService.showMessage(\"Không có file để tải\");\n      return;\n    }\n\n    var listFilePath = [];\n    Datashet.forEach(element => {\n      listFilePath.push({\n        Path: element.Path,\n        FileName: element.FileName\n      });\n    });\n    this.modelDowload.Name = \"BOMTK2\";\n    this.modelDowload.ListDatashet = listFilePath;\n    this.dowloadservice.downloadAll(this.modelDowload).subscribe(data => {\n      var link = document.createElement('a');\n      link.setAttribute(\"type\", \"hidden\");\n      link.href = this.config.ServerFileApi + data.PathZip;\n      link.download = 'Download.zip';\n      document.body.appendChild(link); // link.focus();\n\n      link.click();\n      document.body.removeChild(link);\n    }, e => {\n      this.messageService.showError(e);\n    });\n  }\n\n  showCreate() {\n    let activeModal = this.modalService.open(ProjectProductBomCreateComponent, {\n      container: 'body',\n      windowClass: 'project-product-bom-create',\n      backdrop: 'static'\n    });\n    activeModal.componentInstance.projectProductId = this.projectProductId;\n    activeModal.componentInstance.moduleId = this.projectProductModel.ModuleId;\n    activeModal.componentInstance.listDA = this.listDA;\n    activeModal.componentInstance.projectId = this.projectId;\n    activeModal.result.then(result => {\n      if (result) {\n        this.searchBOMDesignTwo();\n        this.searchProjectProduct();\n      }\n    }, reason => {});\n  }\n\n  getProjectProductInfoBom() {\n    var projectProduct = {\n      Id: this.projectProductId\n    };\n    this.service.getProjectProductInfo(projectProduct).subscribe(data => {\n      this.modelData.ModuleId = data.ModuleId;\n    }, error => {\n      this.messageService.showError(error);\n    });\n  }\n\n}\n\nProjectProductComponent.ɵfac = function ProjectProductComponent_Factory(t) {\n  return new (t || ProjectProductComponent)(i0.ɵɵdirectiveInject(i1.NgbActiveModal), i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i2.MessageService), i0.ɵɵdirectiveInject(i3.ProjectProductService), i0.ɵɵdirectiveInject(i4.ProjectGeneralDesignService), i0.ɵɵdirectiveInject(i2.ComboboxService), i0.ɵɵdirectiveInject(i2.Configuration), i0.ɵɵdirectiveInject(i2.DateUtils), i0.ɵɵdirectiveInject(i2.Constants), i0.ɵɵdirectiveInject(i5.CheckSpecialCharacter), i0.ɵɵdirectiveInject(i2.ComponentService), i0.ɵɵdirectiveInject(i2.PermissionService), i0.ɵɵdirectiveInject(i6.SignalRService), i0.ɵɵdirectiveInject(i7.ProjectProductBomService), i0.ɵɵdirectiveInject(i8.DownloadService));\n};\n\nProjectProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProjectProductComponent,\n  selectors: [[\"app-project-product\"]],\n  viewQuery: function ProjectProductComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(DxTreeListComponent, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.treeView = _t.first);\n    }\n  },\n  inputs: {\n    Id: \"Id\",\n    PriceFCM: \"PriceFCM\"\n  },\n  decls: 103,\n  vars: 76,\n  consts: [[\"name\", \"searchForm\"], [\"f\", \"ngForm\"], [1, \"row\"], [1, \"col-xl-6\", \"col-lg-6\", \"col-md-6\", \"col-sm-12\"], [\"name\", \"search\", 3, \"options\", \"ngModel\", \"optionsChange\", \"ngModelChange\", \"change\"], [1, \"col-xl-6\", \"col-lg-6\", \"col-md-6\", \"col-sm-12\", \"text-right\"], [1, \"btn\", \"btn-success\", \"btn-success-system\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [1, \"btn\", \"btn-default\", \"btn-default-system\", 3, \"click\"], [1, \"fas\", \"fa-redo-alt\"], [\"ngbDropdown\", \"\", 1, \"d-inline-block\"], [\"id\", \"dropdownBasic1\", \"ngbDropdownToggle\", \"\", 1, \"btn\", \"btn-outline-primary\"], [1, \"fas\", \"fa-cog\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"dropdownBasic1\"], [\"class\", \"btn btn-success btn-success-system\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"button\", \"class\", \"btn btn-success\", \"container\", \"body\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"button\", \"class\", \"btn btn-warning\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"fa\", \"fa-download\"], [1, \"row\", \"padding-top-10\"], [1, \"col-xl-12\", \"col-lg-12\", \"col-md-12\", \"col-sm-12\", 2, \"height\", \"1320px\"], [1, \"form-label\", 2, \"line-height\", \"35px\"], [1, \"bold\", \"text-danger\"], [1, \"bold\", \"text-danger\", 3, \"ngClass\"], [\"direction\", \"vertical\"], [\"size\", \"10\", \"minSize\", \"10\", \"maxSize\", \"40\"], [\"id\", \"employees\", \"keyExpr\", \"Id\", \"parentIdExpr\", \"ParentId\", 1, \"sp-1\", 3, \"dataSource\", \"showRowLines\", \"showBorders\", \"columnAutoWidth\", \"onSelectionChanged\", \"onRowUpdated\"], [\"mode\", \"single\"], [\"mode\", \"cell\", 3, \"allowUpdating\"], [\"cssClass\", \"my-class\", \"dataField\", \"ContractIndex\", \"caption\", \"H\\u1EA1ng m\\u1EE5c\", 3, \"allowEditing\", \"minWidth\"], [\"cssClass\", \"my-class\", \"dataField\", \"ContractCode\", \"caption\", \"M\\u00E3 theo h\\u1EE3p \\u0111\\u1ED3ng\", \"width\", \"100px\", \"cellTemplate\", \"template_ContractCode\", 3, \"allowEditing\"], [4, \"dxTemplate\", \"dxTemplateOf\"], [\"cssClass\", \"my-class\", \"dataField\", \"ContractName\", \"caption\", \"T\\u00EAn theo h\\u1EE3p \\u0111\\u1ED3ng\", \"width\", \"250px\", \"cellTemplate\", \"template_ContractName\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"Code\", \"caption\", \"M\\u00E3 theo thi\\u1EBFt k\\u1EBF\", \"width\", \"100px\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"Name\", \"caption\", \"T\\u00EAn theo thi\\u1EBFt k\\u1EBF\", \"width\", \"200px\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"DatatypeName\", \"caption\", \"Ki\\u1EC3u d\\u1EEF li\\u1EC7u\", \"width\", \"110px\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"ModuleStatusName\", \"caption\", \"T\\u00ECnh tr\\u1EA1ng module\", \"width\", \"140px\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"DesignStatusName\", \"caption\", \"Ph\\u00E2n lo\\u1EA1i h\\u00E0ng h\\u00F3a\", \"width\", \"140px\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"Quantity\", \"caption\", \"SL H\\u1EE3p \\u0111\\u1ED3ng\", \"format\", \"#,##0\", 3, \"allowEditing\", \"width\"], [\"cssClass\", \"my-class\", \"dataField\", \"RealQuantity\", \"caption\", \"SL th\\u1EF1c\", \"width\", \"75px\", \"format\", \"#,##0\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"Price\", \"caption\", \"\\u0110inh m\\u1EE9c VT TK\", \"width\", \"105px\", \"format\", \"#,##0\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"Amount\", \"caption\", \"Th\\u00E0nh ti\\u1EC1n\", \"width\", \"105px\", \"format\", \"#,##0\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"QuantityTHTK\", \"caption\", \"SL THTK/th\\u1EF1c t\\u1EBF\", \"format\", \"#,##0\", 3, \"allowEditing\", \"width\"], [\"cssClass\", \"my-class\", \"dataField\", \"PriceTHTK\", \"caption\", \"\\u0110\\u01A1n gi\\u00E1 THTK/th\\u1EF1c t\\u1EBF\", \"width\", \"105px\", \"format\", \"#,##0\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"AmountTHTK\", \"caption\", \"Th\\u00E0nh ti\\u1EC1n THTK/th\\u1EF1c t\\u1EBF\", \"format\", \"#,##0\", 3, \"allowEditing\", \"width\"], [\"dataField\", \"IsGeneralDesign\", \"caption\", \"T\\u1ED5ng h\\u1EE3p thi\\u1EBFt k\\u1EBF\", \"width\", \"140px\", 1, \"custom-control\", \"custom-checkbox\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"DesignWorkStatus\", \"cellTemplate\", \"template_DesignWorkStatus\", \"caption\", \"Tr\\u1EA1ng th\\u00E1i thi\\u1EBFt k\\u1EBF\", \"width\", \"140px\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"DesignCloseDate\", \"caption\", \"Ng\\u00E0y \\u0111\\u00F3ng thi\\u1EBFt k\\u1EBF\", \"width\", \"140px\", \"cellTemplate\", \"template_DesignCloseDate\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"GeneralDesignLastDate\", \"caption\", \" C\\u1ED9t ng\\u00E0y t\\u1EA1o THTK cu\\u1ED1i c\\u00F9ng\", \"width\", \"140px\", \"cellTemplate\", \"template_DesignCloseDate\", 3, \"allowEditing\"], [\"cssClass\", \"my-class\", \"dataField\", \"Note\", \"caption\", \"M\\u00F4 t\\u1EA3\", 3, \"allowEditing\", \"minWidth\"], [\"keyExpr\", \"Id\", \"target\", \"#employees\", 3, \"dataSource\", \"width\", \"onItemClick\"], [\"size\", \"90\", \"minSize\", \"50\", \"maxSize\", \"90\"], [\"ngbNav\", \"\", 1, \"nav-tabs\", 3, \"activeId\", \"activeIdChange\"], [\"nav\", \"ngbNav\"], [3, \"ngbNavItem\", \"disabled\"], [\"ngbNavLink\", \"\"], [\"ngbNavContent\", \"\"], [3, \"ngbNavOutlet\"], [1, \"fas\", \"fa-not-equal\"], [\"type\", \"button\", \"container\", \"body\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"fa\", \"fa-plus\"], [\"type\", \"button\", 1, \"btn\", \"btn-warning\", 3, \"click\"], [1, \"fa\", \"fa-file-excel\"], [3, \"ngClass\"], [3, \"items\", \"value\"], [1, \"text-center\"], [4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-success btn-save\", 3, \"disabled\", \"click\", 4, \"appUipermission\"], [\"name\", \"form\", \"novalidate\", \"\", 1, \"tab-form-demo\"], [1, \"col-xl-3\", \"col-lg-3\", \"col-md-3\", \"col-sm-12\"], [1, \"form-group\"], [1, \"form-label\"], [\"ntsParentId\", \"ParentId\", \"ntsValue\", \"Id\", \"ntsLabel\", \"Code\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"projectproduct\", 3, \"items\", \"columns\", \"ngModel\", \"disUipermission\", \"ngModelChange\"], [1, \"controls\"], [\"type\", \"text\", \"name\", \"ContractCode\", \"maxlength\", \"50\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [1, \"text-danger\", \"text-strong\"], [\"type\", \"text\", \"name\", \"ContractName\", \"maxlength\", \"300\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"name\", \"DataType\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-xl-3 col-lg-3 col-md-3 col-sm-12\", 4, \"ngIf\"], [\"name\", \"ModuleStatus\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"name\", \"DesignStatus\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [1, \"form-group\", \"form-group-custom\"], [\"currencyMask\", \"\", \"name\", \"Quantity\", \"type\", \"text\", \"maxlength\", \"18\", \"required\", \"\", 1, \"form-control\", 3, \"options\", \"ngModel\", \"disUipermission\", \"ngModelChange\"], [1, \"input-group\"], [1, \"input-group\", \"input-date\"], [\"placeholder\", \"dd/mm/yyyy\", \"name\", \"ExpectedDesignFinishDate\", \"ngbDatepicker\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"ExpectedDesignFinishDate\", \"ngbDatepicker\"], [1, \"input-group-append\", 3, \"disUipermission\"], [1, \"dtp-icon\", 3, \"click\"], [1, \"far\", \"fa-calendar-alt\", 2, \"color\", \"#999\"], [\"placeholder\", \"dd/mm/yyyy\", \"name\", \"ExpectedMakeFinishDate\", \"ngbDatepicker\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"ExpectedMakeFinishDate\", \"ngbDatepicker\"], [\"placeholder\", \"dd/mm/yyyy\", \"name\", \"ExpectedTransferDate\", \"ngbDatepicker\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"ExpectedTransferDate\", \"ngbDatepicker\"], [\"type\", \"text\", \"placeholder\", \"dd/mm/yyyy\", \"name\", \"DeliveryDate\", \"ngbDatepicker\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"DeliveryDate\", \"ngbDatepicker\"], [\"type\", \"text\", \"placeholder\", \"dd/mm/yyyy\", \"name\", \"TransferDate\", \"ngbDatepicker\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"TransferDate\", \"ngbDatepicker\"], [\"currencyMask\", \"\", \"name\", \"Price\", \"type\", \"text\", \"maxlength\", \"18\", 1, \"form-control\", 3, \"options\", \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"ContractIndex\", \"maxlength\", \"50\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [1, \"col-md-3\", \"col-lg-3\", \"col-sm-12\", \"col-xl-3\", \"checkbox\"], [1, \"custom-control\", \"custom-checkbox\", \"margin-top-10\"], [\"type\", \"checkbox\", \"id\", \"IsGeneralDesign\", \"name\", \"IsGeneralDesign\", 1, \"custom-control-input\", 3, \"disUipermission\", \"ngModel\", \"ngModelChange\"], [\"for\", \"IsGeneralDesign\", 1, \"custom-control-label\"], [1, \"col-xl-6\", \"col-lg-6\", \"col-md-6\", \"col-sm-12\", \"radio\"], [1, \"radio\"], [\"type\", \"radio\", \"name\", \"valueTrueFalse\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [1, \"checkround\"], [\"type\", \"text\", \"placeholder\", \"dd/mm/yyyy\", \"name\", \"designCloseDate\", \"ngbDatepicker\", \"\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"DesignCloseDate\", \"ngbDatepicker\"], [\"type\", \"text\", \"placeholder\", \"dd/mm/yyyy\", \"name\", \"generalDesignLastDate\", \"ngbDatepicker\", \"\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"GeneralDesignLastDate\", \"ngbDatepicker\"], [1, \"col-xl-12\", \"col-lg-12\", \"col-md-12\", \"col-sm-12\"], [\"name\", \"Specifications\", \"rows\", \"10\", 1, \"form-control\", 3, \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"name\", \"Note\", \"rows\", \"2\", 1, \"form-control\", 3, \"ngModel\", \"maxLength\", \"disUipermission\", \"ngModelChange\"], [1, \"col-lg-12\", \"col-md-12\", \"col-sm-12\", \"text-right\"], [\"type\", \"button\", \"class\", \"btn btn-success\", 3, \"disabled\", \"click\", 4, \"appUipermission\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-save\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-save\"], [3, \"ngValue\"], [\"ntsParentId\", \"ParentId\", \"ntsValue\", \"Id\", \"ntsLabel\", \"Code\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"moduleId\", \"placeholder\", \"Ch\\u1ECDn thi\\u1EBFt k\\u1EBF\", 3, \"items\", \"columns\", \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"ntsParentId\", \"ParentId\", \"ntsValue\", \"Id\", \"ntsLabel\", \"Code\", \"ntsMode\", \"single\", \"ntsAutoClose\", \"true\", \"name\", \"productId\", \"placeholder\", \"Ch\\u1ECDn thi\\u1EBFt k\\u1EBF\", 3, \"items\", \"columns\", \"ngModel\", \"disUipermission\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"col-xl-6\", \"col-lg-6\", \"col-md-6\", \"col-sm-12\", \"text-left\"], [3, \"config\"], [1, \"table\", \"table-bordered\", \"table-fixed\", 2, \"min-width\", \"700px\"], [\"width\", \"50px\", 1, \"text-center\"], [\"width\", \"150px\", 1, \"text-center\"], [\"width\", \"100px\", 1, \"text-center\"], [\"min-width\", \"200px\", 1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"class\", \"btn btn-xs btn-danger\", \"ngbTooltip\", \"X\\u00F3a\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"button\", \"class\", \"btn btn-xs btn-success\", \"ngbTooltip\", \"Xu\\u1EA5t Excel\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"button\", \"ngbTooltip\", \"X\\u00F3a\", 1, \"btn\", \"btn-xs\", \"btn-danger\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fas\", \"fa-times\"], [\"type\", \"button\", \"ngbTooltip\", \"Xu\\u1EA5t Excel\", 1, \"btn\", \"btn-xs\", \"btn-success\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-file-excel\"], [\"type\", \"button\", \"style\", \"background-color: papayawhip\", \"class\", \"btn btn-xs\", \"placement\", \"bottom\", \"placement\", \"top\", \"ngbTooltip\", \"T\\u1EA3i v\\u00E0 l\\u01B0u\", \"container\", \"body\", 3, \"click\", 4, \"appUipermission\"], [\"type\", \"button\", \"placement\", \"bottom\", \"placement\", \"top\", \"ngbTooltip\", \"T\\u1EA3i v\\u00E0 l\\u01B0u\", \"container\", \"body\", 1, \"btn\", \"btn-xs\", 2, \"background-color\", \"papayawhip\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fas\", \"fa-download\", 2, \"color\", \"black\"], [3, \"ModuleId\", \"ParentModuleId\", \"ProjectProductId\", \"ContractCode\"]],\n  template: function ProjectProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0, 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"nts-search-bar\", 4);\n      i0.ɵɵlistener(\"optionsChange\", function ProjectProductComponent_Template_nts_search_bar_optionsChange_4_listener($event) {\n        return ctx.searchOptions = $event;\n      })(\"ngModelChange\", function ProjectProductComponent_Template_nts_search_bar_ngModelChange_4_listener($event) {\n        return ctx.model = $event;\n      })(\"change\", function ProjectProductComponent_Template_nts_search_bar_change_4_listener() {\n        return ctx.searchProjectProduct();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ProjectProductComponent_Template_button_click_6_listener() {\n        return ctx.searchProjectProduct();\n      });\n      i0.ɵɵelement(7, \"i\", 7);\n      i0.ɵɵtext(8, \" \\u00A0T\\u00ECm ki\\u1EBFm\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(9, \"\\u00A0 \");\n      i0.ɵɵelementStart(10, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function ProjectProductComponent_Template_button_click_10_listener() {\n        return ctx.clear();\n      });\n      i0.ɵɵelement(11, \"i\", 9);\n      i0.ɵɵtext(12, \" \\u00A0L\\u00E0m m\\u1EDBi\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\u00A0 \");\n      i0.ɵɵelementStart(14, \"div\", 10)(15, \"button\", 11);\n      i0.ɵɵelement(16, \"i\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 13);\n      i0.ɵɵtemplate(18, ProjectProductComponent_button_18_Template, 3, 0, \"button\", 14);\n      i0.ɵɵtemplate(19, ProjectProductComponent_button_19_Template, 3, 0, \"button\", 15);\n      i0.ɵɵtemplate(20, ProjectProductComponent_button_20_Template, 3, 0, \"button\", 16);\n      i0.ɵɵelementStart(21, \"button\", 17);\n      i0.ɵɵlistener(\"click\", function ProjectProductComponent_Template_button_click_21_listener() {\n        return ctx.downloadDocument();\n      });\n      i0.ɵɵelement(22, \"i\", 18);\n      i0.ɵɵtext(23, \" Download t\\u00E0i li\\u1EC7u s\\u1EA3n ph\\u1EA9m \");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(24, \"div\", 19)(25, \"div\", 20)(26, \"div\")(27, \"label\", 21);\n      i0.ɵɵtext(28, \" T\\u1ED5ng s\\u1ED1 \");\n      i0.ɵɵelementStart(29, \"span\", 22);\n      i0.ɵɵtext(30);\n      i0.ɵɵpipe(31, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(32, \" s\\u1EA3n ph\\u1EA9m;\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(33, \"\\u00A0 \");\n      i0.ɵɵelementStart(34, \"label\", 21);\n      i0.ɵɵtext(35, \" T\\u1ED5ng ti\\u1EC1n \\u0110\\u1ECBnh m\\u1EE9c v\\u1EADt t\\u01B0 thi\\u1EBFt k\\u1EBF: \");\n      i0.ɵɵelementStart(36, \"span\", 23);\n      i0.ɵɵtext(37);\n      i0.ɵɵpipe(38, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \";\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(40, \"\\u00A0 \");\n      i0.ɵɵelementStart(41, \"label\", 21);\n      i0.ɵɵtext(42, \" T\\u1ED5ng ti\\u1EC1n THTK: \");\n      i0.ɵɵelementStart(43, \"span\", 23);\n      i0.ɵɵtext(44);\n      i0.ɵɵpipe(45, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(46, \";\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(47, \"\\u00A0 \");\n      i0.ɵɵelementStart(48, \"label\", 21);\n      i0.ɵɵtext(49, \" H\\u1EA1n m\\u1EE9c c\\u00F2n l\\u1EA1i c\\u1EE7a TK: \");\n      i0.ɵɵelementStart(50, \"span\", 22);\n      i0.ɵɵtext(51);\n      i0.ɵɵpipe(52, \"number\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(53, \"as-split\", 24)(54, \"as-split-area\", 25)(55, \"dx-tree-list\", 26);\n      i0.ɵɵlistener(\"onSelectionChanged\", function ProjectProductComponent_Template_dx_tree_list_onSelectionChanged_55_listener($event) {\n        return ctx.onSelectionChanged($event);\n      })(\"onRowUpdated\", function ProjectProductComponent_Template_dx_tree_list_onRowUpdated_55_listener($event) {\n        return ctx.onRowUpdated($event);\n      });\n      i0.ɵɵelement(56, \"dxo-selection\", 27)(57, \"dxo-editing\", 28)(58, \"dxi-column\", 29)(59, \"dxi-column\", 30);\n      i0.ɵɵtemplate(60, ProjectProductComponent_div_60_Template, 3, 4, \"div\", 31);\n      i0.ɵɵelement(61, \"dxi-column\", 32);\n      i0.ɵɵtemplate(62, ProjectProductComponent_div_62_Template, 3, 4, \"div\", 31);\n      i0.ɵɵelement(63, \"dxi-column\", 33)(64, \"dxi-column\", 34)(65, \"dxi-column\", 35)(66, \"dxi-column\", 36)(67, \"dxi-column\", 37)(68, \"dxi-column\", 38)(69, \"dxi-column\", 39)(70, \"dxi-column\", 40)(71, \"dxi-column\", 41)(72, \"dxi-column\", 42)(73, \"dxi-column\", 43)(74, \"dxi-column\", 44);\n      i0.ɵɵtemplate(75, ProjectProductComponent_div_75_Template, 3, 4, \"div\", 31);\n      i0.ɵɵelement(76, \"dxi-column\", 45)(77, \"dxi-column\", 46);\n      i0.ɵɵtemplate(78, ProjectProductComponent_div_78_Template, 2, 2, \"div\", 31);\n      i0.ɵɵelement(79, \"dxi-column\", 47);\n      i0.ɵɵtemplate(80, ProjectProductComponent_div_80_Template, 4, 4, \"div\", 31);\n      i0.ɵɵelement(81, \"dxi-column\", 48);\n      i0.ɵɵtemplate(82, ProjectProductComponent_div_82_Template, 4, 4, \"div\", 31);\n      i0.ɵɵelement(83, \"dxi-column\", 49);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(84, \"dx-context-menu\", 50);\n      i0.ɵɵlistener(\"onItemClick\", function ProjectProductComponent_Template_dx_context_menu_onItemClick_84_listener($event) {\n        return ctx.itemClick($event);\n      });\n      i0.ɵɵtemplate(85, ProjectProductComponent_div_85_Template, 4, 2, \"div\", 31);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(86, \"as-split-area\", 51)(87, \"ul\", 52, 53);\n      i0.ɵɵlistener(\"activeIdChange\", function ProjectProductComponent_Template_ul_activeIdChange_87_listener($event) {\n        return ctx.activeTabId = $event;\n      });\n      i0.ɵɵelementStart(89, \"li\", 54)(90, \"a\", 55);\n      i0.ɵɵtext(91, \"Th\\u00F4ng tin\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(92, ProjectProductComponent_ng_template_92_Template, 1, 1, \"ng-template\", 56);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(93, \"li\", 54)(94, \"a\", 55);\n      i0.ɵɵtext(95, \"L\\u1ECBch s\\u1EED VT mua tr\\u01B0\\u1EDBc\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(96, ProjectProductComponent_ng_template_96_Template, 25, 4, \"ng-template\", 56);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(97, \"li\", 54)(98, \"a\", 55);\n      i0.ɵɵtext(99, \"Danh m\\u1EE5c v\\u1EADt t\\u01B0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(100, ProjectProductComponent_ng_template_100_Template, 1, 4, \"ng-template\", 56);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(101, \"div\", 57);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtext(102, \"app-incurred-material \");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      const _r11 = i0.ɵɵreference(88);\n\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"options\", ctx.searchOptions)(\"ngModel\", ctx.model);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(66, _c8));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(67, _c3));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"appUipermission\", i0.ɵɵpureFunction0(68, _c9));\n      i0.ɵɵadvance(10);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 58, ctx.totalParent));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(69, _c10, ctx.totalAmount != ctx.PriceFCM));\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(38, 60, ctx.totalAmount));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(71, _c10, ctx.colorTHTK == true));\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(45, 62, ctx.totalAmountTHTK));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(52, 64, ctx.totalAmount - ctx.totalAmountTHTK - ctx.totalAmountIncurred));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"dataSource\", ctx.listDA)(\"showRowLines\", true)(\"showBorders\", true)(\"columnAutoWidth\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"allowUpdating\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false)(\"minWidth\", 80);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dxTemplateOf\", \"template_ContractCode\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dxTemplateOf\", \"template_ContractName\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false)(\"width\", 75);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false)(\"width\", 75);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false)(\"width\", 125);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dxTemplateOf\", \"template_AmountTHTKTemplate\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dxTemplateOf\", \"template_DesignWorkStatus\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dxTemplateOf\", \"template_DesignCloseDate\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dxTemplateOf\", \"template_GeneralDesignLastDate\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"allowEditing\", false)(\"minWidth\", 200);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dataSource\", ctx.items)(\"width\", 200);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dxTemplateOf\", \"item\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"activeId\", ctx.activeTabId);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngbNavItem\", 1)(\"disabled\", ctx.permissionService.checkPermission(i0.ɵɵpureFunction0(73, _c11)));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngbNavItem\", 2)(\"disabled\", ctx.projectProductModel.DataType != 4 && ctx.projectProductModel.DataType != 3 || ctx.permissionService.checkPermission(i0.ɵɵpureFunction0(74, _c12)));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngbNavItem\", 3)(\"disabled\", ctx.permissionService.checkPermission(i0.ɵɵpureFunction0(75, _c12)));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngbNavOutlet\", _r11);\n    }\n  },\n  styles: [\".as-split-gutter .as-split-gutter-icon{width:100%!important;height:100%!important;background-position:center center;background-repeat:no-repeat}.my-class{text-align:center}.sp-1{height:100%}app-project-product span.dx-checkbox-icon{border-color:#212529!important;background-color:#fff!important}app-project-product .warring_amountTHTK{background-color:#ff0}app-project-product .btn-save{position:absolute;right:0px;top:-25px}app-project-product .tab-content{position:relative}\\n\"],\n  encapsulation: 2\n});\n\n__decorate([BlockUI()], ProjectProductComponent.prototype, \"blockUI\", void 0);","map":null,"metadata":{},"sourceType":"module"}